function host(h){return h.replace("{{host}}",window.location.host)}!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ShellCoreLogic",[],t):"object"==typeof exports?exports.ShellCoreLogic=t():e.ShellCoreLogic=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=69)}([function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=n(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";r.r(t),r.d(t,"ITERATE_KEY",function(){return o}),r.d(t,"computed",function(){return Ne}),r.d(t,"customRef",function(){return ye}),r.d(t,"effect",function(){return c}),r.d(t,"enableTracking",function(){return _}),r.d(t,"isProxy",function(){return de}),r.d(t,"isReactive",function(){return ce}),r.d(t,"isReadonly",function(){return ue}),r.d(t,"isRef",function(){return ge}),r.d(t,"markRaw",function(){return he}),r.d(t,"pauseTracking",function(){return g}),r.d(t,"proxyRefs",function(){return ve}),r.d(t,"reactive",function(){return se}),r.d(t,"readonly",function(){return ie}),r.d(t,"ref",function(){return _e}),r.d(t,"resetTracking",function(){return E}),r.d(t,"shallowReactive",function(){return ae}),r.d(t,"shallowReadonly",function(){return oe}),r.d(t,"shallowRef",function(){return Ee}),r.d(t,"stop",function(){return u}),r.d(t,"toRaw",function(){return pe}),r.d(t,"toRef",function(){return Re}),r.d(t,"toRefs",function(){return Te}),r.d(t,"track",function(){return S}),r.d(t,"trigger",function(){return m}),r.d(t,"triggerRef",function(){return Ce}),r.d(t,"unref",function(){return be});var n=r(6);const s=new WeakMap,a=[];let i;const o=Symbol(""),l=Symbol("");function c(e,t=n.b){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const r=function(e,t){const r=function(){if(!r.active)return t.scheduler?void 0:e();if(!a.includes(r)){p(r);try{return _(),a.push(r),i=r,e()}finally{a.pop(),E(),i=a[a.length-1]}}};return r.id=d++,r.allowRecurse=!!t.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=t,r}(e,t);return t.lazy||r(),r}function u(e){e.active&&(p(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let d=0;function p(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let h=!0;const f=[];function g(){f.push(h),h=!1}function _(){f.push(h),h=!0}function E(){const e=f.pop();h=void 0===e||e}function S(e,t,r){if(!h||void 0===i)return;let n=s.get(e);n||s.set(e,n=new Map);let a=n.get(r);a||n.set(r,a=new Set),a.has(i)||(a.add(i),i.deps.push(a))}function m(e,t,r,a,c,u){const d=s.get(e);if(!d)return;const p=new Set,h=e=>{e&&e.forEach(e=>{(e!==i||e.allowRecurse)&&p.add(e)})};if("clear"===t)d.forEach(h);else if("length"===r&&Object(n.n)(e))d.forEach((e,t)=>{("length"===t||t>=a)&&h(e)});else switch(void 0!==r&&h(d.get(r)),t){case"add":Object(n.n)(e)?Object(n.r)(r)&&h(d.get("length")):(h(d.get(o)),Object(n.s)(e)&&h(d.get(l)));break;case"delete":Object(n.n)(e)||(h(d.get(o)),Object(n.s)(e)&&h(d.get(l)));break;case"set":Object(n.s)(e)&&h(d.get(o))}p.forEach(e=>{e.options.scheduler?e.options.scheduler(e):e()})}const C=Object(n.F)("__proto__,__v_isRef,__isVue"),b=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(n.C)),A=I(),v=I(!1,!0),P=I(!0),y=I(!0,!0),T={};function I(e=!1,t=!1){return function(r,s,a){if("__v_isReactive"===s)return!e;if("__v_isReadonly"===s)return e;if("__v_raw"===s&&a===(e?ne:re).get(r))return r;const i=Object(n.n)(r);if(!e&&i&&Object(n.k)(T,s))return Reflect.get(T,s,a);const o=Reflect.get(r,s,a);if(Object(n.C)(s)?b.has(s):C(s))return o;if(e||S(r,0,s),t)return o;if(ge(o)){return!i||!Object(n.r)(s)?o.value:o}return Object(n.u)(o)?e?ie(o):se(o):o}}["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];T[e]=function(...e){const r=pe(this);for(let e=0,t=this.length;e<t;e++)S(r,0,e+"");const n=t.apply(r,e);return-1===n||!1===n?t.apply(r,e.map(pe)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];T[e]=function(...e){g();const r=t.apply(this,e);return E(),r}});const R=N(),O=N(!0);function N(e=!1){return function(t,r,s,a){const i=t[r];if(!e&&(s=pe(s),!Object(n.n)(t)&&ge(i)&&!ge(s)))return i.value=s,!0;const o=Object(n.n)(t)&&Object(n.r)(r)?Number(r)<t.length:Object(n.k)(t,r),l=Reflect.set(t,r,s,a);return t===pe(a)&&(o?Object(n.j)(s,i)&&m(t,"set",r,s):m(t,"add",r,s)),l}}const L={get:A,set:R,deleteProperty:function(e,t){const r=Object(n.k)(e,t),s=(e[t],Reflect.deleteProperty(e,t));return s&&r&&m(e,"delete",t,void 0),s},has:function(e,t){const r=Reflect.has(e,t);return Object(n.C)(t)&&b.has(t)||S(e,0,t),r},ownKeys:function(e){return S(e,0,Object(n.n)(e)?"length":o),Reflect.ownKeys(e)}},B={get:P,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},x=Object(n.h)({},L,{get:v,set:O}),D=Object(n.h)({},B,{get:y}),M=e=>Object(n.u)(e)?se(e):e,w=e=>Object(n.u)(e)?ie(e):e,k=e=>e,U=e=>Reflect.getPrototypeOf(e);function F(e,t,r=!1,n=!1){const s=pe(e=e.__v_raw),a=pe(t);t!==a&&!r&&S(s,0,t),!r&&S(s,0,a);const{has:i}=U(s),o=r?w:n?k:M;return i.call(s,t)?o(e.get(t)):i.call(s,a)?o(e.get(a)):void 0}function j(e,t=!1){const r=this.__v_raw,n=pe(r),s=pe(e);return e!==s&&!t&&S(n,0,e),!t&&S(n,0,s),e===s?r.has(e):r.has(e)||r.has(s)}function V(e,t=!1){return e=e.__v_raw,!t&&S(pe(e),0,o),Reflect.get(e,"size",e)}function G(e){e=pe(e);const t=pe(this);return U(t).has.call(t,e)||(t.add(e),m(t,"add",e,e)),this}function X(e,t){t=pe(t);const r=pe(this),{has:s,get:a}=U(r);let i=s.call(r,e);i||(e=pe(e),i=s.call(r,e));const o=a.call(r,e);return r.set(e,t),i?Object(n.j)(t,o)&&m(r,"set",e,t):m(r,"add",e,t),this}function $(e){const t=pe(this),{has:r,get:n}=U(t);let s=r.call(t,e);s||(e=pe(e),s=r.call(t,e));n&&n.call(t,e);const a=t.delete(e);return s&&m(t,"delete",e,void 0),a}function H(){const e=pe(this),t=0!==e.size,r=e.clear();return t&&m(e,"clear",void 0,void 0),r}function W(e,t){return function(r,n){const s=this,a=s.__v_raw,i=pe(a),l=e?w:t?k:M;return!e&&S(i,0,o),a.forEach((e,t)=>r.call(n,l(e),l(t),s))}}function Y(e,t,r){return function(...s){const a=this.__v_raw,i=pe(a),c=Object(n.s)(i),u="entries"===e||e===Symbol.iterator&&c,d="keys"===e&&c,p=a[e](...s),h=t?w:r?k:M;return!t&&S(i,0,d?l:o),{next(){const{value:e,done:t}=p.next();return t?{value:e,done:t}:{value:u?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function K(e){return function(...t){return"delete"!==e&&this}}const q={get(e){return F(this,e)},get size(){return V(this)},has:j,add:G,set:X,delete:$,clear:H,forEach:W(!1,!1)},J={get(e){return F(this,e,!1,!0)},get size(){return V(this)},has:j,add:G,set:X,delete:$,clear:H,forEach:W(!1,!0)},z={get(e){return F(this,e,!0)},get size(){return V(this,!0)},has(e){return j.call(this,e,!0)},add:K("add"),set:K("set"),delete:K("delete"),clear:K("clear"),forEach:W(!0,!1)};function Z(e,t){const r=t?J:e?z:q;return(t,s,a)=>"__v_isReactive"===s?!e:"__v_isReadonly"===s?e:"__v_raw"===s?t:Reflect.get(Object(n.k)(r,s)&&s in t?r:t,s,a)}["keys","values","entries",Symbol.iterator].forEach(e=>{q[e]=Y(e,!1,!1),z[e]=Y(e,!0,!1),J[e]=Y(e,!1,!0)});const Q={get:Z(!1,!1)},ee={get:Z(!1,!0)},te={get:Z(!0,!1)};const re=new WeakMap,ne=new WeakMap;function se(e){return e&&e.__v_isReadonly?e:le(e,!1,L,Q)}function ae(e){return le(e,!1,x,ee)}function ie(e){return le(e,!0,B,te)}function oe(e){return le(e,!0,D,te)}function le(e,t,r,s){if(!Object(n.u)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=t?ne:re,i=a.get(e);if(i)return i;const o=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(Object(n.M)(e))}(e);if(0===o)return e;const l=new Proxy(e,2===o?s:r);return a.set(e,l),l}function ce(e){return ue(e)?ce(e.__v_raw):!(!e||!e.__v_isReactive)}function ue(e){return!(!e||!e.__v_isReadonly)}function de(e){return ce(e)||ue(e)}function pe(e){return e&&pe(e.__v_raw)||e}function he(e){return Object(n.g)(e,"__v_skip",!0),e}const fe=e=>Object(n.u)(e)?se(e):e;function ge(e){return Boolean(e&&!0===e.__v_isRef)}function _e(e){return me(e)}function Ee(e){return me(e,!0)}class Se{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:fe(e)}get value(){return S(pe(this),0,"value"),this._value}set value(e){Object(n.j)(pe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:fe(e),m(pe(this),"set","value",e))}}function me(e,t=!1){return ge(e)?e:new Se(e,t)}function Ce(e){m(pe(e),"set","value",void 0)}function be(e){return ge(e)?e.value:e}const Ae={get:(e,t,r)=>be(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return ge(s)&&!ge(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function ve(e){return ce(e)?e:new Proxy(e,Ae)}class Pe{constructor(e){this.__v_isRef=!0;const{get:t,set:r}=e(()=>S(this,0,"value"),()=>m(this,"set","value"));this._get=t,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function ye(e){return new Pe(e)}function Te(e){const t=Object(n.n)(e)?new Array(e.length):{};for(const r in e)t[r]=Re(e,r);return t}class Ie{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Re(e,t){return ge(e[t])?e[t]:new Ie(e,t)}class Oe{constructor(e,t,r){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=c(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,m(pe(this),"set","value"))}}),this.__v_isReadonly=r}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),S(pe(this),0,"value"),this._value}set value(e){this._setter(e)}}function Ne(e){let t,r;return Object(n.o)(e)?(t=e,r=n.d):(t=e.get,r=e.set),new Oe(t,r,Object(n.o)(e)||!e.set)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static get BE2_BASIC_FUNCTION(){return"be2BasicFunction"}static get MSG_VERSION(){return"1.0"}static get BE2_BASIC_RESPONSE(){return"be2BasicResponse"}static get enumBE2BasicFunc(){return{FJP_Init:0,FJP_Op:1,FJP_GetCurrentHandpayParams:2,FJP_Event:3,GetPointPlayBalance:12,ValueToPoints:13,ConvertPoints:14,GetXtraCreditBalance:15,MoveCredits:16,LockPin:17,MP_Toggle:19,PT_Get_Player_Menu_State:20,GetCashlessParameters:22,Cashless_TransferFromGame:23,Cashless_TransferFromCard:24,MP_DenomCheck:25,MP_PointsToCash:26,MP_GetEgmDenom:27,MP_SetBonusLight:28,Cashless_Pin_Verify:29,Cashless_IsPinLocked:30,GetCashlessLimits:31,GetCashlessFlags:32,CashlessPinValid:33,SetMenuCardLocked:45,Cashless_Pin_Check_Needed:46,GetPointPlayLimitedBalance:47,PT_GetPlayerLevel:48,GetMoreCashlessLimits:49,PT_Get_Player_Data:50,MENU_GetXPCParameters:56,MENU_Card_Duplicate:57,FJP_IsJPWitnessRequired:61,MP_PointsToXtraCredits:70,PT_Get_Bonusing_Status:71,MENU_IsENTEROnPINReq:72,PIN_GetStateInfo:73,PIN_Check_PIN_Needed:75,PIN_ValidatePIN:76,PIN_GetPinStatus:77,PIN_GetCardType:78,Cashless_ForceUnlock:84,PIN_ForcePIN:85,PIN_NotEntered:87,Cashless_Get_Config_Data:88,LOLSCH_PatronRequestUnlock:99,MP_PointsToPayment:100,MP_CheckPointPayCode:101,MENU_SetAutoPlayStatus:102,MENU_GetAutoPlayStatus:103,PT_Get_Point_Pay_Available:104,PayToCreditEnableEgm:105,Cashless_GetStatus:106,PIN_OverridePINScreen:107,PIN_SetForcePIN:108,MISC_ToneABI:109,MISC_BezelColor:110,CancelXtraCredit:111,TransferXtraCredit:114,ContentLockGame:115,OverrideW2GAccrualScreen:116}}static createBE2BasicFunctionArr(e){const t=[];for(let r=0;r<e.length;r++)t.push({functionCode:e[r][0],arguments:e[r][1]});return t}static createBE2BasicFunctionReq(e){return{cmd:n.BE2_BASIC_FUNCTION,ver:n.MSG_VERSION,be2BasicFunction:e}}static getBE2BasicFunctionMap(e,t){const r={};for(let n=0;n<e.length;n++)for(let s=0;s<t.length;s++)if(e[n]===t[s].functionCode){r[e[n]]=t[s].retvals;break}return r}static createHostEventButtonPress(e,t,r,n){return{cmd:"hostEventButtonPress",ver:"1.0",hostEventButtonPress:{hostEventId:e,subEventId:t,onlineOnly:r,bonusId:n}}}static createVpcPin(e){return{cmd:"vpcPIN",ver:"1.0",pin:e}}static createShowHost(e){return{cmd:"showWindow",ver:"1.0",showWindow:e}}static createVpcGetPlayerData(){return{cmd:"vpcGetPlayerData",ver:"1.0"}}static createVpcButtonPress(e){return{cmd:"vpcButtonPress",ver:"1.0",vpcButtonPress:e}}static createGetServerAddresses(e){return{cmd:"getServerAddresses",ver:"1.0",getServerAddresses:e}}static createForceCardOut(){return{cmd:"forceCardOut",ver:"1.0"}}static createScreenTrigger(e,t,r){return{cmd:"screenTrigger",screenTrigger:{screenId:this.normalizeId(e),displayMessage:t,messageTokens:r}}}static createTokenUpdate(e,t){return{cmd:"tokenUpdate",tokenUpdate:[{id:this.normalizeId(e),value:t}]}}static createButtonPress(e){return{cmd:"buttonPress",ver:"1.0",buttonPress:e}}static createGetQRCode(){return{cmd:"getQRcode",ver:"1.0"}}static createUserTokenUpdate(e,t){return{cmd:"userTokenUpdate",userTokenUpdate:[{id:this.normalizeId(e),value:t}]}}static normalizeId(e){return"string"==typeof e?n.createIdString(parseInt(e,16)):n.createIdString(e)}static createIdString(e){const t=e.toString(16);let r=t;return 1===t.length&&(r="0"+t),"0x"+r.toUpperCase()}static createBE2BasicRespMsg(e,t){return{cmd:this.BE2_BASIC_RESPONSE,ver:this.MSG_VERSION,be2BasicResponse:[{functionCode:e,retvals:[t[0],t[1],t[2],t[3]]}]}}static getBE2BasicRespMsg(e){const t={cmd:this.BE2_BASIC_RESPONSE,ver:this.MSG_VERSION,be2BasicResponse:[]};for(let r=0;r<e.length;r++)t.be2BasicResponse.push({functionCode:e[r][0],retvals:e[r][1]});return t}}t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static publish(e,t){const r=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!1});window.dispatchEvent(r)}static subscribe(e,t,r){window.addEventListener(e,t,r||!1)}static unsubscribe(e,t){window.removeEventListener(e,t)}}},function(e,t,r){!function(e){var t={};e.EMULATION_SCREEN="0x00",t[e.EMULATION_SCREEN]="Emulation Screen",e.WELCOME_SCREEN="0x10",t[e.WELCOME_SCREEN]="Welcome Screen",e.SESSION_SCREEN="0x11",t[e.SESSION_SCREEN]="Session Screen",e.INVALID_CARD_SCREEN="0x12",t[e.INVALID_CARD_SCREEN]="Invalid Card Screen",e.ATTENDANT_WELCOME_SCREEN="0x13",t[e.ATTENDANT_WELCOME_SCREEN]="Attendant Welcome Screen",e.XTRA_CREDIT_SESSION_SCREEN="0x14",t[e.XTRA_CREDIT_SESSION_SCREEN]="Xtra Credit Session Screen",e.RETURN_PLAY_POINTS_TO_GO_SCREEN="0x15",t[e.RETURN_PLAY_POINTS_TO_GO_SCREEN]="Return Play Points To Go Screen",e.RETURN_PLAY_AWARD_SCREEN="0x16",t[e.RETURN_PLAY_AWARD_SCREEN]="Return Play Award Screen",e.POINT_MULTIPLIER_SCREEN="0x17",t[e.POINT_MULTIPLIER_SCREEN]="Point Multiplier Screen",e.POOL_1_CARDED_LUCKY_COIN_RESET="0x1B",e.CARDED_LUCKY_COIN_RESET="0x1B",t[e.POOL_1_CARDED_LUCKY_COIN_RESET]="Pool 1 Carded Lucky Coin Reset",e.POOL_2_CARDED_LUCKY_COIN_RESET="0x1C",t[e.POOL_2_CARDED_LUCKY_COIN_RESET]="Pool 2 Carded Lucky Coin Reset",e.POOL_3_CARDED_LUCKY_COIN_RESET="0x1D",t[e.POOL_3_CARDED_LUCKY_COIN_RESET]="Pool 3  Carded Lucky Coin Reset",e.CARDED_LUCKY_COIN_NON_PARTICIPATION="0x1E",t[e.CARDED_LUCKY_COIN_NON_PARTICIPATION]="Carded Lucky Coin Non-Participation",e.MULTI_PROPERTY_CARDED_LUCKY_COIN_NON_PARTICIPATION="0x1F",t[e.MULTI_PROPERTY_CARDED_LUCKY_COIN_NON_PARTICIPATION]="Multi Property Carded Lucky Coin Non-Participation",e.CELEBRATION_AWARD="0x20",t[e.CELEBRATION_AWARD]="Celebration Award",e.LUCKY_COIN_WINNER="0x21",e.BONUS_WIN="0x21",t[e.BONUS_WIN]="Bonus Win",e.MJT_SESSION="0x22",t[e.MJT_SESSION]="MJT Session",e.UNIVERSAL_4_SCREEN="0x23",t[e.UNIVERSAL_4_SCREEN]="Universal Screen 4",e.HANDPAY_JACKPOT="0x24",t[e.HANDPAY_JACKPOT]="Handpay / Jackpot",e.LUCKY_COIN_REMINDER="0x25",t[e.LUCKY_COIN_REMINDER]="Lucky Coin Reminder",e.PRELIMINARY_WELCOME="0x26",t[e.PRELIMINARY_WELCOME]="Preliminary Welcome",e.PERSONAL_LUCKY_COIN_STATUS="0x27",t[e.PERSONAL_LUCKY_COIN_STATUS]="Personal Lucky Coin Status",e.POOL_1_MULTI_PROPERTY_CARDED_LUCKY_COIN_JACKPOT="0x28",t[e.POOL_1_MULTI_PROPERTY_CARDED_LUCKY_COIN_JACKPOT]="Pool 1 Multi Property Carded Lucky Coin Jackpot",e.POOL_2_MULTI_PROPERTY_CARDED_LUCKY_COIN_JACKPOT="0x29",t[e.POOL_2_MULTI_PROPERTY_CARDED_LUCKY_COIN_JACKPOT]="Pool 2 Multi Property Carded Lucky Coin Jackpot",e.POOL_3_MULTI_PROPERTY_CARDED_LUCKY_COIN_JACKPOT="0x2A",t[e.POOL_3_MULTI_PROPERTY_CARDED_LUCKY_COIN_JACKPOT]="Pool 3 Multi Property Carded Lucky Coin Jackpot",e.POOL_1_CARDED_LUCKY_COIN_JACKPOT="0x2B",t[e.POOL_1_CARDED_LUCKY_COIN_JACKPOT]="Pool 1 Carded Lucky Coin Jackpot",e.POOL_2_CARDED_LUCKY_COIN_JACKPOT="0x2C",t[e.POOL_2_CARDED_LUCKY_COIN_JACKPOT]="Pool 2 Carded Lucky Coin Jackpot",e.POOL_3_CARDED_LUCKY_COIN_JACKPOT="0x2D",t[e.POOL_3_CARDED_LUCKY_COIN_JACKPOT]="Pool 3 Carded Lucky Coin Jackpot",e.TITO_EVENT_SCREEN="0x2E",t[e.TITO_EVENT_SCREEN]="TITO Event Screen",e.PERSONAL_LUCKY_COIN_WINNER="0x30",t[e.PERSONAL_LUCKY_COIN_WINNER]="Personal Lucky Coin Winner",e.ANNIVERSARY_SCREEN="0x31",t[e.ANNIVERSARY_SCREEN]="Anniversary Screen",e.BIRTHDAY_SCREEN="0x32",t[e.BIRTHDAY_SCREEN]="Birthday Screen",e.XTRA_CREDIT_EXIT_SCREEN="0x33",t[e.XTRA_CREDIT_EXIT_SCREEN]="Xtra-Credit Exit Screen",e.POINT_PLAY_SESSION="0x34",t[e.POINT_PLAY_SESSION]="Point Play Session",e.POINT_PLAY_SESSION_EXIT="0x35",t[e.POINT_PLAY_SESSION_EXIT]="Point Play Session Exit",e.ABANDONED_CARD_SCREEN="0x36",t[e.ABANDONED_CARD_SCREEN]="Abandoned Card Screen",e.MJT_APPRECIATION_TIME="0x37",t[e.MJT_APPRECIATION_TIME]="MJT Appreciation Time",e.POOL_1_MAGIC_COIN_JACKPOT="0x38",t[e.POOL_1_MAGIC_COIN_JACKPOT]="Pool 1 Magic Coin Jackpot",e.POOL_2_MAGIC_COIN_JACKPOT="0x39",t[e.POOL_2_MAGIC_COIN_JACKPOT]="Pool 2 Magic Coin Jackpot",e.POOL_3_MAGIC_COIN_JACKPOT="0x3A",t[e.POOL_3_MAGIC_COIN_JACKPOT]="Pool 3 Magic Coin Jackpot",e.POOL_1_MAGIC_COIN_RESET="0x3B",t[e.POOL_1_MAGIC_COIN_RESET]="Pool 1 Magic Coin Reset",e.POOL_2_MAGIC_COIN_RESET="0x3C",t[e.POOL_2_MAGIC_COIN_RESET]="Pool 2 Magic Coin Reset",e.POOL_3_MAGIC_COIN_RESET="0x3D",t[e.POOL_3_MAGIC_COIN_RESET]="Pool 3  Magic Coin Reset",e.MAGIC_COIN_NON_PARTICIPATION="0x3E",t[e.MAGIC_COIN_NON_PARTICIPATION]="Magic Coin Non-Participation",e.JACKPOT_SCREEN="0x40",t[e.JACKPOT_SCREEN]="Jackpot Screen",e.POOL_1_MULTI_PROPERTY_CARDED_LUCKY_COIN_RESET="0x44",t[e.POOL_1_MULTI_PROPERTY_CARDED_LUCKY_COIN_RESET]="Pool 1 Multi Property Carded Lucky Coin Reset",e.POOL_2_MULTI_PROPERTY_CARDED_LUCKY_COIN_RESET="0x45",t[e.POOL_2_MULTI_PROPERTY_CARDED_LUCKY_COIN_RESET]="Pool 2 Multi Property Carded Lucky Coin Reset",e.POOL_3_MULTI_PROPERTY_CARDED_LUCKY_COIN_RESET="0x46",t[e.POOL_3_MULTI_PROPERTY_CARDED_LUCKY_COIN_RESET]="Pool 3 Multi Property Carded Lucky Coin Reset",e.IDLE_SCREEN="0x47",t[e.IDLE_SCREEN]="Idle Screen",e.W2G_ACCRUAL_SCREEN="0x4B",t[e.W2G_ACCRUAL_SCREEN]="W2G Accrual Screen",e.IRESERVE_SCREEN="0x4C",t[e.IRESERVE_SCREEN]="IReserve Screen",e.UNIVERSAL_SCREEN_1="0x4D",t[e.UNIVERSAL_SCREEN_1]="Universal Screen 1",e.UNIVERSAL_SCREEN_2="0x4E",t[e.UNIVERSAL_SCREEN_2]="Universal Screen 2",e.UNIVERSAL_SCREEN_3="0x4F",t[e.UNIVERSAL_SCREEN_3]="Universal Screen 3",e.RESPONSIBLE_GAMING_SCREEN_1="0x50",t[e.RESPONSIBLE_GAMING_SCREEN_1]="Responsible Gaming Screen 1",e.RESPONSIBLE_GAMING_SCREEN_2="0x51",t[e.RESPONSIBLE_GAMING_SCREEN_2]="Responsible Gaming Screen 2",e.RESPONSIBLE_GAMING_SCREEN_3="0x52",t[e.RESPONSIBLE_GAMING_SCREEN_3]="Responsible Gaming Screen 3",e.RESPONSIBLE_GAMING_SCREEN_4="0x53",t[e.RESPONSIBLE_GAMING_SCREEN_4]="Responsible Gaming Screen 4",e.RESPONSIBLE_GAMING_SCREEN_5="0x54",t[e.RESPONSIBLE_GAMING_SCREEN_5]="Responsible Gaming Screen 5",e.RESPONSIBLE_GAMING_SCREEN_6="0x55",t[e.RESPONSIBLE_GAMING_SCREEN_6]="Responsible Gaming Screen 6",e.SMART_CARD_SCREEN_1="0x56",t[e.SMART_CARD_SCREEN_1]="Smart Card Screen High balance warning",e.SMART_CARD_SCREEN_2="0x57",t[e.SMART_CARD_SCREEN_2]="Smart Card Screen Low balance warning",e.SMART_CARD_SCREEN_3="0x58",t[e.SMART_CARD_SCREEN_3]="Smart Card Screen Card disabled",e.SMART_CARD_SCREEN_4="0x59",t[e.SMART_CARD_SCREEN_4]="Smart Card Screen Transfer failure",e.SMART_CARD_SCREEN_5="0x5A",t[e.SMART_CARD_SCREEN_5]="Smart Card Screen Auto-transfer",e.SMART_CARD_SCREEN_6="0x5B",t[e.SMART_CARD_SCREEN_6]="Smart Card Screen Unregistered card active",e.SMART_CARD_SCREEN_7="0x5C",t[e.SMART_CARD_SCREEN_7]="Smart Card Screen Please wait",e.SMART_CARD_SCREEN_8="0x5D",t[e.SMART_CARD_SCREEN_8]="Smart Card Screen Cashless unavailable",e.MJT_SESSION_TIME_SCREEN="0x5E",t[e.MJT_SESSION_TIME_SCREEN]="MJT Session Time Screen",e.MJT_SESSION_GAMES_SCREEN="0x5F",t[e.MJT_SESSION_GAMES_SCREEN]="MJT Session Games Screen",e.IN_SESSION_MESSAGE_SCREEN_1="0x68",t[e.IN_SESSION_MESSAGE_SCREEN_1]="In Session Message Screen 1",e.IN_SESSION_MESSAGE_SCREEN_2="0x69",t[e.IN_SESSION_MESSAGE_SCREEN_2]="In Session Message Screen 2",e.IN_SESSION_MESSAGE_SCREEN_3="0x6A",t[e.IN_SESSION_MESSAGE_SCREEN_3]="In Session Message Screen 3",e.IN_SESSION_MESSAGE_SCREEN_4="0x6B",t[e.IN_SESSION_MESSAGE_SCREEN_4]="In Session Message Screen 4",e.IN_SESSION_MESSAGE_SCREEN_5="0x6C",t[e.IN_SESSION_MESSAGE_SCREEN_5]="In Session Message Screen 5",e.IN_SESSION_MESSAGE_SCREEN_6="0x6D",t[e.IN_SESSION_MESSAGE_SCREEN_6]="In Session Message Screen 6",e.IN_SESSION_MESSAGE_SCREEN_7="0x6E",t[e.IN_SESSION_MESSAGE_SCREEN_7]="In Session Message Screen 7",e.IN_SESSION_MESSAGE_SCREEN_8="0x6F",t[e.IN_SESSION_MESSAGE_SCREEN_8]="In Session Message Screen 8",e.BONUS_BY_PLAYER_GROUP_SCREEN_1="0x78",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_1]="Bonus By Player Group Screen 1",e.BONUS_BY_PLAYER_GROUP_SCREEN_2="0x79",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_2]="Bonus By Player Group Screen 2",e.BONUS_BY_PLAYER_GROUP_SCREEN_3="0x7A",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_3]="Bonus By Player Group Screen 3",e.BONUS_BY_PLAYER_GROUP_SCREEN_4="0x7B",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_4]="Bonus By Player Group Screen 4",e.BONUS_BY_PLAYER_GROUP_SCREEN_5="0x7C",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_5]="Bonus By Player Group Screen 5",e.BONUS_BY_PLAYER_GROUP_SCREEN_6="0x7D",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_6]="Bonus By Player Group Screen 6",e.BONUS_BY_PLAYER_GROUP_SCREEN_7="0x7E",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_7]="Bonus By Player Group Screen 7",e.BONUS_BY_PLAYER_GROUP_SCREEN_8="0x7F",t[e.BONUS_BY_PLAYER_GROUP_SCREEN_8]="Bonus By Player Group Screen 8",e.CARD_EXIT_SCREEN="0x80",t[e.CARD_EXIT_SCREEN]="Card Exit Screen",e.UNIVERSAL_5_SCREEN="0x81",t[e.UNIVERSAL_5_SCREEN]="Universal 5 Screen",e.MENU_SCREEN="0x82",t[e.MENU_SCREEN]="Menu Screen",e.PIN_ENTRY_SCREEN="0x83",t[e.PIN_ENTRY_SCREEN]="Pin Entry Screen",e.POINT_PLAY_SCREEN="0x84",t[e.POINT_PLAY_SCREEN]="Point Play Screen",e.POINT_PLAY_CONFIRM_SCREEN="0x85",t[e.POINT_PLAY_CONFIRM_SCREEN]="Point Play Confirm Screen",e.CASHLESS_TRANSFER_SCREEN="0x86",t[e.CASHLESS_TRANSFER_SCREEN]="Cashless Transfer Screen",e.CASHLESS_TRANSFER_CONFIRM_SCREEN="0x87",t[e.CASHLESS_TRANSFER_CONFIRM_SCREEN]="Cashless Transfer Confirm Screen",e.ACCOUNT_SUMMARY_SCREEN="0x88",t[e.ACCOUNT_SUMMARY_SCREEN]="Account Summary Screen",e.SCC_TRANSFER_ENTRY_SCREEN="0x89",t[e.SCC_TRANSFER_ENTRY_SCREEN]="SCC Transfer Entry Screen",e.UNIVERSAL_BONUS_SCREEN_1="0x8A",t[e.UNIVERSAL_BONUS_SCREEN_1]="Universal Bonus Screen 1",e.UNIVERSAL_BONUS_SCREEN_2="0x8B",t[e.UNIVERSAL_BONUS_SCREEN_2]="Universal Bonus Screen 2",e.UNIVERSAL_BONUS_SCREEN_3="0x8C",t[e.UNIVERSAL_BONUS_SCREEN_3]="Universal Bonus Screen 3",e.UNIVERSAL_BONUS_SCREEN_4="0x8D",t[e.UNIVERSAL_BONUS_SCREEN_4]="Universal Bonus Screen 4",e.UNIVERSAL_BONUS_SCREEN_5="0x8E",t[e.UNIVERSAL_BONUS_SCREEN_5]="Universal Bonus Screen 5",e.UNIVERSAL_BONUS_SCREEN_6="0x8F",t[e.UNIVERSAL_BONUS_SCREEN_6]="Universal Bonus Screen 6",e.UNIVERSAL_BONUS_SCREEN_7="0x90",t[e.UNIVERSAL_BONUS_SCREEN_7]="Universal Bonus Screen 7",e.UNIVERSAL_BONUS_SCREEN_8="0x91",t[e.UNIVERSAL_BONUS_SCREEN_8]="Universal Bonus Screen 8",e.UNIVERSAL_BONUS_SCREEN_9="0x92",t[e.UNIVERSAL_BONUS_SCREEN_9]="Universal Bonus Screen 9",e.UNIVERSAL_BONUS_SCREEN_10="0x93",t[e.UNIVERSAL_BONUS_SCREEN_10]="Universal Bonus Screen 10",e.VPC_PIN_SCREEN="0x94",t[e.VPC_PIN_SCREEN]="VPC PIN Screen",e.VPC_PIN_VALIDATING_SCREEN="0x95",t[e.VPC_PIN_VALIDATING_SCREEN]="VPC Pin Validating Screen",e.VPC_PIN_LOCKED_SCREEN="0x96",t[e.VPC_PIN_LOCKED_SCREEN]="VPC Pin Locked Screen",e.VPC_PIN_FAILURE_SCREEN="0x97",t[e.VPC_PIN_FAILURE_SCREEN]="VPC Pin Failure Screen",e.VPC_PIN_SUCCESS_SCREEN="0x98",t[e.VPC_PIN_SUCCESS_SCREEN]="VPC Pin Success Screen",e.VPC_HOST_DOWN_SCREEN="0x99",t[e.VPC_HOST_DOWN_SCREEN]="VPC Host Down Screen",e.VPC_INVALID_CARD_SCREEN="0x9A",t[e.VPC_INVALID_CARD_SCREEN]="VPC Invalid Card Screen",e.VPC_ACCOUNT_CANCELLED_SCREEN="0x9B",t[e.VPC_ACCOUNT_CANCELLED_SCREEN]="VPC Account Cancelled Screen",e.VPC_NO_LIMIT_SCREEN="0x9C",t[e.VPC_NO_LIMIT_SCREEN]="VPC No Limit Screen",e.VPC_ZERO_LIMIT_SCREEN="0x9D",t[e.VPC_ZERO_LIMIT_SCREEN]="VPC Zero Limit Screen",e.VPC_CARD_IN_USE_SCREEN="0x9E",t[e.VPC_CARD_IN_USE_SCREEN]="VPC Card In Use Screen",e.VPC_LIMIT_1_HIT_SCREEN="0x9F",t[e.VPC_LIMIT_1_HIT_SCREEN]="VPC Limit 1 Hit Screen",e.VPC_LIMIT_2_HIT_SCREEN="0xA0",t[e.VPC_LIMIT_2_HIT_SCREEN]="VPC Limit 2 Hit Screen",e.VPC_MULTIPLE_LIMIT_HIT_SCREEN="0xA1",t[e.VPC_MULTIPLE_LIMIT_HIT_SCREEN]="VPC Multiple Limit Hit Screen",e.VPC_LIMIT_1_ALERT_1_SCREEN="0xA2",t[e.VPC_LIMIT_1_ALERT_1_SCREEN]="VPC Limit 1 Alert 1 Screen",e.VPC_LIMIT_1_ALERT_2_SCREEN="0xA3",t[e.VPC_LIMIT_1_ALERT_2_SCREEN]="VPC Limit 1 Alert 2 Screen",e.VPC_LIMIT_2_ALERT_1_SCREEN="0xA4",t[e.VPC_LIMIT_2_ALERT_1_SCREEN]="VPC Limit 2 Alert 1 Screen",e.VPC_LIMIT_2_ALERT_2_SCREEN="0xA5",t[e.VPC_LIMIT_2_ALERT_2_SCREEN]="VPC Limit 2 Alert 2 Screen",e.VPC_ABANDONDED_CARD_SCREEN="0xA6",t[e.VPC_ABANDONDED_CARD_SCREEN]="VPC Abandonded Card Screen",e.VPC_LIVE_ACTION_SUMMARY_SCREEN="0xA7",t[e.VPC_LIVE_ACTION_SUMMARY_SCREEN]="VPC Live Action Summary Screen",e.VPC_REMOVE_CARD_SCREEN="0xA8",t[e.VPC_REMOVE_CARD_SCREEN]="VPC Remove Card Screen",e.VPC_STATEMENT_AVAILABLE_SCREEN="0xA9",t[e.VPC_STATEMENT_AVAILABLE_SCREEN]="VPC Statement Available Screen",e.VPC_LOGIN_TIMEOUT_SCREEN="0xAA",t[e.VPC_LOGIN_TIMEOUT_SCREEN]="VPC Login Timeout Screen",e.VPC_LIMIT_1_ALERT_3="0xAB",t[e.VPC_LIMIT_1_ALERT_3]="VPC Limit 1 Alert 3",e.VPC_LIMIT_2_ALERT_3="0xAC",t[e.VPC_LIMIT_2_ALERT_3]="VPC Limit 2 Alert 3",e.VPC_IDLE_SCREEN="0xAD",t[e.VPC_IDLE_SCREEN]="VPC Idle Screen",e.VPC_CARD_OUT_SCREEN="0xAE",t[e.VPC_CARD_OUT_SCREEN]="VPC Card-out Screen",e.SCRN_TAX_TRANSFER="0xAF",t[e.SCRN_TAX_TRANSFER]="Scrn Tax Transfer",e.getText=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error("code does not exist: "+e)}}(t)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";(function(e){function n(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}r.d(t,"a",function(){return m}),r.d(t,"b",function(){return S}),r.d(t,"c",function(){return b}),r.d(t,"d",function(){return C}),r.d(t,"e",function(){return W}),r.d(t,"f",function(){return q}),r.d(t,"g",function(){return Q}),r.d(t,"h",function(){return y}),r.d(t,"i",function(){return re}),r.d(t,"j",function(){return z}),r.d(t,"k",function(){return R}),r.d(t,"l",function(){return K}),r.d(t,"m",function(){return Z}),r.d(t,"n",function(){return O}),r.d(t,"o",function(){return x}),r.d(t,"p",function(){return s}),r.d(t,"q",function(){return p}),r.d(t,"r",function(){return G}),r.d(t,"s",function(){return N}),r.d(t,"t",function(){return P}),r.d(t,"u",function(){return w}),r.d(t,"v",function(){return v}),r.d(t,"w",function(){return k}),r.d(t,"x",function(){return X}),r.d(t,"y",function(){return h}),r.d(t,"z",function(){return L}),r.d(t,"A",function(){return i}),r.d(t,"B",function(){return D}),r.d(t,"C",function(){return M}),r.d(t,"D",function(){return f}),r.d(t,"E",function(){return g}),r.d(t,"F",function(){return n}),r.d(t,"G",function(){return d}),r.d(t,"H",function(){return o}),r.d(t,"I",function(){return T}),r.d(t,"J",function(){return _}),r.d(t,"K",function(){return J}),r.d(t,"L",function(){return ee}),r.d(t,"M",function(){return j});const s=n("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",i=n(a);function o(e){if(O(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=o(D(n)?u(n):n);if(s)for(const e in s)t[e]=s[e]}return t}if(w(e))return e}const l=/;(?![^(]*\))/g,c=/:(.+)/;function u(e){const t={};return e.split(l).forEach(e=>{if(e){const r=e.split(c);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function d(e){let t="";if(D(e))t=e;else if(O(e))for(let r=0;r<e.length;r++){const n=d(e[r]);n&&(t+=n+" ")}else if(w(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const p=n("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),h=n("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view");function f(e,t){if(e===t)return!0;let r=B(e),n=B(t);if(r||n)return!(!r||!n)&&e.getTime()===t.getTime();if(r=O(e),n=O(t),r||n)return!(!r||!n)&&function(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=f(e[n],t[n]);return r}(e,t);if(r=w(e),n=w(t),r||n){if(!r||!n)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e){const n=e.hasOwnProperty(r),s=t.hasOwnProperty(r);if(n&&!s||!n&&s||!f(e[r],t[r]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex(e=>f(e,t))}const _=e=>null==e?"":w(e)?JSON.stringify(e,E,2):String(e),E=(e,t)=>N(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,r])=>(e[`${t} =>`]=r,e),{})}:L(t)?{[`Set(${t.size})`]:[...t.values()]}:!w(t)||O(t)||V(t)?t:String(t),S={},m=[],C=()=>{},b=()=>!1,A=/^on[^a-z]/,v=e=>A.test(e),P=e=>e.startsWith("onUpdate:"),y=Object.assign,T=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},I=Object.prototype.hasOwnProperty,R=(e,t)=>I.call(e,t),O=Array.isArray,N=e=>"[object Map]"===F(e),L=e=>"[object Set]"===F(e),B=e=>e instanceof Date,x=e=>"function"==typeof e,D=e=>"string"==typeof e,M=e=>"symbol"==typeof e,w=e=>null!==e&&"object"==typeof e,k=e=>w(e)&&x(e.then)&&x(e.catch),U=Object.prototype.toString,F=e=>U.call(e),j=e=>F(e).slice(8,-1),V=e=>"[object Object]"===F(e),G=e=>D(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,X=n(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$=e=>{const t=Object.create(null);return r=>{return t[r]||(t[r]=e(r))}},H=/-(\w)/g,W=$(e=>e.replace(H,(e,t)=>t?t.toUpperCase():"")),Y=/\B([A-Z])/g,K=$(e=>e.replace(Y,"-$1").toLowerCase()),q=$(e=>e.charAt(0).toUpperCase()+e.slice(1)),J=$(e=>e?`on${q(e)}`:""),z=(e,t)=>e!==t&&(e==e||t==t),Z=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Q=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},ee=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let te;const re=()=>te||(te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{})}).call(this,r(24))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=X(r(70)),s=X(r(161)),a=X(r(162)),i=X(r(163)),o=X(r(164)),l=X(r(165)),c=X(r(166)),u=X(r(167)),d=X(r(168)),p=X(r(169)),h=X(r(170)),f=X(r(171)),g=X(r(172)),_=X(r(173)),E=X(r(174)),S=X(r(175)),m=X(r(176)),C=X(r(177)),b=X(r(178)),A=X(r(179)),v=X(r(180)),P=X(r(181)),y=X(r(182)),T=X(r(183)),I=X(r(184)),R=X(r(185)),O=X(r(186)),N=X(r(187)),L=X(r(188)),B=X(r(189)),x=X(r(190)),D=X(r(191)),M=X(r(192)),w=X(r(193)),k=X(r(194)),U=X(r(195)),F=X(r(196)),j=X(r(197)),V=X(r(198)),G=X(r(199));function X(e){return e&&e.__esModule?e:{default:e}}const $={activateDiagnostics:a.default,buttonPress:i.default,hostEventButtonPress:o.default,screenTrigger:l.default,subscription:c.default,subscriptionAck:u.default,tokenUpdate:d.default,be2BasicFunction:p.default,be2BasicResponse:h.default,bonusHit:f.default,drawStatus:g.default,fullscreenState:_.default,gameEnd:E.default,gameEvent:S.default,gameStart:m.default,getServerAddresses:C.default,ismUpdate:b.default,levelUpdate:A.default,patronData:v.default,patronDataExt:P.default,serverAddresses:y.default,showWindow:T.default,statusUpdate:I.default,statusmap:R.default,urlmap:O.default,windowState:N.default,cardlessStatus:L.default,forceCardOut:B.default,forceCardOutAck:x.default,getQRcode:D.default,qrCode:M.default,vpcButtonPress:w.default,vpcGetPlayerData:k.default,vpcPIN:U.default,vpcPlayerData:F.default,getUserToken:j.default,languageUpdate:V.default,userTokenUpdate:G.default};let H=null;const W=function(){if(!H){const e="http://json-schema.org/draft-04/schema";(H=new n.default).setRemoteReference(e,s.default)}return H};t.default=class{static validate(e,t){return function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,a){try{var i=t[s](a),o=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}(function*(){return new Promise(function(r,n){W().validate(e,$[t],function(e,t){e?n(e):t&&r()})})})()}}},function(e,t,r){"use strict";r(73),t.jsonSymbol=Symbol.for("z-schema/json"),t.schemaSymbol=Symbol.for("z-schema/schema");var n=t.sortedKeys=function(e){return Object.keys(e).sort()};t.isAbsoluteUri=function(e){return/^https?:\/\//.test(e)},t.isRelativeUri=function(e){return/.+#/.test(e)},t.whatIs=function(e){var t=typeof e;return"object"===t?null===e?"null":Array.isArray(e)?"array":"object":"number"===t?Number.isFinite(e)?e%1==0?"integer":"number":Number.isNaN(e)?"not-a-number":"unknown-number":t},t.areEqual=function e(r,s,a){var i,o,l=(a=a||{}).caseInsensitiveComparison||!1;if(r===s)return!0;if(!0===l&&"string"==typeof r&&"string"==typeof s&&r.toUpperCase()===s.toUpperCase())return!0;if(Array.isArray(r)&&Array.isArray(s)){if(r.length!==s.length)return!1;for(o=r.length,i=0;i<o;i++)if(!e(r[i],s[i],{caseInsensitiveComparison:l}))return!1;return!0}if("object"===t.whatIs(r)&&"object"===t.whatIs(s)){var c=n(r);if(!e(c,n(s),{caseInsensitiveComparison:l}))return!1;for(o=c.length,i=0;i<o;i++)if(!e(r[c[i]],s[c[i]],{caseInsensitiveComparison:l}))return!1;return!0}return!1},t.isUniqueArray=function(e,r){var n,s,a=e.length;for(n=0;n<a;n++)for(s=n+1;s<a;s++)if(t.areEqual(e[n],e[s]))return r&&r.push(n,s),!1;return!0},t.difference=function(e,t){for(var r=[],n=e.length;n--;)-1===t.indexOf(e[n])&&r.push(e[n]);return r},t.clone=function(e){if(void 0!==e){if("object"!=typeof e||null===e)return e;var t,r;if(Array.isArray(e))for(t=[],r=e.length;r--;)t[r]=e[r];else{t={};var n=Object.keys(e);for(r=n.length;r--;){var s=n[r];t[s]=e[s]}}return t}},t.cloneDeep=function(e){var t=[],r=[];return function e(n){if("object"!=typeof n||null===n)return n;var s,a,i;if(-1!==(i=t.indexOf(n)))return r[i];if(t.push(n),Array.isArray(n))for(s=[],r.push(s),a=n.length;a--;)s[a]=e(n[a]);else{s={},r.push(s);var o=Object.keys(n);for(a=o.length;a--;){var l=o[a];s[l]=e(n[l])}}return s}(e)},t.ucs2decode=function(e){for(var t,r,n=[],s=0,a=e.length;s<a;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<a?56320==(64512&(r=e.charCodeAt(s++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),s--):n.push(t);return n}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){e.exports=!r(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(20),s=r(45),a=r(26),i=Object.defineProperty;t.f=r(11)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),s)try{return i(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";(function(t){var n=r(44),s=r(72),a=r(9);function i(e,t){this.parentReport=e instanceof i?e:void 0,this.options=e instanceof i?e.options:e||{},this.reportOptions=t||{},this.errors=[],this.path=[],this.asyncTasks=[],this.rootSchema=void 0,this.commonErrorMessage=void 0,this.json=void 0}i.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},i.prototype.addAsyncTask=function(e,t,r){this.asyncTasks.push([e,t,r])},i.prototype.processAsyncTasks=function(e,r){var n=e||2e3,s=this.asyncTasks.length,a=s,i=!1,o=this;function l(){t.nextTick(function(){var e=0===o.errors.length,t=e?void 0:o.errors;r(t,e)})}function c(e){return function(t){i||(e(t),0==--s&&l())}}if(0===s||this.errors.length>0&&this.options.breakOnFirstError)l();else{for(;a--;){var u=this.asyncTasks[a];u[0].apply(null,u[1].concat(c(u[2])))}setTimeout(function(){s>0&&(i=!0,o.addError("ASYNC_TIMEOUT",[s,n]),r(o.errors,!1))},n)}},i.prototype.getPath=function(e){var t=[];return this.parentReport&&(t=t.concat(this.parentReport.path)),t=t.concat(this.path),!0!==e&&(t="#/"+t.map(function(e){return a.isAbsoluteUri(e)?"uri("+e+")":e.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),t},i.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var e=[];for(this.parentReport&&(e=e.concat(this.parentReport.path)),e=e.concat(this.path);e.length>0;){var t=n(this.rootSchema,e);if(t&&t.id)return t.id;e.pop()}return this.rootSchema.id},i.prototype.hasError=function(e,t){for(var r=this.errors.length;r--;)if(this.errors[r].code===e){for(var n=!0,s=this.errors[r].params.length;s--;)this.errors[r].params[s]!==t[s]&&(n=!1);if(n)return n}return!1},i.prototype.addError=function(e,t,r,n){if(!e)throw new Error("No errorCode passed into addError()");this.addCustomError(e,s[e],t,r,n)},i.prototype.getJson=function(){for(var e=this;void 0===e.json;)if(void 0===(e=e.parentReport))return;return e.json},i.prototype.addCustomError=function(e,t,r,n,s){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!t)throw new Error("No errorMessage known for code "+e);for(var i=(r=r||[]).length;i--;){var o=a.whatIs(r[i]),l="object"===o||"null"===o?JSON.stringify(r[i]):r[i];t=t.replace("{"+i+"}",l)}var c={code:e,params:r,message:t,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(c[a.schemaSymbol]=s,c[a.jsonSymbol]=this.getJson(),s&&"string"==typeof s?c.description=s:s&&"object"==typeof s&&(s.title&&(c.title=s.title),s.description&&(c.description=s.description)),null!=n){for(Array.isArray(n)||(n=[n]),c.inner=[],i=n.length;i--;)for(var u=n[i],d=u.errors.length;d--;)c.inner.push(u.errors[d]);0===c.inner.length&&(c.inner=void 0)}this.errors.push(c)}},e.exports=i}).call(this,r(43))},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(21)("wks"),s=r(16),a=r(5).Symbol,i="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=i&&a[e]||(i?a:s)("Symbol."+e))}).store=n},function(e,t,r){var n=r(83),s=r(49);e.exports=function(e){return n(s(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(15);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(14),s=r(5),a=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(29)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,n.default)(t);r=String(r);if(!r)return e(t,4)||e(t,6);if("4"===r){if(!s.test(t))return!1;var i=t.split(".").sort(function(e,t){return e-t});return i[3]<=255}if("6"===r){var o=t.split(":"),l=!1,c=e(o[o.length-1],4),u=c?7:8;if(o.length>u)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(o.shift(),o.shift(),l=!0):"::"===t.substr(t.length-2)&&(o.pop(),o.pop(),l=!0);for(var d=0;d<o.length;++d)if(""===o[d]&&d>0&&d<o.length-1){if(l)return!1;l=!0}else if(c&&d===o.length-1);else if(!a.test(o[d]))return!1;return l?o.length>=1:o.length===u}return!1};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,a=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var n={"en-US":/^[A-Z]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ω]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/};t.alpha=n;var s={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/};t.alphanumeric=s;var a={"en-US":".",ar:"٫"};t.decimal=a;var i=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=i;for(var o,l=0;l<i.length;l++)n[o="en-".concat(i[l])]=n["en-US"],s[o]=s["en-US"],a[o]=a["en-US"];var c=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=c;for(var u,d=0;d<c.length;d++)n[u="ar-".concat(c[d])]=n.ar,s[u]=s.ar,a[u]=a.ar;var p=[];t.dotDecimal=p;var h=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","es-ES","fr-FR","it-IT","ku-IQ","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA"];t.commaDecimal=h;for(var f=0;f<p.length;f++)a[p[f]]=a["en-US"];for(var g=0;g<h.length;g++)a[h[g]]=",";n["pt-BR"]=n["pt-PT"],s["pt-BR"]=s["pt-PT"],a["pt-BR"]=a["pt-PT"],n["pl-Pl"]=n["pl-PL"],s["pl-Pl"]=s["pl-PL"],a["pl-Pl"]=a["pl-PL"]},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(12),s=r(27);e.exports=r(11)?function(e,t,r){return n.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(15);e.exports=function(e,t){if(!n(e))return e;var r,s;if(t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;if("function"==typeof(r=e.valueOf)&&!n(s=r.call(e)))return s;if(!t&&"function"==typeof(r=e.toString)&&!n(s=r.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(5),s=r(25),a=r(10),i=r(16)("src"),o=r(76),l=(""+o).split("toString");r(14).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,r,o){var c="function"==typeof r;c&&(a(r,"name")||s(r,"name",t)),e[t]!==r&&(c&&(a(r,i)||s(r,i,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:o?e[t]?e[t]=r:s(e,t,r):(delete e[t],s(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||o.call(this)})},function(e,t){e.exports=!1},function(e,t,r){var n=r(48),s=r(32);e.exports=Object.keys||function(e){return n(e,s)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(96),s={date:function(e){if("string"!=typeof e)return!0;var t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(e);return null!==t&&!(t[2]<"01"||t[2]>"12"||t[3]<"01"||t[3]>"31")},"date-time":function(e){if("string"!=typeof e)return!0;var t=e.toLowerCase().split("t");if(!s.date(t[0]))return!1;var r=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(t[1]);return null!==r&&!(r[1]>"23"||r[2]>"59"||r[3]>"59")},email:function(e){return"string"!=typeof e||n.isEmail(e,{require_tld:!0})},hostname:function(e){if("string"!=typeof e)return!0;var t=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(e);if(t){if(e.length>255)return!1;for(var r=e.split("."),n=0;n<r.length;n++)if(r[n].length>63)return!1}return t},"host-name":function(e){return s.hostname.call(this,e)},ipv4:function(e){return"string"!=typeof e||n.isIP(e,4)},ipv6:function(e){return"string"!=typeof e||n.isIP(e,6)},regex:function(e){try{return RegExp(e),!0}catch(e){return!1}},uri:function(e){return this.options.strictUris?s["strict-uri"].apply(this,arguments):"string"!=typeof e||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(e)},"strict-uri":function(e){return"string"!=typeof e||n.isURL(e)}};e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"object"===n(e)&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null===e||void 0===e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,s.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var r=e.split("."),a=0;a<r.length;a++)if(r[a].length>63)return!1;if(t.require_tld){var o=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(o))return!1}for(var l,c=0;c<r.length;c++){if(l=r[c],t.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var n=a(r(0)),s=a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e.some(function(e){return t===e})};t.default=n,e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3));let s=null;t.default=class{constructor(e=[],t){null==s?(this.workers=new Map,e.forEach(e=>{let t=new Blob([`importScripts("${e}")`]),r=new Worker(URL.createObjectURL(t));this.workers.set(e,r),this.receiveMessage(e,e=>{n.default.publish("ww_message",e)})}),s=this):t.debug({debug:"Attempted to create an instance of WorkerController when one already existed - Returning existing instance."})}static Instance(){if(null==s)throw new Error("Attempting to access an instance of WorkerController before instantiation.");return s}formatEvent(e){return e&&e instanceof CustomEvent?e.detail:e}broadcastMessage(e){let t=this.formatEvent(e);this.workers.forEach(e=>{e.postMessage(t)})}sendMessage(e,t){this.workers.get(e).postMessage(t)}receiveMessage(e,t){this.workers.get(e).onmessage=function(e){t(e)}}onError(e,t){this.workers.get(e).onerror=function(e){t(e)}}static Destroy(){s=null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncCallWithPredicate=function(e,t,r=null,s=null){let a,i,o,l=!0,c=new Promise(function(r,s){o=function(e="MANUAL_CANCELED"){a&&a(),i&&i(),s(e),l=!1},e()?(r(t()),l=!1):a=(0,n.watch)(e,function(e){e&&(a(),i&&i(),r(t()),l=!1)})});l&&(("function"==typeof(r=!isNaN(parseInt(r))&&function(e){let t=(0,n.ref)(!1);return setTimeout(()=>t.value=!0,e),t}(parseInt(r))||r)?r():(0,n.isRef)(r)?r.value:r)?(o("AUTO_CANCELD"),s&&s()):r&&(i=(0,n.watch)(r,function(e){e&&(i(),o("AUTO_CANCELD"),s&&s())})));let u={then:c.then.bind(c),catch:c.catch.bind(c),cancel:o};return Object.defineProperty(u,"isActive",{get:()=>l}),u};var n=r(42);t.default=class{static postMessage(e,t){try{e.postMessage(t,"*")}catch(r){e.postMessage(JSON.stringify(t,function e(t,r){if(void 0==e.seen&&(e.seen=[]),null!=r&&"object"==typeof r){if(e.seen.indexOf(r)>=0)return;e.seen.push(r)}return r}),"*")}}static asyncForEach(e,t){return function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,a){try{var i=t[s](a),o=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}(function*(){for(let r=0;r<e.length;r++)yield t(e[r],r,e)})()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(4));function a(e){return e&&e.__esModule?e:{default:e}}class i{static getUrlParamsObject(e){const t={};if(void 0!==e){let r;const n=/\+/g,s=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(n," "))},i=e.substring(0);for(;r=s.exec(i);)t[a(r[1])]=a(r[2])}return t}static urlParam(e,t){const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);if(!r)return;const n=r[1];return void 0!==n?decodeURIComponent(n):void 0}static getHostUrl(e,t){const r=i.urlParam("host",t);if(void 0!==r)return r;const n=(void 0!==e?e:{}).ciHost;if(void 0!==n)return n;const s=i.urlParam("localWebSocketPort",t);return`wss://localhost:${void 0!==s?s:"7001"}`}static getLoggerUrl(e,t){let r=host((void 0!==e?e:{}).loggerUrl);return void 0!==r?r:void 0!==(r=i.urlParam("loggerUrl",t))?r:void 0}static getLogLevel(e,t){let r=(void 0!==e?e:{}).logLevel;return void 0!==r?r:void 0!==(r=i.urlParam("logLevel",t))?r:void 0}static getDeviceId(e){let t=i.urlParam("machineNumber",e);return void 0!==t?t:void 0!==(t=i.urlParam("deviceId",e))?t:"UNASSIGNED"}static getFloorLoc(e){let t=i.urlParam("location",e);return void 0!==t?t:"UNKNOWN-LOCATION"}static filterPageUrl(e,t=[]){return e.replace(/^.*\?(.*)$/,"$1").split("&").filter(e=>-1===t.indexOf(e.split("=")[0])).join("&")}static normalizeUrlMap(e){e.baseUrl=host(e.baseUrl);e.ciHost=host(e.ciHost);e.loggerUrl=host(e.loggerUrl);const t=/^0[xX][0-9a-fA-F]{2}$/,r=JSON.parse(JSON.stringify(e));r.screenIdMap={},r.indexUrl=e.baseUrl?e.baseUrl+e.indexUrl:e.indexUrl,r.bannerUrl=e.baseUrl?e.baseUrl+e.bannerUrl:e.bannerUrl,r.pinContentUrl=e.baseUrl?e.baseUrl+e.pinContentUrl:e.pinContentUrl,r.systemUrl=e.baseUrl?e.baseUrl+e.systemUrl:e.systemUrl;const a=e.screenIdMap,i={};return Object.keys(a).map(function(r){const o=e.baseUrl?e.baseUrl+a[r]:a[r];if(t.test(r))i[n.default.normalizeId(r)]=o;else{const e=s.default[r.toUpperCase()];if(!e)throw'Unable to resolve friendly screen name "'+r+'" to hex screen id.';i[e]=o}}),r.screenIdMap=i,e.legacyIdList&&(r.legacyIdList=e.legacyIdList.map(e=>{if(t.test(e))return e;{const t=s.default[e.toUpperCase()];if(!t)throw'Unable to resolve friendly screen name "undefined" to hex screen id.';return t}})),r}}t.default=i},function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(6);const a=[];function i(e,...t){Object(n.pauseTracking)();const r=a.length?a[a.length-1].component:null,i=r&&r.appContext.config.warnHandler,l=function(){let e=a[a.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}();if(i)o(i,r,11,[e+t.join(""),r&&r.proxy,l.map(({vnode:e})=>`at <${Vr(r,e.type)}>`).join("\n"),l]);else{const r=[`[Vue warn]: ${e}`,...t];l.length&&r.push("\n",...function(e){const t=[];return e.forEach((e,r)=>{t.push(...0===r?[]:["\n"],...function({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",a=!!e.component&&null==e.component.parent,i=` at <${Vr(e.component,e.type,a)}`,o=">"+r;return e.props?[i,...function(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(r=>{t.push(...function e(t,r,a){return Object(s.B)(r)?(r=JSON.stringify(r),a?r:[`${t}=${r}`]):"number"==typeof r||"boolean"==typeof r||null==r?a?r:[`${t}=${r}`]:Object(n.isRef)(r)?(r=e(t,Object(n.toRaw)(r.value),!0),a?r:[`${t}=Ref<`,r,">"]):Object(s.o)(r)?[`${t}=fn${r.name?`<${r.name}>`:""}`]:(r=Object(n.toRaw)(r),a?r:[`${t}=`,r])}(r,e[r]))}),r.length>3&&t.push(" ..."),t}(e.props),o]:[i+o]}(e))}),t}(l)),console.warn(...r)}Object(n.resetTracking)()}function o(e,t,r,n){let s;try{s=n?e(...n):e()}catch(e){c(e,t,r)}return s}function l(e,t,r,n){if(Object(s.o)(e)){const a=o(e,t,r,n);return a&&Object(s.w)(a)&&a.catch(e=>{c(e,t,r)}),a}const a=[];for(let s=0;s<e.length;s++)a.push(l(e[s],t,r,n));return a}function c(e,t,r,n=!0){t&&t.vnode;if(t){let n=t.parent;const s=t.proxy,a=r;for(;n;){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,s,a))return;n=n.parent}const i=t.appContext.config.errorHandler;if(i)return void o(i,null,10,[e,s,a])}!function(e,t,r,n=!0){console.error(e)}(e,0,0,n)}let u=!1,d=!1;const p=[];let h=0;const f=[];let g=null,_=0;const E=[];let S=null,m=0;const C=Promise.resolve();let b=null,A=null;function v(e){const t=b||C;return e?t.then(this?e.bind(this):e):t}function P(e){if(!(p.length&&p.includes(e,u&&e.allowRecurse?h+1:h)||e===A)){const t=function(e){let t=h+1,r=p.length;const n=N(e);for(;t<r;){const e=t+r>>>1;N(p[e])<n?t=e+1:r=e}return t}(e);t>-1?p.splice(t,0,e):p.push(e),y()}}function y(){u||d||(d=!0,b=C.then(L))}function T(e,t,r,n){Object(s.n)(e)?r.push(...e):t&&t.includes(e,e.allowRecurse?n+1:n)||r.push(e),y()}function I(e){T(e,S,E,m)}function R(e,t=null){if(f.length){for(A=t,g=[...new Set(f)],f.length=0,_=0;_<g.length;_++)g[_]();g=null,_=0,A=null,R(e,t)}}function O(e){if(E.length){const e=[...new Set(E)];if(E.length=0,S)return void S.push(...e);for((S=e).sort((e,t)=>N(e)-N(t)),m=0;m<S.length;m++)S[m]();S=null,m=0}}const N=e=>null==e.id?1/0:e.id;function L(e){d=!1,u=!0,R(e),p.sort((e,t)=>N(e)-N(t));try{for(h=0;h<p.length;h++){const e=p[h];e&&o(e,null,14)}}finally{h=0,p.length=0,O(),u=!1,b=null,(p.length||E.length)&&L(e)}}new Set;new Map;let B;function x(e){B=e}const D=k("component:added"),M=k("component:updated"),w=k("component:removed");function k(e){return t=>{B&&B.emit(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function U(e,t,...r){const n=e.vnode.props||s.b;let a=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:i}=n[e]||s.b;i?a=r.map(e=>e.trim()):t&&(a=r.map(s.L))}__VUE_PROD_DEVTOOLS__&&function(e,t,r){B&&B.emit("component:emit",e.appContext.app,e,t,r)}(e,t,a);let c=Object(s.K)(Object(s.e)(t)),u=n[c];!u&&i&&(u=n[c=Object(s.K)(Object(s.l)(t))]),u&&l(u,e,6,a);const d=n[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else(e.emitted={})[c]=!0;l(d,e,6,a)}}function F(e,t){return!(!e||!Object(s.v)(t))&&(t=t.slice(2).replace(/Once$/,""),Object(s.k)(e,t[0].toLowerCase()+t.slice(1))||Object(s.k)(e,Object(s.l)(t))||Object(s.k)(e,t))}let j=null;function V(e){j=e}function G(e){const{type:t,vnode:r,proxy:n,withProxy:a,props:i,propsOptions:[o],slots:l,attrs:u,emit:d,render:p,renderCache:h,data:f,setupState:g,ctx:_}=e;let E;j=e;try{let S;if(4&r.shapeFlag){const e=a||n;E=ir(p.call(e,e,h,i,g,f,_)),S=u}else{const e=t;0,E=ir(e.length>1?e(i,{attrs:u,slots:l,emit:d}):e(i,null)),S=t.props?u:$(u)}let m=E;if(!1!==t.inheritAttrs&&S){const e=Object.keys(S),{shapeFlag:t}=m;e.length&&(1&t||6&t)&&(o&&e.some(s.t)&&(S=H(S,o)),m=rr(m,S))}r.dirs&&(m.dirs=m.dirs?m.dirs.concat(r.dirs):r.dirs),r.transition&&(m.transition=r.transition),E=m}catch(t){c(t,e,1),E=er(Ut)}return j=null,E}function X(e){let t;for(let r=0;r<e.length;r++){const n=e[r];if(!Kt(n))return;if(n.type!==Ut||"v-if"===n.children){if(t)return;t=n}}return t}const $=e=>{let t;for(const r in e)("class"===r||"style"===r||Object(s.v)(r))&&((t||(t={}))[r]=e[r]);return t},H=(e,t)=>{const r={};for(const n in e)Object(s.t)(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function W(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const a=n[s];if(t[a]!==e[a]&&!F(r,a))return!0}return!1}function Y({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const K=e=>e.__isSuspense,q={__isSuspense:!0,process(e,t,r,n,a,i,o,l,c){null==e?function(e,t,r,n,s,a,i,o){const{p:l,o:{createElement:c}}=o,u=c("div"),d=e.suspense=J(e,s,n,t,u,r,a,i,o);l(null,d.pendingBranch=e.ssContent,u,null,n,d,a),d.deps>0?(l(null,e.ssFallback,t,r,n,null,a),Q(d,e.ssFallback)):d.resolve()}(t,r,n,a,i,o,l,c):function(e,t,r,n,a,i,{p:o,um:l,o:{createElement:c}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:h,pendingBranch:f,isInFallback:g,isHydrating:_}=u;if(f)u.pendingBranch=d,qt(d,f)?(o(f,d,u.hiddenContainer,null,a,u,i),u.deps<=0?u.resolve():g&&(o(h,p,r,n,a,null,i),Q(u,p))):(u.pendingId++,_?(u.isHydrating=!1,u.activeBranch=f):l(f,a,u),u.deps=0,u.effects.length=0,u.hiddenContainer=c("div"),g?(o(null,d,u.hiddenContainer,null,a,u,i),u.deps<=0?u.resolve():(o(h,p,r,n,a,null,i),Q(u,p))):h&&qt(d,h)?(o(h,d,r,n,a,u,i),u.resolve(!0)):(o(null,d,u.hiddenContainer,null,a,u,i),u.deps<=0&&u.resolve()));else if(h&&qt(d,h))o(h,d,r,n,a,u,i),Q(u,d);else{const e=t.props&&t.props.onPending;if(Object(s.o)(e)&&e(),u.pendingBranch=d,u.pendingId++,o(null,d,u.hiddenContainer,null,a,u,i),u.deps<=0)u.resolve();else{const{timeout:e,pendingId:t}=u;e>0?setTimeout(()=>{u.pendingId===t&&u.fallback(p)},e):0===e&&u.fallback(p)}}}(e,t,r,n,a,o,c)},hydrate:function(e,t,r,n,s,a,i,o){const l=t.suspense=J(t,n,r,e.parentNode,document.createElement("div"),null,s,a,i,!0),c=o(e,l.pendingBranch=t.ssContent,r,l,a);0===l.deps&&l.resolve();return c},create:J};function J(e,t,r,n,a,i,o,l,u,d=!1){const{p:p,m:h,um:f,n:g,o:{parentNode:_,remove:E}}=u,S=Object(s.L)(e.props&&e.props.timeout),m={vnode:e,parent:t,parentComponent:r,isSVG:o,container:n,hiddenContainer:a,anchor:i,deps:0,pendingId:0,timeout:"number"==typeof S?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:r,pendingBranch:n,pendingId:a,effects:i,parentComponent:o,container:l}=m;if(m.isHydrating)m.isHydrating=!1;else if(!e){const e=r&&n.transition&&"out-in"===n.transition.mode;e&&(r.transition.afterLeave=(()=>{a===m.pendingId&&h(n,l,t,0)}));let{anchor:t}=m;r&&(t=g(r),f(r,o,m,!0)),e||h(n,l,t,0)}Q(m,n),m.pendingBranch=null,m.isInFallback=!1;let c=m.parent,u=!1;for(;c;){if(c.pendingBranch){c.effects.push(...i),u=!0;break}c=c.parent}u||I(i),m.effects=[];const d=t.props&&t.props.onResolve;Object(s.o)(d)&&d()},fallback(e){if(!m.pendingBranch)return;const{vnode:t,activeBranch:r,parentComponent:n,container:a,isSVG:i}=m,o=t.props&&t.props.onFallback;Object(s.o)(o)&&o();const l=g(r),c=()=>{m.isInFallback&&(p(null,e,a,l,n,null,i),Q(m,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(r.transition.afterLeave=c),f(r,n,null,!0),m.isInFallback=!0,u||c()},move(e,t,r){m.activeBranch&&h(m.activeBranch,e,t,r),m.container=e},next:()=>m.activeBranch&&g(m.activeBranch),registerDep(e,t){const r=!!m.pendingBranch;r&&m.deps++;const n=e.vnode.el;e.asyncDep.catch(t=>{c(t,e,0)}).then(s=>{if(e.isUnmounted||m.isUnmounted||m.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;Br(e,s),n&&(a.el=n);const i=!n&&e.subTree.el;t(e,a,_(n||e.subTree.el),n?null:g(e.subTree),m,o,l),i&&E(i),Y(e,a.el),r&&0==--m.deps&&m.resolve()})},unmount(e,t){m.isUnmounted=!0,m.activeBranch&&f(m.activeBranch,r,e,t),m.pendingBranch&&f(m.pendingBranch,r,e,t)}};return m}function z(e){if(Object(s.o)(e)&&(e=e()),Object(s.n)(e)){0,e=X(e)}return ir(e)}function Z(e,t){t&&t.pendingBranch?Object(s.n)(e)?t.effects.push(...e):t.effects.push(e):I(e)}function Q(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e,s=r.el=t.el;n&&n.subTree===r&&(n.vnode.el=s,Y(n,s))}let ee=0;const te=e=>ee+=e;function re(e,t,r={},n){let s=e[t];ee++,Gt();const a=s&&function e(t){return t.some(t=>!Kt(t)||t.type!==Ut&&!(t.type===wt&&!e(t.children)))?t:null}(s(r)),i=Yt(wt,{key:r.key||`_${t}`},a||(n?n():[]),a&&1===e._?64:-2);return ee--,i}function ne(e,t=j){if(!t)return e;const r=(...r)=>{ee||Gt(!0);const n=j;V(t);const s=e(...r);return V(n),ee||Xt(),s};return r._c=!0,r}let se=null;const ae=[];function ie(e){ae.push(se=e)}function oe(){ae.pop(),se=ae[ae.length-1]||null}function le(e){return t=>ne(function(){ie(e);const r=t.apply(this,arguments);return oe(),r})}function ce(e,t,r,a){const[i,o]=e.propsOptions;if(t)for(const n in t){const o=t[n];if(Object(s.x)(n))continue;let l;i&&Object(s.k)(i,l=Object(s.e)(n))?r[l]=o:F(e.emitsOptions,n)||(a[n]=o)}if(o){const t=Object(n.toRaw)(r);for(let n=0;n<o.length;n++){const s=o[n];r[s]=ue(i,t,s,t[s],e)}}}function ue(e,t,r,n,a){const i=e[r];if(null!=i){const e=Object(s.k)(i,"default");if(e&&void 0===n){const e=i.default;i.type!==Function&&Object(s.o)(e)?(Rr(a),n=e(t),Rr(null)):n=e}i[0]&&(Object(s.k)(t,r)||e?!i[1]||""!==n&&n!==Object(s.l)(r)||(n=!0):n=!1)}return n}function de(e){return"$"!==e[0]}function pe(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function he(e,t){return pe(e)===pe(t)}function fe(e,t){if(Object(s.n)(t)){for(let r=0,n=t.length;r<n;r++)if(he(t[r],e))return r}else if(Object(s.o)(t))return he(t,e)?0:-1;return-1}function ge(e,t,r=Tr,s=!1){if(r){const a=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=((...s)=>{if(r.isUnmounted)return;Object(n.pauseTracking)(),Rr(r);const a=l(t,r,e,s);return Rr(null),Object(n.resetTracking)(),a}));return s?a.unshift(i):a.push(i),i}}const _e=e=>(t,r=Tr)=>!Lr&&ge(e,t,r),Ee=_e("bm"),Se=_e("m"),me=_e("bu"),Ce=_e("u"),be=_e("bum"),Ae=_e("um"),ve=_e("rtg"),Pe=_e("rtc"),ye=(e,t=Tr)=>{ge("ec",e,t)};function Te(e,t){return Oe(e,null,t)}const Ie={};function Re(e,t,r){return Oe(e,t,r)}function Oe(e,t,{immediate:r,deep:a,flush:i,onTrack:c,onTrigger:u}=s.b,d=Tr){let p,h,E=!1;if(Object(n.isRef)(e)?(p=(()=>e.value),E=!!e._shallow):Object(n.isReactive)(e)?(p=(()=>e),a=!0):p=Object(s.n)(e)?()=>e.map(e=>Object(n.isRef)(e)?e.value:Object(n.isReactive)(e)?Ne(e):Object(s.o)(e)?o(e,d,2,[d&&d.proxy]):void 0):Object(s.o)(e)?t?()=>o(e,d,2,[d&&d.proxy]):()=>{if(!d||!d.isUnmounted)return h&&h(),o(e,d,3,[S])}:s.d,t&&a){const e=p;p=(()=>Ne(e()))}const S=e=>{h=A.options.onStop=(()=>{o(e,d,4)})};let m=Object(s.n)(e)?[]:Ie;const C=()=>{if(A.active)if(t){const e=A();(a||E||Object(s.j)(e,m))&&(h&&h(),l(t,d,3,[e,m===Ie?void 0:m,S]),m=e)}else A()};let b;C.allowRecurse=!!t,b="sync"===i?C:"post"===i?()=>gt(C,d&&d.suspense):()=>{!d||d.isMounted?function(e){T(e,g,f,_)}(C):C()};const A=Object(n.effect)(p,{lazy:!0,onTrack:c,onTrigger:u,scheduler:b});return kr(A,d),t?r?C():m=A():"post"===i?gt(A,d&&d.suspense):A(),()=>{Object(n.stop)(A),d&&Object(s.I)(d.effects,A)}}function Ne(e,t=new Set){if(!Object(s.u)(e)||t.has(e))return e;if(t.add(e),Object(n.isRef)(e))Ne(e.value,t);else if(Object(s.n)(e))for(let r=0;r<e.length;r++)Ne(e[r],t);else if(Object(s.z)(e)||Object(s.s)(e))e.forEach(e=>{Ne(e,t)});else for(const r in e)Ne(e[r],t);return e}function Le(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Se(()=>{e.isMounted=!0}),be(()=>{e.isUnmounting=!0}),e}const Be=[Function,Array],xe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Be,onEnter:Be,onAfterEnter:Be,onEnterCancelled:Be,onBeforeLeave:Be,onLeave:Be,onAfterLeave:Be,onLeaveCancelled:Be,onBeforeAppear:Be,onAppear:Be,onAfterAppear:Be,onAppearCancelled:Be},setup(e,{slots:t}){const r=Ir(),s=Le();let a;return()=>{const i=t.default&&Fe(t.default(),!0);if(!i||!i.length)return;const o=Object(n.toRaw)(e),{mode:l}=o;const c=i[0];if(s.isLeaving)return we(c);const u=ke(c);if(!u)return we(c);const d=Me(u,o,s,r);Ue(u,d);const p=r.subTree,h=p&&ke(p);let f=!1;const{getTransitionKey:g}=u.type;if(g){const e=g();void 0===a?a=e:e!==a&&(a=e,f=!0)}if(h&&h.type!==Ut&&(!qt(u,h)||f)){const e=Me(h,o,s,r);if(Ue(h,e),"out-in"===l)return s.isLeaving=!0,e.afterLeave=(()=>{s.isLeaving=!1,r.update()}),we(c);"in-out"===l&&(e.delayLeave=((e,t,r)=>{De(s,h)[String(h.key)]=h,e._leaveCb=(()=>{t(),e._leaveCb=void 0,delete d.delayedLeave}),d.delayedLeave=r}))}return c}}};function De(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Me(e,t,r,n){const{appear:s,mode:a,persisted:i=!1,onBeforeEnter:o,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:p,onLeave:h,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:_,onAppear:E,onAfterAppear:S,onAppearCancelled:m}=t,C=String(e.key),b=De(r,e),A=(e,t)=>{e&&l(e,n,9,t)},v={mode:a,persisted:i,beforeEnter(t){let n=o;if(!r.isMounted){if(!s)return;n=_||o}t._leaveCb&&t._leaveCb(!0);const a=b[C];a&&qt(e,a)&&a.el._leaveCb&&a.el._leaveCb(),A(n,[t])},enter(e){let t=c,n=u,a=d;if(!r.isMounted){if(!s)return;t=E||c,n=S||u,a=m||d}let i=!1;const o=e._enterCb=(t=>{i||(i=!0,A(t?a:n,[e]),v.delayedLeave&&v.delayedLeave(),e._enterCb=void 0)});t?(t(e,o),t.length<=1&&o()):o()},leave(t,n){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return n();A(p,[t]);let a=!1;const i=t._leaveCb=(r=>{a||(a=!0,n(),A(r?g:f,[t]),t._leaveCb=void 0,b[s]===e&&delete b[s])});b[s]=e,h?(h(t,i),h.length<=1&&i()):i()},clone:e=>Me(e,t,r,n)};return v}function we(e){if(je(e))return(e=rr(e)).children=null,e}function ke(e){return je(e)?e.children?e.children[0]:void 0:e}function Ue(e,t){6&e.shapeFlag&&e.component?Ue(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fe(e,t=!1){let r=[],n=0;for(let s=0;s<e.length;s++){const a=e[s];a.type===wt?(128&a.patchFlag&&n++,r=r.concat(Fe(a.children,t))):(t||a.type!==Ut)&&r.push(a)}if(n>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}const je=e=>e.type.__isKeepAlive,Ve={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=new Map,n=new Set;let a=null;const i=Ir(),o=i.suspense,l=i.ctx,{renderer:{p:c,m:u,um:d,o:{createElement:p}}}=l,h=p("div");function f(e){Ye(e),d(e,i,o)}function g(e){r.forEach((t,r)=>{const n=jr(t.type);!n||e&&e(n)||_(r)})}function _(e){const t=r.get(e);a&&t.type===a.type?a&&Ye(a):f(t),r.delete(e),n.delete(e)}l.activate=((e,t,r,n,a)=>{const i=e.component;u(e,t,r,0,o),c(i.vnode,e,t,r,i,o,n,a),gt(()=>{i.isDeactivated=!1,i.a&&Object(s.m)(i.a);const t=e.props&&e.props.onVnodeMounted;t&&Ct(t,i.parent,e)},o)}),l.deactivate=(e=>{const t=e.component;u(e,h,null,1,o),gt(()=>{t.da&&Object(s.m)(t.da);const r=e.props&&e.props.onVnodeUnmounted;r&&Ct(r,t.parent,e),t.isDeactivated=!0},o)}),Re(()=>[e.include,e.exclude],([e,t])=>{e&&g(t=>Ge(e,t)),t&&g(e=>!Ge(t,e))},{flush:"post",deep:!0});let E=null;const S=()=>{null!=E&&r.set(E,Ke(i.subTree))};return Se(S),Ce(S),be(()=>{r.forEach(e=>{const{subTree:t,suspense:r}=i,n=Ke(t);if(e.type!==n.type)f(e);else{Ye(n);const e=n.component.da;e&&gt(e,r)}})}),()=>{if(E=null,!t.default)return null;const s=t.default(),i=s[0];if(s.length>1)return a=null,s;if(!(Kt(i)&&(4&i.shapeFlag||128&i.shapeFlag)))return a=null,i;let o=Ke(i);const l=o.type,c=jr(l),{include:u,exclude:d,max:p}=e;if(u&&(!c||!Ge(u,c))||d&&c&&Ge(d,c))return a=o,i;const h=null==o.key?l:o.key,f=r.get(h);return o.el&&(o=rr(o),128&i.shapeFlag&&(i.ssContent=o)),E=h,f?(o.el=f.el,o.component=f.component,o.transition&&Ue(o,o.transition),o.shapeFlag|=512,n.delete(h),n.add(h)):(n.add(h),p&&n.size>parseInt(p,10)&&_(n.values().next().value)),o.shapeFlag|=256,a=o,i}}};function Ge(e,t){return Object(s.n)(e)?e.some(e=>Ge(e,t)):Object(s.B)(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function Xe(e,t){He(e,"a",t)}function $e(e,t){He(e,"da",t)}function He(e,t,r=Tr){const n=e.__wdc||(e.__wdc=(()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}e()}));if(ge(t,n,r),r){let e=r.parent;for(;e&&e.parent;)je(e.parent.vnode)&&We(n,t,r,e),e=e.parent}}function We(e,t,r,n){const a=ge(t,e,n,!0);Ae(()=>{Object(s.I)(n[t],a)},r)}function Ye(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Ke(e){return 128&e.shapeFlag?e.ssContent:e}const qe=e=>"_"===e[0]||"$stable"===e,Je=e=>Object(s.n)(e)?e.map(ir):[ir(e)],ze=(e,t,r)=>ne(e=>Je(t(e)),r),Ze=(e,t)=>{const r=e._ctx;for(const n in e){if(qe(n))continue;const a=e[n];if(Object(s.o)(a))t[n]=ze(0,a,r);else if(null!=a){0;const e=Je(a);t[n]=(()=>e)}}},Qe=(e,t)=>{const r=Je(t);e.slots.default=(()=>r)},et=(e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=t,Object(s.g)(t,"_",r)):Ze(t,e.slots={})}else e.slots={},t&&Qe(e,t);Object(s.g)(e.slots,zt,1)},tt=(e,t)=>{const{vnode:r,slots:n}=e;let a=!0,i=s.b;if(32&r.shapeFlag){const e=t._;e?1===e?a=!1:Object(s.h)(n,t):(a=!t.$stable,Ze(t,n)),i=t}else t&&(Qe(e,t),i={default:1});if(a)for(const e in n)qe(e)||e in i||delete n[e]};function rt(e,t){const r=j;if(null===r)return e;const n=r.proxy,a=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[r,i,o,l=s.b]=t[e];Object(s.o)(r)&&(r={mounted:r,updated:r}),a.push({dir:r,instance:n,value:i,oldValue:void 0,arg:o,modifiers:l})}return e}function nt(e,t,r,n){const s=e.dirs,a=t&&t.dirs;for(let i=0;i<s.length;i++){const o=s[i];a&&(o.oldValue=a[i].value);const c=o.dir[n];c&&l(c,r,8,[e.el,o,e,t])}}function st(){return{app:null,config:{isNativeTag:s.c,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:s.c,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let at=0;function it(e,t){return function(r,n=null){null==n||Object(s.u)(n)||(n=null);const a=st(),i=new Set;let o=!1;const l=a.app={_uid:at++,_component:r,_props:n,_container:null,_context:a,version:en,get config(){return a.config},set config(e){0},use:(e,...t)=>(i.has(e)||(e&&Object(s.o)(e.install)?(i.add(e),e.install(l,...t)):Object(s.o)(e)&&(i.add(e),e(l,...t))),l),mixin:e=>(__VUE_OPTIONS_API__&&(a.mixins.includes(e)||(a.mixins.push(e),(e.props||e.emits)&&(a.deopt=!0))),l),component:(e,t)=>t?(a.components[e]=t,l):a.components[e],directive:(e,t)=>t?(a.directives[e]=t,l):a.directives[e],mount(s,i){if(!o){const c=er(r,n);return c.appContext=a,i&&t?t(c,s):e(c,s),o=!0,l._container=s,s.__vue_app__=l,__VUE_PROD_DEVTOOLS__&&function(e,t){B&&B.emit("app:init",e,t,{Fragment:wt,Text:kt,Comment:Ut,Static:Ft})}(l,en),c.component.proxy}},unmount(){o&&(e(null,l._container),__VUE_PROD_DEVTOOLS__&&function(e){B&&B.emit("app:unmount",e)}(l),delete l._container.__vue_app__)},provide:(e,t)=>(a.provides[e]=t,l)};return l}}let ot=!1;const lt=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,ct=e=>8===e.nodeType;function ut(e){const{mt:t,p:r,o:{patchProp:n,nextSibling:a,parentNode:i,remove:o,insert:l,createComment:c}}=e,u=(r,n,s,o,l=!1)=>{const c=ct(r)&&"["===r.data,_=()=>f(r,n,s,o,c),{type:E,ref:S,shapeFlag:m}=n,C=r.nodeType;n.el=r;let b=null;switch(E){case kt:3!==C?b=_():(r.data!==n.children&&(ot=!0,r.data=n.children),b=a(r));break;case Ut:b=8!==C||c?_():a(r);break;case Ft:if(1===C){b=r;const e=!n.children.length;for(let t=0;t<n.staticCount;t++)e&&(n.children+=b.outerHTML),t===n.staticCount-1&&(n.anchor=b),b=a(b);return b}b=_();break;case wt:b=c?h(r,n,s,o,l):_();break;default:if(1&m)b=1!==C||n.type!==r.tagName.toLowerCase()?_():d(r,n,s,o,l);else if(6&m){const e=i(r),u=()=>{t(n,e,null,s,o,lt(e),l)},d=n.type.__asyncLoader;d?d().then(u):u(),b=c?g(r):a(r)}else 64&m?b=8!==C?_():n.type.hydrate(r,n,s,o,l,e,p):128&m&&(b=n.type.hydrate(r,n,s,o,lt(i(r)),l,e,u))}return null!=S&&_t(S,null,o,n),b},d=(e,t,r,a,i)=>{i=i||!!t.dynamicChildren;const{props:l,patchFlag:c,shapeFlag:u,dirs:d}=t;if(-1!==c){if(d&&nt(t,null,r,"created"),l)if(!i||16&c||32&c)for(const t in l)!Object(s.x)(t)&&Object(s.v)(t)&&n(e,t,null,l[t]);else l.onClick&&n(e,"onClick",null,l.onClick);let h;if((h=l&&l.onVnodeBeforeMount)&&Ct(h,r,t),d&&nt(t,null,r,"beforeMount"),((h=l&&l.onVnodeMounted)||d)&&Z(()=>{h&&Ct(h,r,t),d&&nt(t,null,r,"mounted")},a),16&u&&(!l||!l.innerHTML&&!l.textContent)){let n=p(e.firstChild,t,e,r,a,i);for(;n;){ot=!0;const e=n;n=n.nextSibling,o(e)}}else 8&u&&e.textContent!==t.children&&(ot=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,n,s,a,i)=>{i=i||!!t.dynamicChildren;const o=t.children,l=o.length;for(let t=0;t<l;t++){const l=i?o[t]:o[t]=ir(o[t]);e?e=u(e,l,s,a,i):(ot=!0,r(null,l,n,null,s,a,lt(n)))}return e},h=(e,t,r,n,s)=>{const o=i(e),u=p(a(e),t,o,r,n,s);return u&&ct(u)&&"]"===u.data?a(t.anchor=u):(ot=!0,l(t.anchor=c("]"),o,u),u)},f=(e,t,n,s,l)=>{if(ot=!0,t.el=null,l){const t=g(e);for(;;){const r=a(e);if(!r||r===t)break;o(r)}}const c=a(e),u=i(e);return o(e),r(null,t,u,c,n,s,lt(u)),c},g=e=>{let t=0;for(;e;)if((e=a(e))&&ct(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return a(e);t--}return e};return[(e,t)=>{ot=!1,u(t.firstChild,e,null,null),O(),ot&&console.error("Hydration completed but contains mismatches.")},u]}function dt(e){return Object(s.o)(e)?{setup:e,name:e.name}:e}function pt(e){Object(s.o)(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:a,delay:i=200,timeout:o,suspensible:l=!0,onError:u}=e;let d,p=null,h=0;const f=()=>{let e;return p||(e=p=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise((t,r)=>{u(e,()=>t((h++,p=null,f())),()=>r(e),h+1)});throw e}).then(t=>e!==p&&p?p:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),d=t,t)))};return dt({__asyncLoader:f,name:"AsyncComponentWrapper",setup(){const e=Tr;if(d)return()=>ht(d,e);const t=t=>{p=null,c(t,e,13,!a)};if(l&&e.suspense)return f().then(t=>()=>ht(t,e)).catch(e=>(t(e),()=>a?er(a,{error:e}):null));const s=Object(n.ref)(!1),u=Object(n.ref)(),h=Object(n.ref)(!!i);return i&&setTimeout(()=>{h.value=!1},i),null!=o&&setTimeout(()=>{if(!s.value&&!u.value){const e=new Error(`Async component timed out after ${o}ms.`);t(e),u.value=e}},o),f().then(()=>{s.value=!0}).catch(e=>{t(e),u.value=e}),()=>s.value&&d?ht(d,e):u.value&&a?er(a,{error:u.value}):r&&!h.value?er(r):void 0}})}function ht(e,{vnode:{ref:t,props:r,children:n}}){const s=er(e,r,n);return s.ref=t,s}const ft={scheduler:P,allowRecurse:!0};const gt=Z,_t=(e,t,r,a)=>{if(Object(s.n)(e))return void e.forEach((e,n)=>_t(e,t&&(Object(s.n)(t)?t[n]:t),r,a));let i;i=!a||(e=>!!e.type.__asyncLoader)(a)?null:4&a.shapeFlag?a.component.exposed||a.component.proxy:a.el;const{i:l,r:c}=e;const u=t&&t.r,d=l.refs===s.b?l.refs={}:l.refs,p=l.setupState;if(null!=u&&u!==c&&(Object(s.B)(u)?(d[u]=null,Object(s.k)(p,u)&&(p[u]=null)):Object(n.isRef)(u)&&(u.value=null)),Object(s.B)(c)){const e=()=>{d[c]=i,Object(s.k)(p,c)&&(p[c]=i)};i?(e.id=-1,gt(e,r)):e()}else if(Object(n.isRef)(c)){const e=()=>{c.value=i};i?(e.id=-1,gt(e,r)):e()}else Object(s.o)(c)&&o(c,l,12,[i,d])};function Et(e){return mt(e)}function St(e){return mt(e,ut)}function mt(e,t){if(function(){let e=!1;"boolean"!=typeof __VUE_OPTIONS_API__&&(e=!0,Object(s.i)().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(e=!0,Object(s.i)().__VUE_PROD_DEVTOOLS__=!1)}(),__VUE_PROD_DEVTOOLS__){const e=Object(s.i)();e.__VUE__=!0,x(e.__VUE_DEVTOOLS_GLOBAL_HOOK__)}const{insert:r,remove:a,patchProp:i,forcePatchProp:l,createElement:c,createText:u,createComment:d,setText:h,setElementText:f,parentNode:g,nextSibling:_,setScopeId:E=s.d,cloneNode:S,insertStaticContent:m}=e,C=(e,t,r,n=null,s=null,a=null,i=!1,o=!1)=>{e&&!qt(e,t)&&(n=se(e),Q(e,s,a,!0),e=null),-2===t.patchFlag&&(o=!1,t.dynamicChildren=null);const{type:l,ref:c,shapeFlag:u}=t;switch(l){case kt:b(e,t,r,n);break;case Ut:A(e,t,r,n);break;case Ft:null==e&&v(t,r,n,i);break;case wt:j(e,t,r,n,s,a,i,o);break;default:1&u?y(e,t,r,n,s,a,i,o):6&u?V(e,t,r,n,s,a,i,o):64&u?l.process(e,t,r,n,s,a,i,o,ie):128&u&&l.process(e,t,r,n,s,a,i,o,ie)}null!=c&&s&&_t(c,e&&e.ref,a,t)},b=(e,t,n,s)=>{if(null==e)r(t.el=u(t.children),n,s);else{const r=t.el=e.el;t.children!==e.children&&h(r,t.children)}},A=(e,t,n,s)=>{null==e?r(t.el=d(t.children||""),n,s):t.el=e.el},v=(e,t,r,n)=>{[e.el,e.anchor]=m(e.children,t,r,n)},P=({el:e,anchor:t})=>{let r;for(;e&&e!==t;)r=_(e),a(e),e=r;a(t)},y=(e,t,r,n,s,a,i,o)=>{i=i||"svg"===t.type,null==e?T(t,r,n,s,a,i,o):L(e,t,s,a,i,o)},T=(e,t,n,a,o,l,u)=>{let d,p;const{type:h,props:g,shapeFlag:_,transition:E,scopeId:m,patchFlag:C,dirs:b}=e;if(e.el&&void 0!==S&&-1===C)d=e.el=S(e.el);else{if(d=e.el=c(e.type,l,g&&g.is),8&_?f(d,e.children):16&_&&N(e.children,d,null,a,o,l&&"foreignObject"!==h,u||!!e.dynamicChildren),b&&nt(e,null,a,"created"),g){for(const t in g)Object(s.x)(t)||i(d,t,null,g[t],l,e.children,a,o,ne);(p=g.onVnodeBeforeMount)&&Ct(p,a,e)}I(d,m,e,a)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(d,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(d,"__vueParentComponent",{value:a,enumerable:!1})),b&&nt(e,null,a,"beforeMount");const A=(!o||o&&!o.pendingBranch)&&E&&!E.persisted;A&&E.beforeEnter(d),r(d,t,n),((p=g&&g.onVnodeMounted)||A||b)&&gt(()=>{p&&Ct(p,a,e),A&&E.enter(d),b&&nt(e,null,a,"mounted")},o)},I=(e,t,r,n)=>{if(t&&E(e,t),n){const s=n.type.__scopeId;s&&s!==t&&E(e,s+"-s"),0,r===n.subTree&&I(e,n.vnode.scopeId,n.vnode,n.parent)}},N=(e,t,r,n,s,a,i,o=0)=>{for(let l=o;l<e.length;l++){const o=e[l]=i?or(e[l]):ir(e[l]);C(null,o,t,r,n,s,a,i)}},L=(e,t,r,n,a,o)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=t;u|=16&e.patchFlag;const h=e.props||s.b,g=t.props||s.b;let _;if((_=g.onVnodeBeforeUpdate)&&Ct(_,r,t,e),p&&nt(t,e,r,"beforeUpdate"),u>0){if(16&u)k(c,t,h,g,r,n,a);else if(2&u&&h.class!==g.class&&i(c,"class",null,g.class,a),4&u&&i(c,"style",h.style,g.style,a),8&u){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const o=s[t],u=h[o],d=g[o];(d!==u||l&&l(c,o))&&i(c,o,u,d,a,e.children,r,n,ne)}}1&u&&e.children!==t.children&&f(c,t.children)}else o||null!=d||k(c,t,h,g,r,n,a);const E=a&&"foreignObject"!==t.type;d?B(e.dynamicChildren,d,c,r,n,E):o||q(e,t,c,null,r,n,E),((_=g.onVnodeUpdated)||p)&&gt(()=>{_&&Ct(_,r,t,e),p&&nt(t,e,r,"updated")},n)},B=(e,t,r,n,s,a)=>{for(let i=0;i<t.length;i++){const o=e[i],l=t[i],c=o.type===wt||!qt(o,l)||6&o.shapeFlag||64&o.shapeFlag?g(o.el):r;C(o,l,c,null,n,s,a,!0)}},k=(e,t,r,n,a,o,c)=>{if(r!==n){for(const u in n){if(Object(s.x)(u))continue;const d=n[u],p=r[u];(d!==p||l&&l(e,u))&&i(e,u,p,d,c,t.children,a,o,ne)}if(r!==s.b)for(const l in r)Object(s.x)(l)||l in n||i(e,l,r[l],null,c,t.children,a,o,ne)}},j=(e,t,n,s,a,i,o,l)=>{const c=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:p,dynamicChildren:h}=t;p>0&&(l=!0),null==e?(r(c,n,s),r(d,n,s),N(t.children,n,d,a,i,o,l)):p>0&&64&p&&h&&e.dynamicChildren?(B(e.dynamicChildren,h,n,a,i,o),(null!=t.key||a&&t===a.subTree)&&bt(e,t,!0)):q(e,t,n,d,a,i,o,l)},V=(e,t,r,n,s,a,i,o)=>{null==e?512&t.shapeFlag?s.ctx.activate(t,r,n,i,o):X(t,r,n,s,a,i,o):$(e,t,o)},X=(e,t,r,a,i,l,c)=>{const u=e.component=function(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||Pr,i={uid:yr++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:function e(t,r,n=!1){if(!r.deopt&&t.__props)return t.__props;const a=t.props,i={},o=[];let l=!1;if(__VUE_OPTIONS_API__&&!Object(s.o)(t)){const a=t=>{l=!0;const[n,a]=e(t,r,!0);Object(s.h)(i,n),a&&o.push(...a)};!n&&r.mixins.length&&r.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}if(!a&&!l)return t.__props=s.a;if(Object(s.n)(a))for(let e=0;e<a.length;e++){const t=Object(s.e)(a[e]);de(t)&&(i[t]=s.b)}else if(a)for(const e in a){const t=Object(s.e)(e);if(de(t)){const r=a[e],n=i[t]=Object(s.n)(r)||Object(s.o)(r)?{type:r}:r;if(n){const e=fe(Boolean,n.type),r=fe(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||Object(s.k)(n,"default"))&&o.push(t)}}}return t.__props=[i,o]}(n,a),emitsOptions:function e(t,r,n=!1){if(!r.deopt&&void 0!==t.__emits)return t.__emits;const a=t.emits;let i={},o=!1;if(__VUE_OPTIONS_API__&&!Object(s.o)(t)){const a=t=>{o=!0,Object(s.h)(i,e(t,r,!0))};!n&&r.mixins.length&&r.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return a||o?(Object(s.n)(a)?a.forEach(e=>i[e]=null):Object(s.h)(i,a),t.__emits=i):t.__emits=null}(n,a),emit:null,emitted:null,ctx:s.b,data:s.b,props:s.b,attrs:s.b,slots:s.b,refs:s.b,setupState:s.b,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};i.ctx={_:i};return i.root=t?t.root:i,i.emit=U.bind(null,i),i}(e,a,i);if(je(e)&&(u.ctx.renderer=ie),function(e,t=!1){Lr=t;const{props:r,children:a}=e.vnode,i=Or(e);(function(e,t,r,a=!1){const i={},o={};Object(s.g)(o,zt,1),ce(e,t,i,o),r?e.props=a?i:Object(n.shallowReactive)(i):e.type.props?e.props=i:e.props=o,e.attrs=o})(e,r,i,t),et(e,a);const l=i?function(e,t){const r=e.type;0;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ar),0;const{setup:a}=r;if(a){const r=e.setupContext=a.length>1?wr(e):null;Tr=e,Object(n.pauseTracking)();const i=o(a,e,0,[e.props,r]);if(Object(n.resetTracking)(),Tr=null,Object(s.w)(i)){if(t)return i.then(t=>{Br(e,t)});e.asyncDep=i}else Br(e,i)}else Mr(e)}(e,t):void 0;Lr=!1}(u),u.asyncDep){if(i&&i.registerDep(u,H),!e.el){const e=u.subTree=er(Ut);A(null,e,t,r)}}else H(u,e,t,r,i,l,c)},$=(e,t,r)=>{const n=t.component=e.component;if(function(e,t,r){const{props:n,children:s,component:a}=e,{props:i,children:o,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!s&&!o||o&&o.$stable)||n!==i&&(n?!i||W(n,i,c):!!i);if(1024&l)return!0;if(16&l)return n?W(n,i,c):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(i[r]!==n[r]&&!F(c,r))return!0}}return!1}(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void K(n,t,r);n.next=t,function(e){const t=p.indexOf(e);t>-1&&p.splice(t,1)}(n.update),n.update()}else t.component=e.component,t.el=e.el,n.vnode=t},H=(e,t,r,a,i,o,l)=>{e.update=Object(n.effect)(function(){if(e.isMounted){let t,{next:r,bu:n,u:a,parent:c,vnode:u}=e,d=r;0,r?(r.el=u.el,K(e,r,l)):r=u,n&&Object(s.m)(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&Ct(t,c,r,u);const p=G(e);0;const h=e.subTree;e.subTree=p,C(h,p,g(h.el),se(h),e,i,o),r.el=p.el,null===d&&Y(e,p.el),a&&gt(a,i),(t=r.props&&r.props.onVnodeUpdated)&&gt(()=>{Ct(t,c,r,u)},i),__VUE_PROD_DEVTOOLS__&&M(e)}else{let n;const{el:l,props:c}=t,{bm:u,m:d,parent:p}=e;u&&Object(s.m)(u),(n=c&&c.onVnodeBeforeMount)&&Ct(n,p,t);const h=e.subTree=G(e);if(l&&le?le(t.el,h,e,i):(C(null,h,r,a,e,i,o),t.el=h.el),d&&gt(d,i),n=c&&c.onVnodeMounted){const e=t;gt(()=>{Ct(n,p,e)},i)}const{a:f}=e;f&&256&t.shapeFlag&&gt(f,i),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&D(e),t=r=a=null}},ft)},K=(e,t,r)=>{t.component=e;const a=e.vnode.props;e.vnode=t,e.next=null,function(e,t,r,a){const{props:i,attrs:o,vnode:{patchFlag:l}}=e,c=Object(n.toRaw)(i),[u]=e.propsOptions;if(!(a||l>0)||16&l){let n;ce(e,t,i,o);for(const a in c)t&&(Object(s.k)(t,a)||(n=Object(s.l)(a))!==a&&Object(s.k)(t,n))||(u?!r||void 0===r[a]&&void 0===r[n]||(i[a]=ue(u,t||s.b,a,void 0,e)):delete i[a]);if(o!==c)for(const e in o)t&&Object(s.k)(t,e)||delete o[e]}else if(8&l){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){const a=r[n],l=t[a];if(u)if(Object(s.k)(o,a))o[a]=l;else{const t=Object(s.e)(a);i[t]=ue(u,c,t,l,e)}else o[a]=l}}Object(n.trigger)(e,"set","$attrs")}(e,t.props,a,r),tt(e,t.children),R(void 0,e.update)},q=(e,t,r,n,s,a,i,o=!1)=>{const l=e&&e.children,c=e?e.shapeFlag:0,u=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void z(l,u,r,n,s,a,i,o);if(256&d)return void J(l,u,r,n,s,a,i,o)}8&p?(16&c&&ne(l,s,a),u!==l&&f(r,u)):16&c?16&p?z(l,u,r,n,s,a,i,o):ne(l,s,a,!0):(8&c&&f(r,""),16&p&&N(u,r,n,s,a,i,o))},J=(e,t,r,n,a,i,o,l)=>{e=e||s.a,t=t||s.a;const c=e.length,u=t.length,d=Math.min(c,u);let p;for(p=0;p<d;p++){const n=t[p]=l?or(t[p]):ir(t[p]);C(e[p],n,r,null,a,i,o,l)}c>u?ne(e,a,i,!0,!1,d):N(t,r,n,a,i,o,l,d)},z=(e,t,r,n,a,i,o,l)=>{let c=0;const u=t.length;let d=e.length-1,p=u-1;for(;c<=d&&c<=p;){const n=e[c],s=t[c]=l?or(t[c]):ir(t[c]);if(!qt(n,s))break;C(n,s,r,null,a,i,o,l),c++}for(;c<=d&&c<=p;){const n=e[d],s=t[p]=l?or(t[p]):ir(t[p]);if(!qt(n,s))break;C(n,s,r,null,a,i,o,l),d--,p--}if(c>d){if(c<=p){const e=p+1,s=e<u?t[e].el:n;for(;c<=p;)C(null,t[c]=l?or(t[c]):ir(t[c]),r,s,a,i,o),c++}}else if(c>p)for(;c<=d;)Q(e[c],a,i,!0),c++;else{const h=c,f=c,g=new Map;for(c=f;c<=p;c++){const e=t[c]=l?or(t[c]):ir(t[c]);null!=e.key&&g.set(e.key,c)}let _,E=0;const S=p-f+1;let m=!1,b=0;const A=new Array(S);for(c=0;c<S;c++)A[c]=0;for(c=h;c<=d;c++){const n=e[c];if(E>=S){Q(n,a,i,!0);continue}let s;if(null!=n.key)s=g.get(n.key);else for(_=f;_<=p;_++)if(0===A[_-f]&&qt(n,t[_])){s=_;break}void 0===s?Q(n,a,i,!0):(A[s-f]=c+1,s>=b?b=s:m=!0,C(n,t[s],r,null,a,i,o,l),E++)}const v=m?function(e){const t=e.slice(),r=[0];let n,s,a,i,o;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(s=r[r.length-1],e[s]<l){t[n]=s,r.push(n);continue}for(a=0,i=r.length-1;a<i;)e[r[o=(a+i)/2|0]]<l?a=o+1:i=o;l<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}a=r.length,i=r[a-1];for(;a-- >0;)r[a]=i,i=t[i];return r}(A):s.a;for(_=v.length-1,c=S-1;c>=0;c--){const e=f+c,s=t[e],l=e+1<u?t[e+1].el:n;0===A[c]?C(null,s,r,l,a,i,o):m&&(_<0||c!==v[_]?Z(s,r,l,2):_--)}}},Z=(e,t,n,s,a=null)=>{const{el:i,type:o,transition:l,children:c,shapeFlag:u}=e;if(6&u)Z(e.component.subTree,t,n,s);else if(128&u)e.suspense.move(t,n,s);else if(64&u)o.move(e,t,n,ie);else if(o!==wt)if(o!==Ft)if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(i),r(i,t,n),gt(()=>l.enter(i),a);else{const{leave:e,delayLeave:s,afterLeave:a}=l,o=()=>r(i,t,n),c=()=>{e(i,()=>{o(),a&&a()})};s?s(i,o,c):c()}else r(i,t,n);else(({el:e,anchor:t},n,s)=>{let a;for(;e&&e!==t;)a=_(e),r(e,n,s),e=a;r(t,n,s)})(e,t,n);else{r(i,t,n);for(let e=0;e<c.length;e++)Z(c[e],t,n,s);r(e.anchor,t,n)}},Q=(e,t,r,n=!1,s=!1)=>{const{type:a,props:i,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:p}=e;if(null!=o&&_t(o,null,r,null),256&u)return void t.ctx.deactivate(e);const h=1&u&&p;let f;if((f=i&&i.onVnodeBeforeUnmount)&&Ct(f,t,e),6&u)re(e.component,r,n);else{if(128&u)return void e.suspense.unmount(r,n);h&&nt(e,null,t,"beforeUnmount"),c&&(a!==wt||d>0&&64&d)?ne(c,t,r,!1,!0):(a===wt&&(128&d||256&d)||!s&&16&u)&&ne(l,t,r),64&u&&(n||!vt(e.props))&&e.type.remove(e,ie),n&&ee(e)}((f=i&&i.onVnodeUnmounted)||h)&&gt(()=>{f&&Ct(f,t,e),h&&nt(e,null,t,"unmounted")},r)},ee=e=>{const{type:t,el:r,anchor:n,transition:s}=e;if(t===wt)return void te(r,n);if(t===Ft)return void P(e);const i=()=>{a(r),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&e.shapeFlag&&s&&!s.persisted){const{leave:t,delayLeave:n}=s,a=()=>t(r,i);n?n(e.el,i,a):a()}else i()},te=(e,t)=>{let r;for(;e!==t;)r=_(e),a(e),e=r;a(t)},re=(e,t,r)=>{const{bum:a,effects:i,update:o,subTree:l,um:c}=e;if(a&&Object(s.m)(a),i)for(let e=0;e<i.length;e++)Object(n.stop)(i[e]);o&&(Object(n.stop)(o),Q(l,e,t,r)),c&&gt(c,t),gt(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&w(e)},ne=(e,t,r,n=!1,s=!1,a=0)=>{for(let i=a;i<e.length;i++)Q(e[i],t,r,n,s)},se=e=>6&e.shapeFlag?se(e.component.subTree):128&e.shapeFlag?e.suspense.next():_(e.anchor||e.el),ae=(e,t)=>{null==e?t._vnode&&Q(t._vnode,null,null,!0):C(t._vnode||null,e,t),O(),t._vnode=e},ie={p:C,um:Q,m:Z,r:ee,mt:X,mc:N,pc:q,pbc:B,n:se,o:e};let oe,le;return t&&([oe,le]=t(ie)),{render:ae,hydrate:oe,createApp:it(ae,oe)}}function Ct(e,t,r,n=null){l(e,t,7,[r,n])}function bt(e,t,r=!1){const n=e.children,a=t.children;if(Object(s.n)(n)&&Object(s.n)(a))for(let e=0;e<n.length;e++){const t=n[e];let s=a[e];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&((s=a[e]=or(a[e])).el=t.el),r||bt(t,s))}}const At=e=>e.__isTeleport,vt=e=>e&&(e.disabled||""===e.disabled),Pt=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,yt=(e,t)=>{const r=e&&e.to;if(Object(s.B)(r)){if(t){const e=t(r);return e}return null}return r};function Tt(e,t,r,{o:{insert:n},m:s},a=2){0===a&&n(e.targetAnchor,t,r);const{el:i,anchor:o,shapeFlag:l,children:c,props:u}=e,d=2===a;if(d&&n(i,t,r),(!d||vt(u))&&16&l)for(let e=0;e<c.length;e++)s(c[e],t,r,2);d&&n(o,t,r)}const It={__isTeleport:!0,process(e,t,r,n,s,a,i,o,l){const{mc:c,pc:u,pbc:d,o:{insert:p,querySelector:h,createText:f,createComment:g}}=l,_=vt(t.props),{shapeFlag:E,children:S}=t;if(null==e){const e=t.el=f(""),l=t.anchor=f("");p(e,r,n),p(l,r,n);const u=t.target=yt(t.props,h),d=t.targetAnchor=f("");u&&(p(d,u),i=i||Pt(u));const g=(e,t)=>{16&E&&c(S,e,t,s,a,i,o)};_?g(r,l):u&&g(u,d)}else{t.el=e.el;const n=t.anchor=e.anchor,c=t.target=e.target,p=t.targetAnchor=e.targetAnchor,f=vt(e.props),g=f?r:c,E=f?n:p;if(i=i||Pt(c),t.dynamicChildren?(d(e.dynamicChildren,t.dynamicChildren,g,s,a,i),bt(e,t,!0)):o||u(e,t,g,E,s,a,i),_)f||Tt(t,r,n,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=yt(t.props,h);e&&Tt(t,e,null,l,0)}else f&&Tt(t,c,p,l,1)}},remove(e,{r:t,o:{remove:r}}){const{shapeFlag:n,children:s,anchor:a}=e;if(r(a),16&n)for(let e=0;e<s.length;e++)t(s[e])},move:Tt,hydrate:function(e,t,r,n,s,{o:{nextSibling:a,parentNode:i,querySelector:o}},l){const c=t.target=yt(t.props,o);if(c){const o=c._lpa||c.firstChild;16&t.shapeFlag&&(vt(t.props)?(t.anchor=l(a(e),t,i(e),r,n,s),t.targetAnchor=o):(t.anchor=a(e),t.targetAnchor=l(o,t,c,r,n,s)),c._lpa=t.targetAnchor&&a(t.targetAnchor))}return t.anchor&&a(t.anchor)}},Rt="components",Ot="directives";function Nt(e){return Dt(Rt,e)||e}const Lt=Symbol();function Bt(e){return Object(s.B)(e)?Dt(Rt,e,!1)||e:e||Lt}function xt(e){return Dt(Ot,e)}function Dt(e,t,r=!0){const n=j||Tr;if(n){const r=n.type;if(e===Rt){if("_self"===t)return r;const e=jr(r);if(e&&(e===t||e===Object(s.e)(t)||e===Object(s.f)(Object(s.e)(t))))return r}return Mt(n[e]||r[e],t)||Mt(n.appContext[e],t)}}function Mt(e,t){return e&&(e[t]||e[Object(s.e)(t)]||e[Object(s.f)(Object(s.e)(t))])}const wt=Symbol(void 0),kt=Symbol(void 0),Ut=Symbol(void 0),Ft=Symbol(void 0),jt=[];let Vt=null;function Gt(e=!1){jt.push(Vt=e?null:[])}function Xt(){jt.pop(),Vt=jt[jt.length-1]||null}let $t,Ht=1;function Wt(e){Ht+=e}function Yt(e,t,r,n,a){const i=er(e,t,r,n,a,!0);return i.dynamicChildren=Vt||s.a,Xt(),Ht>0&&Vt&&Vt.push(i),i}function Kt(e){return!!e&&!0===e.__v_isVNode}function qt(e,t){return e.type===t.type&&e.key===t.key}function Jt(e){$t=e}const zt="__vInternal",Zt=({key:e})=>null!=e?e:null,Qt=({ref:e})=>null!=e?Object(s.B)(e)||Object(n.isRef)(e)||Object(s.o)(e)?{i:j,r:e}:e:null,er=tr;function tr(e,t=null,r=null,a=0,i=null,o=!1){if(e&&e!==Lt||(e=Ut),Kt(e)){const n=rr(e,t,!0);return r&&lr(n,r),n}if(Gr(e)&&(e=e.__vccOpts),t){(Object(n.isProxy)(t)||zt in t)&&(t=Object(s.h)({},t));let{class:e,style:r}=t;e&&!Object(s.B)(e)&&(t.class=Object(s.G)(e)),Object(s.u)(r)&&(Object(n.isProxy)(r)&&!Object(s.n)(r)&&(r=Object(s.h)({},r)),t.style=Object(s.H)(r))}const l=Object(s.B)(e)?1:K(e)?128:At(e)?64:Object(s.u)(e)?4:Object(s.o)(e)?2:0;const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zt(t),ref:t&&Qt(t),scopeId:se,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null};if(lr(c,r),128&l){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:r}=e;let n,s;return 32&t?(n=z(r.default),s=z(r.fallback)):(n=z(r),s=ir(null)),{content:n,fallback:s}}(c);c.ssContent=e,c.ssFallback=t}return Ht>0&&!o&&Vt&&(a>0||6&l)&&32!==a&&Vt.push(c),c}function rr(e,t,r=!1){const{props:n,ref:a,patchFlag:i,children:o}=e,l=t?cr(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Zt(l),ref:t&&t.ref?r&&a?Object(s.n)(a)?a.concat(Qt(t)):[a,Qt(t)]:Qt(t):a,scopeId:e.scopeId,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wt?-1===i?16:16|i:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rr(e.ssContent),ssFallback:e.ssFallback&&rr(e.ssFallback),el:e.el,anchor:e.anchor}}function nr(e=" ",t=0){return er(kt,null,e,t)}function sr(e,t){const r=er(Ft,null,e);return r.staticCount=t,r}function ar(e="",t=!1){return t?(Gt(),Yt(Ut,null,e)):er(Ut,null,e)}function ir(e){return null==e||"boolean"==typeof e?er(Ut):Object(s.n)(e)?er(wt,null,e):"object"==typeof e?null===e.el?e:rr(e):er(kt,null,String(e))}function or(e){return null===e.el?e:rr(e)}function lr(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(Object(s.n)(t))r=16;else if("object"==typeof t){if(1&n||64&n){const r=t.default;return void(r&&(r._c&&te(1),lr(e,r()),r._c&&te(-1)))}{r=32;const n=t._;n||zt in t?3===n&&j&&(1024&j.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=j}}else Object(s.o)(t)?(t={default:t,_ctx:j},r=32):(t=String(t),64&n?(r=16,t=[nr(t)]):r=8);e.children=t,e.shapeFlag|=r}function cr(...e){const t=Object(s.h)({},e[0]);for(let r=1;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=Object(s.G)([t.class,n.class]));else if("style"===e)t.style=Object(s.H)([t.style,n.style]);else if(Object(s.v)(e)){const r=t[e],s=n[e];r!==s&&(t[e]=r?[].concat(r,n[e]):s)}else""!==e&&(t[e]=n[e])}return t}function ur(e,t){if(Tr){let r=Tr.provides;const n=Tr.parent&&Tr.parent.provides;n===r&&(r=Tr.provides=Object.create(n)),r[e]=t}else 0}function dr(e,t,r=!1){const n=Tr||j;if(n){const a=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(a&&e in a)return a[e];if(arguments.length>1)return r&&Object(s.o)(t)?t():t}else 0}let pr=!1;function hr(e,t,r=[],a=[],i=[],o=!1){const{mixins:l,extends:c,data:u,computed:d,methods:p,watch:h,provide:f,inject:g,components:_,directives:E,beforeMount:S,mounted:m,beforeUpdate:C,updated:b,activated:A,deactivated:v,beforeDestroy:P,beforeUnmount:y,destroyed:T,unmounted:I,render:R,renderTracked:O,renderTriggered:N,errorCaptured:L,expose:B}=t,x=e.proxy,D=e.ctx,M=e.appContext.mixins;o&&R&&e.render===s.d&&(e.render=R),o||(pr=!0,fr("beforeCreate","bc",t,e,M),pr=!1,_r(e,M,r,a,i)),c&&hr(e,c,r,a,i,!0),l&&_r(e,l,r,a,i);if(g)if(Object(s.n)(g))for(let e=0;e<g.length;e++){const t=g[e];D[t]=dr(t)}else for(const e in g){const t=g[e];Object(s.u)(t)?D[e]=dr(t.from||e,t.default,!0):D[e]=dr(t)}if(p)for(const e in p){const t=p[e];Object(s.o)(t)&&(D[e]=t.bind(x))}if(o?u&&r.push(u):(r.length&&r.forEach(t=>Er(e,t,x)),u&&Er(e,u,x)),d)for(const e in d){const t=d[e];0;const r=Xr({get:Object(s.o)(t)?t.bind(x,x):Object(s.o)(t.get)?t.get.bind(x,x):s.d,set:!Object(s.o)(t)&&Object(s.o)(t.set)?t.set.bind(x):s.d});Object.defineProperty(D,e,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e})}if(h&&a.push(h),!o&&a.length&&a.forEach(e=>{for(const t in e)Sr(e[t],D,x,t)}),f&&i.push(f),!o&&i.length&&i.forEach(e=>{const t=Object(s.o)(e)?e.call(x):e;Reflect.ownKeys(t).forEach(e=>{ur(e,t[e])})}),o&&(_&&Object(s.h)(e.components||(e.components=Object(s.h)({},e.type.components)),_),E&&Object(s.h)(e.directives||(e.directives=Object(s.h)({},e.type.directives)),E)),o||fr("created","c",t,e,M),S&&Ee(S.bind(x)),m&&Se(m.bind(x)),C&&me(C.bind(x)),b&&Ce(b.bind(x)),A&&Xe(A.bind(x)),v&&$e(v.bind(x)),L&&ye(L.bind(x)),O&&Pe(O.bind(x)),N&&ve(N.bind(x)),y&&be(y.bind(x)),I&&Ae(I.bind(x)),Object(s.n)(B))if(o)0;else if(B.length){const t=e.exposed||(e.exposed=Object(n.proxyRefs)({}));B.forEach(e=>{t[e]=Object(n.toRef)(x,e)})}else e.exposed||(e.exposed=s.b)}function fr(e,t,r,n,s){gr(e,t,s,n);const{extends:a,mixins:i}=r;a&&function e(t,r,n,s){n.extends&&e(t,r,n.extends,s);const a=n[t];a&&l(a.bind(s.proxy),s,r)}(e,t,a,n),i&&gr(e,t,i,n);const o=r[e];o&&l(o.bind(n.proxy),n,t)}function gr(e,t,r,n){for(let s=0;s<r.length;s++){const a=r[s].mixins;a&&gr(e,t,a,n);const i=r[s][e];i&&l(i.bind(n.proxy),n,t)}}function _r(e,t,r,n,s){for(let a=0;a<t.length;a++)hr(e,t[a],r,n,s,!0)}function Er(e,t,r){const a=t.call(r,r);Object(s.u)(a)&&(e.data===s.b?e.data=Object(n.reactive)(a):Object(s.h)(e.data,a))}function Sr(e,t,r,n){const a=n.includes(".")?function(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}(r,n):()=>r[n];if(Object(s.B)(e)){const r=t[e];Object(s.o)(r)&&Re(a,r)}else if(Object(s.o)(e))Re(a,e.bind(r));else if(Object(s.u)(e))if(Object(s.n)(e))e.forEach(e=>Sr(e,t,r,n));else{const n=Object(s.o)(e.handler)?e.handler.bind(r):t[e.handler];Object(s.o)(n)&&Re(a,n,e)}else 0}function mr(e,t,r){const n=r.appContext.config.optionMergeStrategies,{mixins:a,extends:i}=t;i&&mr(e,i,r),a&&a.forEach(t=>mr(e,t,r));for(const a in t)n&&Object(s.k)(n,a)?e[a]=n[a](e[a],t[a],r.proxy,a):e[a]=t[a]}const Cr=e=>e?Or(e)?e.exposed?e.exposed:e.proxy:Cr(e.parent):null,br=Object(s.h)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Cr(e.parent),$root:e=>Cr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?function(e){const t=e.type,{__merged:r,mixins:n,extends:s}=t;if(r)return r;const a=e.appContext.mixins;if(!a.length&&!n&&!s)return t;const i={};return a.forEach(t=>mr(i,t,e)),mr(i,t,e),t.__merged=i}(e):e.type,$forceUpdate:e=>()=>P(e.update),$nextTick:e=>v.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?function(e,t,r){const n=this.proxy;return Oe(Object(s.B)(e)?()=>n[e]:e.bind(n),t.bind(n),r,this)}.bind(e):s.d}),Ar={get({_:e},t){const{ctx:r,setupState:a,data:i,props:o,accessCache:l,type:c,appContext:u}=e;if("__v_skip"===t)return!0;let d;if("$"!==t[0]){const n=l[t];if(void 0!==n)switch(n){case 0:return a[t];case 1:return i[t];case 3:return r[t];case 2:return o[t]}else{if(a!==s.b&&Object(s.k)(a,t))return l[t]=0,a[t];if(i!==s.b&&Object(s.k)(i,t))return l[t]=1,i[t];if((d=e.propsOptions[0])&&Object(s.k)(d,t))return l[t]=2,o[t];if(r!==s.b&&Object(s.k)(r,t))return l[t]=3,r[t];__VUE_OPTIONS_API__&&pr||(l[t]=4)}}const p=br[t];let h,f;return p?("$attrs"===t&&Object(n.track)(e,"get",t),p(e)):(h=c.__cssModules)&&(h=h[t])?h:r!==s.b&&Object(s.k)(r,t)?(l[t]=3,r[t]):(f=u.config.globalProperties,Object(s.k)(f,t)?f[t]:void 0)},set({_:e},t,r){const{data:n,setupState:a,ctx:i}=e;if(a!==s.b&&Object(s.k)(a,t))a[t]=r;else if(n!==s.b&&Object(s.k)(n,t))n[t]=r;else if(Object(s.k)(e.props,t))return!1;return!("$"===t[0]&&t.slice(1)in e)&&(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:i}},o){let l;return void 0!==r[o]||e!==s.b&&Object(s.k)(e,o)||t!==s.b&&Object(s.k)(t,o)||(l=i[0])&&Object(s.k)(l,o)||Object(s.k)(n,o)||Object(s.k)(br,o)||Object(s.k)(a.config.globalProperties,o)}};const vr=Object(s.h)({},Ar,{get(e,t){if(t!==Symbol.unscopables)return Ar.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!Object(s.p)(t)});const Pr=st();let yr=0;let Tr=null;const Ir=()=>Tr||j,Rr=e=>{Tr=e};function Or(e){return 4&e.vnode.shapeFlag}let Nr,Lr=!1;function Br(e,t,r){Object(s.o)(t)?e.render=t:Object(s.u)(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=Object(n.proxyRefs)(t)),Mr(e)}const xr=()=>!Nr;function Dr(e){Nr=e}function Mr(e,t){const r=e.type;e.render||(Nr&&r.template&&!r.render&&(r.render=Nr(r.template,{isCustomElement:e.appContext.config.isCustomElement,delimiters:r.delimiters})),e.render=r.render||s.d,e.render._rc&&(e.withProxy=new Proxy(e.ctx,vr))),__VUE_OPTIONS_API__&&(Tr=e,Object(n.pauseTracking)(),hr(e,r),Object(n.resetTracking)(),Tr=null)}function wr(e){const t=t=>{e.exposed=Object(n.proxyRefs)(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}function kr(e,t=Tr){t&&(t.effects||(t.effects=[])).push(e)}const Ur=/(?:^|[-_])(\w)/g,Fr=e=>e.replace(Ur,e=>e.toUpperCase()).replace(/[-_]/g,"");function jr(e){return Object(s.o)(e)&&e.displayName||e.name}function Vr(e,t,r=!1){let n=jr(t);if(!n&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(n=e[1])}if(!n&&e&&e.parent){const r=e=>{for(const r in e)if(e[r]===t)return r};n=r(e.components||e.parent.type.components)||r(e.appContext.components)}return n?Fr(n):r?"App":"Anonymous"}function Gr(e){return Object(s.o)(e)&&"__vccOpts"in e}function Xr(e){const t=Object(n.computed)(e);return kr(t.effect),t}function $r(){return null}function Hr(){return null}function Wr(){const e=Ir();return e.setupContext||(e.setupContext=wr(e))}function Yr(e,t,r){const n=arguments.length;return 2===n?Object(s.u)(t)&&!Object(s.n)(t)?Kt(t)?er(e,null,[t]):er(e,t):er(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&Kt(r)&&(r=[r]),er(e,t,r))}const Kr=Symbol(""),qr=()=>{{const e=dr(Kr);return e||i("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function Jr(){return void 0}function zr(e,t){let r;if(Object(s.n)(e)||Object(s.B)(e)){r=new Array(e.length);for(let n=0,s=e.length;n<s;n++)r[n]=t(e[n],n)}else if("number"==typeof e){0,r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n)}else if(Object(s.u)(e))if(e[Symbol.iterator])r=Array.from(e,t);else{const n=Object.keys(e);r=new Array(n.length);for(let s=0,a=n.length;s<a;s++){const a=n[s];r[s]=t(e[a],a,s)}}else r=[];return r}function Zr(e){const t={};for(const r in e)t[Object(s.K)(r)]=e[r];return t}function Qr(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Object(s.n)(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.fn)}return e}const en="3.0.7",tn="http://www.w3.org/2000/svg",rn="undefined"!=typeof document?document:null;let nn,sn;const an={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r)=>t?rn.createElementNS(tn,e):rn.createElement(e,r?{is:r}:void 0),createText:e=>rn.createTextNode(e),createComment:e=>rn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode:e=>e.cloneNode(!0),insertStaticContent(e,t,r,n){const s=n?sn||(sn=rn.createElementNS(tn,"svg")):nn||(nn=rn.createElement("div"));s.innerHTML=e;const a=s.firstChild;let i=a,o=i;for(;i;)o=i,an.insert(i,t,r),i=s.firstChild;return[a,o]}};const on=/\s*!important$/;function ln(e,t,r){if(Object(s.n)(r))r.forEach(r=>ln(e,t,r));else if(t.startsWith("--"))e.setProperty(t,r);else{const n=function(e,t){const r=un[t];if(r)return r;let n=Object(s.e)(t);if("filter"!==n&&n in e)return un[t]=n;n=Object(s.f)(n);for(let r=0;r<cn.length;r++){const s=cn[r]+n;if(s in e)return un[t]=s}return t}(e,t);on.test(r)?e.setProperty(Object(s.l)(n),r.replace(on,""),"important"):e[n]=r}}const cn=["Webkit","Moz","ms"],un={};const dn="http://www.w3.org/1999/xlink";let pn=Date.now;"undefined"!=typeof document&&pn()>document.createEvent("Event").timeStamp&&(pn=(()=>performance.now()));let hn=0;const fn=Promise.resolve(),gn=()=>{hn=0},_n=()=>hn||(fn.then(gn),hn=pn());function En(e,t,r,n){e.addEventListener(t,r,n)}function Sn(e,t,r,n,a=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[r,c]=function(e){let t;if(mn.test(e)){let r;for(t={};r=e.match(mn);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[Object(s.l)(e.slice(2)),t]}(t);if(n){En(e,r,i[t]=function(e,t){const r=e=>{const n=e.timeStamp||pn();n>=r.attached-1&&l(function(e,t){if(Object(s.n)(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=(()=>{r.call(e),e._stopped=!0}),t.map(e=>t=>!t._stopped&&e(t))}return t}(e,r.value),t,5,[e])};return r.value=e,r.attached=_n(),r}(n,a),c)}else o&&(!function(e,t,r,n){e.removeEventListener(t,r,n)}(e,r,o,c),i[t]=void 0)}}const mn=/(?:Once|Passive|Capture)$/;const Cn=/^on[a-z]/;function bn(e="$style"){{const t=Ir();if(!t)return s.b;const r=t.type.__cssModules;if(!r)return s.b;const n=r[e];return n||s.b}}function An(e){const t=Ir();if(!t)return;const r=()=>(function e(t,r){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{e(n.activeBranch,r)})}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el){const e=t.el.style;for(const t in r)e.setProperty(`--${t}`,r[t])}else t.type===wt&&t.children.forEach(t=>e(t,r))})(t.subTree,e(t.proxy));Se(()=>Te(r,{flush:"post"})),Ce(r)}const vn="transition",Pn="animation",yn=(e,{slots:t})=>Yr(xe,Rn(e),t);yn.displayName="Transition";const Tn={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},In=yn.props=Object(s.h)({},xe.props,Tn);function Rn(e){let{name:t="v",type:r,css:n=!0,duration:a,enterFromClass:i=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:d=l,leaveFromClass:p=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=e;const g={};for(const t in e)t in Tn||(g[t]=e[t]);if(!n)return g;const _=function(e){if(null==e)return null;if(Object(s.u)(e))return[On(e.enter),On(e.leave)];{const t=On(e);return[t,t]}}(a),E=_&&_[0],S=_&&_[1],{onBeforeEnter:m,onEnter:C,onEnterCancelled:b,onLeave:A,onLeaveCancelled:v,onBeforeAppear:P=m,onAppear:y=C,onAppearCancelled:T=b}=g,I=(e,t,r)=>{Ln(e,t?d:l),Ln(e,t?u:o),r&&r()},R=(e,t)=>{Ln(e,f),Ln(e,h),t&&t()},O=e=>(t,n)=>{const s=e?y:C,a=()=>I(t,e,n);s&&s(t,a),Bn(()=>{Ln(t,e?c:i),Nn(t,e?d:l),s&&s.length>1||Dn(t,r,E,a)})};return Object(s.h)(g,{onBeforeEnter(e){m&&m(e),Nn(e,i),Nn(e,o)},onBeforeAppear(e){P&&P(e),Nn(e,c),Nn(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){const n=()=>R(e,t);Nn(e,p),Un(),Nn(e,h),Bn(()=>{Ln(e,p),Nn(e,f),A&&A.length>1||Dn(e,r,S,n)}),A&&A(e,n)},onEnterCancelled(e){I(e,!1),b&&b(e)},onAppearCancelled(e){I(e,!0),T&&T(e)},onLeaveCancelled(e){R(e),v&&v(e)}})}function On(e){return Object(s.L)(e)}function Nn(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function Ln(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function Bn(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xn=0;function Dn(e,t,r,n){const s=e._endId=++xn,a=()=>{s===e._endId&&n()};if(r)return setTimeout(a,r);const{type:i,timeout:o,propCount:l}=Mn(e,t);if(!i)return n();const c=i+"end";let u=0;const d=()=>{e.removeEventListener(c,p),a()},p=t=>{t.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),e.addEventListener(c,p)}function Mn(e,t){const r=window.getComputedStyle(e),n=e=>(r[e]||"").split(", "),s=n(vn+"Delay"),a=n(vn+"Duration"),i=wn(s,a),o=n(Pn+"Delay"),l=n(Pn+"Duration"),c=wn(o,l);let u=null,d=0,p=0;return t===vn?i>0&&(u=vn,d=i,p=a.length):t===Pn?c>0&&(u=Pn,d=c,p=l.length):p=(u=(d=Math.max(i,c))>0?i>c?vn:Pn:null)?u===vn?a.length:l.length:0,{type:u,timeout:d,propCount:p,hasTransform:u===vn&&/\b(transform|all)(,|$)/.test(r[vn+"Property"])}}function wn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,r)=>kn(t)+kn(e[r])))}function kn(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Un(){return document.body.offsetHeight}const Fn=new WeakMap,jn=new WeakMap,Vn={name:"TransitionGroup",props:Object(s.h)({},In,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ir(),s=Le();let a,i;return Ce(()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(e=>{e.split(/\s+/).forEach(e=>e&&n.classList.remove(e))});r.split(/\s+/).forEach(e=>e&&n.classList.add(e)),n.style.display="none";const s=1===t.nodeType?t:t.parentNode;s.appendChild(n);const{hasTransform:a}=Mn(n);return s.removeChild(n),a}(a[0].el,r.vnode.el,t))return;a.forEach(Gn),a.forEach(Xn);const n=a.filter($n);Un(),n.forEach(e=>{const r=e.el,n=r.style;Nn(r,t),n.transform=n.webkitTransform=n.transitionDuration="";const s=r._moveCb=(e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",s),r._moveCb=null,Ln(r,t))});r.addEventListener("transitionend",s)})}),()=>{const o=Object(n.toRaw)(e),l=Rn(o),c=o.tag||wt;a=i,i=t.default?Fe(t.default()):[];for(let e=0;e<i.length;e++){const t=i[e];null!=t.key&&Ue(t,Me(t,l,s,r))}if(a)for(let e=0;e<a.length;e++){const t=a[e];Ue(t,Me(t,l,s,r)),Fn.set(t,t.el.getBoundingClientRect())}return er(c,null,i)}}};function Gn(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Xn(e){jn.set(e,e.el.getBoundingClientRect())}function $n(e){const t=Fn.get(e),r=jn.get(e),n=t.left-r.left,s=t.top-r.top;if(n||s){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${n}px,${s}px)`,t.transitionDuration="0s",e}}const Hn=e=>{const t=e.props["onUpdate:modelValue"];return Object(s.n)(t)?e=>Object(s.m)(t,e):t};function Wn(e){e.target.composing=!0}function Yn(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}(t,"input"))}const Kn={created(e,{modifiers:{lazy:t,trim:r,number:n}},a){e._assign=Hn(a);const i=n||"number"===e.type;En(e,t?"change":"input",t=>{if(t.target.composing)return;let n=e.value;r?n=n.trim():i&&(n=Object(s.L)(n)),e._assign(n)}),r&&En(e,"change",()=>{e.value=e.value.trim()}),t||(En(e,"compositionstart",Wn),En(e,"compositionend",Yn),En(e,"change",Yn))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:r,number:n}},a){if(e._assign=Hn(a),e.composing)return;if(document.activeElement===e){if(r&&e.value.trim()===t)return;if((n||"number"===e.type)&&Object(s.L)(e.value)===t)return}const i=null==t?"":t;e.value!==i&&(e.value=i)}},qn={created(e,t,r){e._assign=Hn(r),En(e,"change",()=>{const t=e._modelValue,r=es(e),n=e.checked,a=e._assign;if(Object(s.n)(t)){const e=Object(s.E)(t,r),i=-1!==e;if(n&&!i)a(t.concat(r));else if(!n&&i){const r=[...t];r.splice(e,1),a(r)}}else if(Object(s.z)(t)){const e=new Set(t);n?e.add(r):e.delete(r),a(e)}else a(ts(e,n))})},mounted:Jn,beforeUpdate(e,t,r){e._assign=Hn(r),Jn(e,t,r)}};function Jn(e,{value:t,oldValue:r},n){e._modelValue=t,Object(s.n)(t)?e.checked=Object(s.E)(t,n.props.value)>-1:Object(s.z)(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=Object(s.D)(t,ts(e,!0)))}const zn={created(e,{value:t},r){e.checked=Object(s.D)(t,r.props.value),e._assign=Hn(r),En(e,"change",()=>{e._assign(es(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e._assign=Hn(n),t!==r&&(e.checked=Object(s.D)(t,n.props.value))}},Zn={created(e,{value:t,modifiers:{number:r}},n){const a=Object(s.z)(t);En(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>r?Object(s.L)(es(e)):es(e));e._assign(e.multiple?a?new Set(t):t:t[0])}),e._assign=Hn(n)},mounted(e,{value:t}){Qn(e,t)},beforeUpdate(e,t,r){e._assign=Hn(r)},updated(e,{value:t}){Qn(e,t)}};function Qn(e,t){const r=e.multiple;if(!r||Object(s.n)(t)||Object(s.z)(t)){for(let n=0,a=e.options.length;n<a;n++){const a=e.options[n],i=es(a);if(r)Object(s.n)(t)?a.selected=Object(s.E)(t,i)>-1:a.selected=t.has(i);else if(Object(s.D)(es(a),t))return void(e.selectedIndex=n)}r||(e.selectedIndex=-1)}}function es(e){return"_value"in e?e._value:e.value}function ts(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const rs={created(e,t,r){ns(e,t,r,null,"created")},mounted(e,t,r){ns(e,t,r,null,"mounted")},beforeUpdate(e,t,r,n){ns(e,t,r,n,"beforeUpdate")},updated(e,t,r,n){ns(e,t,r,n,"updated")}};function ns(e,t,r,n,s){let a;switch(e.tagName){case"SELECT":a=Zn;break;case"TEXTAREA":a=Kn;break;default:switch(r.props&&r.props.type){case"checkbox":a=qn;break;case"radio":a=zn;break;default:a=Kn}}const i=a[s];i&&i(e,t,r,n)}const ss=["ctrl","shift","alt","meta"],as={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ss.some(r=>e[`${r}Key`]&&!t.includes(r))},is=(e,t)=>(r,...n)=>{for(let e=0;e<t.length;e++){const n=as[t[e]];if(n&&n(r,t))return}return e(r,...n)},os={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ls=(e,t)=>r=>{if(!("key"in r))return;const n=Object(s.l)(r.key);return t.some(e=>e===n||os[e]===n)?e(r):void 0},cs={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):us(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),us(e,!0),n.enter(e)):n.leave(e,()=>{us(e,!1)}):us(e,t))},beforeUnmount(e,{value:t}){us(e,t)}};function us(e,t){e.style.display=t?e._vod:"none"}const ds=Object(s.h)({patchProp:(e,t,r,n,a=!1,i,o,l,c)=>{switch(t){case"class":!function(e,t,r){if(null==t&&(t=""),r)e.setAttribute("class",t);else{const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),e.className=t}}(e,n,a);break;case"style":!function(e,t,r){const n=e.style;if(r)if(Object(s.B)(r)){if(t!==r){const t=n.display;n.cssText=r,"_vod"in e&&(n.display=t)}}else{for(const e in r)ln(n,e,r[e]);if(t&&!Object(s.B)(t))for(const e in t)null==r[e]&&ln(n,e,"")}else e.removeAttribute("style")}(e,r,n);break;default:Object(s.v)(t)?Object(s.t)(t)||Sn(e,t,0,n,o):function(e,t,r,n){return n?"innerHTML"===t||!!(t in e&&Cn.test(t)&&Object(s.o)(r)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!Cn.test(t)||!Object(s.B)(r))&&t in e))))}(e,t,n,a)?function(e,t,r,n,s,a,i){if("innerHTML"===t||"textContent"===t)return n&&i(n,s,a),void(e[t]=null==r?"":r);if("value"!==t||"PROGRESS"===e.tagName){if(""===r||null==r){const n=typeof e[t];if(""===r&&"boolean"===n)return void(e[t]=!0);if(null==r&&"string"===n)return e[t]="",void e.removeAttribute(t);if("number"===n)return e[t]=0,void e.removeAttribute(t)}try{e[t]=r}catch(e){}}else{e._value=r;const t=null==r?"":r;e.value!==t&&(e.value=t)}}(e,t,n,i,o,l,c):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),function(e,t,r,n){if(n&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(dn,t.slice(6,t.length)):e.setAttributeNS(dn,t,r);else{const n=Object(s.A)(t);null==r||n&&!1===r?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}(e,t,n,a))}},forcePatchProp:(e,t)=>"value"===t},an);let ps,hs=!1;function fs(){return ps||(ps=Et(ds))}function gs(){return ps=hs?ps:St(ds),hs=!0,ps}const _s=(...e)=>{fs().render(...e)},Es=(...e)=>{gs().hydrate(...e)},Ss=(...e)=>{const t=fs().createApp(...e);const{mount:r}=t;return t.mount=(e=>{const n=Cs(e);if(!n)return;const a=t._component;Object(s.o)(a)||a.render||a.template||(a.template=n.innerHTML),n.innerHTML="";const i=r(n);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i}),t},ms=(...e)=>{const t=gs().createApp(...e);const{mount:r}=t;return t.mount=(e=>{const t=Cs(e);if(t)return r(t,!0)}),t};function Cs(e){if(Object(s.B)(e)){return document.querySelector(e)}return e}r.d(t,"compile",function(){return bs}),r.d(t,"Transition",function(){return yn}),r.d(t,"TransitionGroup",function(){return Vn}),r.d(t,"createApp",function(){return Ss}),r.d(t,"createSSRApp",function(){return ms}),r.d(t,"hydrate",function(){return Es}),r.d(t,"render",function(){return _s}),r.d(t,"useCssModule",function(){return bn}),r.d(t,"useCssVars",function(){return An}),r.d(t,"vModelCheckbox",function(){return qn}),r.d(t,"vModelDynamic",function(){return rs}),r.d(t,"vModelRadio",function(){return zn}),r.d(t,"vModelSelect",function(){return Zn}),r.d(t,"vModelText",function(){return Kn}),r.d(t,"vShow",function(){return cs}),r.d(t,"withKeys",function(){return ls}),r.d(t,"withModifiers",function(){return is}),r.d(t,"customRef",function(){return n.customRef}),r.d(t,"isProxy",function(){return n.isProxy}),r.d(t,"isReactive",function(){return n.isReactive}),r.d(t,"isReadonly",function(){return n.isReadonly}),r.d(t,"isRef",function(){return n.isRef}),r.d(t,"markRaw",function(){return n.markRaw}),r.d(t,"proxyRefs",function(){return n.proxyRefs}),r.d(t,"reactive",function(){return n.reactive}),r.d(t,"readonly",function(){return n.readonly}),r.d(t,"ref",function(){return n.ref}),r.d(t,"shallowReactive",function(){return n.shallowReactive}),r.d(t,"shallowReadonly",function(){return n.shallowReadonly}),r.d(t,"shallowRef",function(){return n.shallowRef}),r.d(t,"toRaw",function(){return n.toRaw}),r.d(t,"toRef",function(){return n.toRef}),r.d(t,"toRefs",function(){return n.toRefs}),r.d(t,"triggerRef",function(){return n.triggerRef}),r.d(t,"unref",function(){return n.unref}),r.d(t,"camelize",function(){return s.e}),r.d(t,"capitalize",function(){return s.f}),r.d(t,"toDisplayString",function(){return s.J}),r.d(t,"toHandlerKey",function(){return s.K}),r.d(t,"BaseTransition",function(){return xe}),r.d(t,"Comment",function(){return Ut}),r.d(t,"Fragment",function(){return wt}),r.d(t,"KeepAlive",function(){return Ve}),r.d(t,"Static",function(){return Ft}),r.d(t,"Suspense",function(){return q}),r.d(t,"Teleport",function(){return It}),r.d(t,"Text",function(){return kt}),r.d(t,"callWithAsyncErrorHandling",function(){return l}),r.d(t,"callWithErrorHandling",function(){return o}),r.d(t,"cloneVNode",function(){return rr}),r.d(t,"computed",function(){return Xr}),r.d(t,"createBlock",function(){return Yt}),r.d(t,"createCommentVNode",function(){return ar}),r.d(t,"createHydrationRenderer",function(){return St}),r.d(t,"createRenderer",function(){return Et}),r.d(t,"createSlots",function(){return Qr}),r.d(t,"createStaticVNode",function(){return sr}),r.d(t,"createTextVNode",function(){return nr}),r.d(t,"createVNode",function(){return er}),r.d(t,"defineAsyncComponent",function(){return pt}),r.d(t,"defineComponent",function(){return dt}),r.d(t,"defineEmit",function(){return Hr}),r.d(t,"defineProps",function(){return $r}),r.d(t,"devtools",function(){return B}),r.d(t,"getCurrentInstance",function(){return Ir}),r.d(t,"getTransitionRawChildren",function(){return Fe}),r.d(t,"h",function(){return Yr}),r.d(t,"handleError",function(){return c}),r.d(t,"initCustomFormatter",function(){return Jr}),r.d(t,"inject",function(){return dr}),r.d(t,"isRuntimeOnly",function(){return xr}),r.d(t,"isVNode",function(){return Kt}),r.d(t,"mergeProps",function(){return cr}),r.d(t,"nextTick",function(){return v}),r.d(t,"onActivated",function(){return Xe}),r.d(t,"onBeforeMount",function(){return Ee}),r.d(t,"onBeforeUnmount",function(){return be}),r.d(t,"onBeforeUpdate",function(){return me}),r.d(t,"onDeactivated",function(){return $e}),r.d(t,"onErrorCaptured",function(){return ye}),r.d(t,"onMounted",function(){return Se}),r.d(t,"onRenderTracked",function(){return Pe}),r.d(t,"onRenderTriggered",function(){return ve}),r.d(t,"onUnmounted",function(){return Ae}),r.d(t,"onUpdated",function(){return Ce}),r.d(t,"openBlock",function(){return Gt}),r.d(t,"popScopeId",function(){return oe}),r.d(t,"provide",function(){return ur}),r.d(t,"pushScopeId",function(){return ie}),r.d(t,"queuePostFlushCb",function(){return I}),r.d(t,"registerRuntimeCompiler",function(){return Dr}),r.d(t,"renderList",function(){return zr}),r.d(t,"renderSlot",function(){return re}),r.d(t,"resolveComponent",function(){return Nt}),r.d(t,"resolveDirective",function(){return xt}),r.d(t,"resolveDynamicComponent",function(){return Bt}),r.d(t,"resolveTransitionHooks",function(){return Me}),r.d(t,"setBlockTracking",function(){return Wt}),r.d(t,"setDevtoolsHook",function(){return x}),r.d(t,"setTransitionHooks",function(){return Ue}),r.d(t,"ssrContextKey",function(){return Kr}),r.d(t,"ssrUtils",function(){return null}),r.d(t,"toHandlers",function(){return Zr}),r.d(t,"transformVNodeArgs",function(){return Jt}),r.d(t,"useContext",function(){return Wr}),r.d(t,"useSSRContext",function(){return qr}),r.d(t,"useTransitionState",function(){return Le}),r.d(t,"version",function(){return en}),r.d(t,"warn",function(){return i}),r.d(t,"watch",function(){return Re}),r.d(t,"watchEffect",function(){return Te}),r.d(t,"withCtx",function(){return ne}),r.d(t,"withDirectives",function(){return rt}),r.d(t,"withScopeId",function(){return le});const bs=()=>{0}},function(e,t){var r,n,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=o(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",s=1/0,a="[object Function]",i="[object GeneratorFunction]",o="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,f="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,_=f||g||Function("return this")();var E=Array.prototype,S=Function.prototype,m=Object.prototype,C=_["__core-js_shared__"],b=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),A=S.toString,v=m.hasOwnProperty,P=m.toString,y=RegExp("^"+A.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=_.Symbol,I=E.splice,R=F(_,"Map"),O=F(Object,"create"),N=T?T.prototype:void 0,L=N?N.toString:void 0;function B(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function M(e,t){for(var r=e.length;r--;)if(X(e[r][0],t))return r;return-1}function w(e,t){for(var r=0,n=(t=function(e,t){if($(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||W(e))return!0;return c.test(e)||!l.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return $(e)?e:j(e)}(t)).length;null!=e&&r<n;)e=e[V(t[r++])];return r&&r==n?e:void 0}function k(e){return!(!H(e)||function(e){return!!b&&b in e}(e))&&(function(e){var t=H(e)?P.call(e):"";return t==a||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?y:h).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function U(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function F(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return k(r)?r:void 0}B.prototype.clear=function(){this.__data__=O?O(null):{}},B.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},B.prototype.get=function(e){var t=this.__data__;if(O){var r=t[e];return r===n?void 0:r}return v.call(t,e)?t[e]:void 0},B.prototype.has=function(e){var t=this.__data__;return O?void 0!==t[e]:v.call(t,e)},B.prototype.set=function(e,t){return this.__data__[e]=O&&void 0===t?n:t,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(e){var t=this.__data__,r=M(t,e);return!(r<0||(r==t.length-1?t.pop():I.call(t,r,1),0))},x.prototype.get=function(e){var t=this.__data__,r=M(t,e);return r<0?void 0:t[r][1]},x.prototype.has=function(e){return M(this.__data__,e)>-1},x.prototype.set=function(e,t){var r=this.__data__,n=M(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new B,map:new(R||x),string:new B}},D.prototype.delete=function(e){return U(this,e).delete(e)},D.prototype.get=function(e){return U(this,e).get(e)},D.prototype.has=function(e){return U(this,e).has(e)},D.prototype.set=function(e,t){return U(this,e).set(e,t),this};var j=G(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(W(e))return L?L.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(e)}(e);var t=[];return u.test(e)&&t.push(""),e.replace(d,function(e,r,n,s){t.push(n?s.replace(p,"$1"):r||e)}),t});function V(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function G(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var i=e.apply(this,r);return n.cache=a.set(s,i),i};return n.cache=new(G.Cache||D),n}function X(e,t){return e===t||e!=e&&t!=t}G.Cache=D;var $=Array.isArray;function H(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&P.call(e)==o}e.exports=function(e,t,r){var n=null==e?void 0:w(e,t);return void 0===n?r:n}}).call(this,r(24))},function(e,t,r){e.exports=!r(11)&&!r(19)(function(){return 7!=Object.defineProperty(r(46)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(15),s=r(5).document,a=n(s)&&n(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},function(e,t,r){t.f=r(17)},function(e,t,r){var n=r(10),s=r(18),a=r(84)(!1),i=r(51)("IE_PROTO");e.exports=function(e,t){var r,o=s(e),l=0,c=[];for(r in o)r!=i&&n(o,r)&&c.push(r);for(;t.length>l;)n(o,r=t[l++])&&(~a(c,r)||c.push(r));return c}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(21)("keys"),s=r(16);e.exports=function(e){return n[e]||(n[e]=s(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(48),s=r(32).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),parseFloat(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,a;(0,n.default)(e),"object"===s(t)?(r=t.min||0,a=t.max):(r=arguments[1],a=arguments[2]);var i=encodeURI(e).split(/%..|./).length-1;return i>=r&&(void 0===a||i<=a)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);var r=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?s:a,i=!t.hasOwnProperty("min")||e>=t.min,o=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,c=!t.hasOwnProperty("gt")||e>t.gt;return r.test(e)&&i&&o&&l&&c};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)},t.fullWidth=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)},t.halfWidth=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);var r=t?new RegExp("^[".concat(t,"]+"),"g"):/^\s+/g;return e.replace(r,"")};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);for(var r=t?new RegExp("[".concat(t,"]")):/\s/,s=e.length-1;s>=0&&r.test(e[s]);s--);return s<e.length?e.substr(0,s+1):e};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),e.replace(new RegExp("[".concat(t,"]+"),"g"),"")};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";var n=r(34),s=r(13),a=r(9),i={multipleOf:function(e,t,r){"number"==typeof r&&"integer"!==a.whatIs(r/t.multipleOf)&&e.addError("MULTIPLE_OF",[r,t.multipleOf],null,t)},maximum:function(e,t,r){"number"==typeof r&&(!0!==t.exclusiveMaximum?r>t.maximum&&e.addError("MAXIMUM",[r,t.maximum],null,t):r>=t.maximum&&e.addError("MAXIMUM_EXCLUSIVE",[r,t.maximum],null,t))},exclusiveMaximum:function(){},minimum:function(e,t,r){"number"==typeof r&&(!0!==t.exclusiveMinimum?r<t.minimum&&e.addError("MINIMUM",[r,t.minimum],null,t):r<=t.minimum&&e.addError("MINIMUM_EXCLUSIVE",[r,t.minimum],null,t))},exclusiveMinimum:function(){},maxLength:function(e,t,r){"string"==typeof r&&a.ucs2decode(r).length>t.maxLength&&e.addError("MAX_LENGTH",[r.length,t.maxLength],null,t)},minLength:function(e,t,r){"string"==typeof r&&a.ucs2decode(r).length<t.minLength&&e.addError("MIN_LENGTH",[r.length,t.minLength],null,t)},pattern:function(e,t,r){"string"==typeof r&&!1===RegExp(t.pattern).test(r)&&e.addError("PATTERN",[t.pattern,r],null,t)},additionalItems:function(e,t,r){Array.isArray(r)&&!1===t.additionalItems&&Array.isArray(t.items)&&r.length>t.items.length&&e.addError("ARRAY_ADDITIONAL_ITEMS",null,null,t)},items:function(){},maxItems:function(e,t,r){Array.isArray(r)&&r.length>t.maxItems&&e.addError("ARRAY_LENGTH_LONG",[r.length,t.maxItems],null,t)},minItems:function(e,t,r){Array.isArray(r)&&r.length<t.minItems&&e.addError("ARRAY_LENGTH_SHORT",[r.length,t.minItems],null,t)},uniqueItems:function(e,t,r){if(Array.isArray(r)&&!0===t.uniqueItems){var n=[];!1===a.isUniqueArray(r,n)&&e.addError("ARRAY_UNIQUE",n,null,t)}},maxProperties:function(e,t,r){if("object"===a.whatIs(r)){var n=Object.keys(r).length;n>t.maxProperties&&e.addError("OBJECT_PROPERTIES_MAXIMUM",[n,t.maxProperties],null,t)}},minProperties:function(e,t,r){if("object"===a.whatIs(r)){var n=Object.keys(r).length;n<t.minProperties&&e.addError("OBJECT_PROPERTIES_MINIMUM",[n,t.minProperties],null,t)}},required:function(e,t,r){if("object"===a.whatIs(r))for(var n=t.required.length;n--;){var s=t.required[n];void 0===r[s]&&e.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[s],null,t)}},additionalProperties:function(e,t,r){if(void 0===t.properties&&void 0===t.patternProperties)return i.properties.call(this,e,t,r)},patternProperties:function(e,t,r){if(void 0===t.properties)return i.properties.call(this,e,t,r)},properties:function(e,t,r){if("object"===a.whatIs(r)){var n=void 0!==t.properties?t.properties:{},s=void 0!==t.patternProperties?t.patternProperties:{};if(!1===t.additionalProperties){var i=Object.keys(r),o=Object.keys(n),l=Object.keys(s);i=a.difference(i,o);for(var c=l.length;c--;)for(var u=RegExp(l[c]),d=i.length;d--;)!0===u.test(i[d])&&i.splice(d,1);if(i.length>0){var p=this.options.assumeAdditional.length;if(p)for(;p--;){var h=i.indexOf(this.options.assumeAdditional[p]);-1!==h&&i.splice(h,1)}var f=i.length;if(f)for(;f--;)e.addError("OBJECT_ADDITIONAL_PROPERTIES",[i[f]],null,t)}}}},dependencies:function(e,r,n){if("object"===a.whatIs(n))for(var s=Object.keys(r.dependencies),i=s.length;i--;){var o=s[i];if(n[o]){var l=r.dependencies[o];if("object"===a.whatIs(l))t.validate.call(this,e,l,n);else for(var c=l.length;c--;){var u=l[c];void 0===n[u]&&e.addError("OBJECT_DEPENDENCY_KEY",[u,o],null,r)}}}},enum:function(e,t,r){for(var n=!1,s=!1,i=t.enum.length;i--;){if(a.areEqual(r,t.enum[i])){n=!0;break}a.areEqual(r,t.enum[i]),s=!0}if(!1===n){var o=s&&this.options.enumCaseInsensitiveComparison?"ENUM_CASE_MISMATCH":"ENUM_MISMATCH";e.addError(o,[r],null,t)}},type:function(e,t,r){var n=a.whatIs(r);"string"==typeof t.type?n===t.type||"integer"===n&&"number"===t.type||e.addError("INVALID_TYPE",[t.type,n],null,t):-1!==t.type.indexOf(n)||"integer"===n&&-1!==t.type.indexOf("number")||e.addError("INVALID_TYPE",[t.type,n],null,t)},allOf:function(e,r,n){for(var s=r.allOf.length;s--;){var a=t.validate.call(this,e,r.allOf[s],n);if(this.options.breakOnFirstError&&!1===a)break}},anyOf:function(e,r,n){for(var a=[],i=!1,o=r.anyOf.length;o--&&!1===i;){var l=new s(e);a.push(l),i=t.validate.call(this,l,r.anyOf[o],n)}!1===i&&e.addError("ANY_OF_MISSING",void 0,a,r)},oneOf:function(e,r,n){for(var a=0,i=[],o=r.oneOf.length;o--;){var l=new s(e,{maxErrors:1});i.push(l),!0===t.validate.call(this,l,r.oneOf[o],n)&&a++}0===a?e.addError("ONE_OF_MISSING",void 0,i,r):a>1&&e.addError("ONE_OF_MULTIPLE",null,null,r)},not:function(e,r,n){var a=new s(e);!0===t.validate.call(this,a,r.not,n)&&e.addError("NOT_PASSED",null,null,r)},definitions:function(){},format:function(e,t,r){var s=n[t.format];"function"==typeof s?2===s.length?e.addAsyncTask(s,[r],function(n){!0!==n&&e.addError("INVALID_FORMAT",[t.format,r],null,t)}):!0!==s.call(this,r)&&e.addError("INVALID_FORMAT",[t.format,r],null,t):!0!==this.options.ignoreUnknownFormats&&e.addError("UNKNOWN_FORMAT",[t.format],null,t)}};t.JsonValidators=i,t.validate=function(e,r,n){e.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var s=a.whatIs(r);if("object"!==s)return e.addError("SCHEMA_NOT_AN_OBJECT",[s],null,r),!1;var o=Object.keys(r);if(0===o.length)return!0;var l=!1;if(e.rootSchema||(e.rootSchema=r,l=!0),void 0!==r.$ref){for(var c=99;r.$ref&&c>0;){if(!r.__$refResolved){e.addError("REF_UNRESOLVED",[r.$ref],null,r);break}if(r.__$refResolved===r)break;r=r.__$refResolved,o=Object.keys(r),c--}if(0===c)throw new Error("Circular dependency by $ref references!")}var u=a.whatIs(n);if(r.type&&(o.splice(o.indexOf("type"),1),i.type.call(this,e,r,n),e.errors.length&&this.options.breakOnFirstError))return!1;for(var d=o.length;d--&&!(i[o[d]]&&(i[o[d]].call(this,e,r,n),e.errors.length&&this.options.breakOnFirstError)););return 0!==e.errors.length&&!1!==this.options.breakOnFirstError||("array"===u?function(e,r,n){var s=n.length;if(Array.isArray(r.items))for(;s--;)s<r.items.length?(e.path.push(s.toString()),t.validate.call(this,e,r.items[s],n[s]),e.path.pop()):"object"==typeof r.additionalItems&&(e.path.push(s.toString()),t.validate.call(this,e,r.additionalItems,n[s]),e.path.pop());else if("object"==typeof r.items)for(;s--;)e.path.push(s.toString()),t.validate.call(this,e,r.items,n[s]),e.path.pop()}.call(this,e,r,n):"object"===u&&function(e,r,n){var s=r.additionalProperties;!0!==s&&void 0!==s||(s={});for(var a=r.properties?Object.keys(r.properties):[],i=r.patternProperties?Object.keys(r.patternProperties):[],o=Object.keys(n),l=o.length;l--;){var c=o[l],u=n[c],d=[];-1!==a.indexOf(c)&&d.push(r.properties[c]);for(var p=i.length;p--;){var h=i[p];!0===RegExp(h).test(c)&&d.push(r.patternProperties[h])}for(0===d.length&&!1!==s&&d.push(s),p=d.length;p--;)e.path.push(c),t.validate.call(this,e,d[p],u)}}.call(this,e,r,n)),"function"==typeof this.options.customValidator&&this.options.customValidator(e,r,n),l&&(e.rootSchema=void 0),0===e.errors.length}},function(e,t,r){"use strict";var n=r(157),s=r(13),a=r(65),i=r(66),o=r(9);function l(e){return decodeURIComponent(e).replace(/~[0-1]/g,function(e){return"~1"===e?"/":"~"})}function c(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function u(e,t){if("object"==typeof e&&null!==e){if(!t)return e;if(e.id&&(e.id===t||"#"===e.id[0]&&e.id.substring(1)===t))return e;var r,n;if(Array.isArray(e)){for(r=e.length;r--;)if(n=u(e[r],t))return n}else{var s=Object.keys(e);for(r=s.length;r--;){var a=s[r];if(0!==a.indexOf("__$")&&(n=u(e[a],t)))return n}}}}t.cacheSchemaByUri=function(e,t){var r=c(e);r&&(this.cache[r]=t)},t.removeFromCacheByUri=function(e){var t=c(e);t&&delete this.cache[t]},t.checkCacheForUri=function(e){var t=c(e);return!!t&&null!=this.cache[t]},t.getSchema=function(e,r){return"object"==typeof r&&(r=t.getSchemaByReference.call(this,e,r)),"string"==typeof r&&(r=t.getSchemaByUri.call(this,e,r)),r},t.getSchemaByReference=function(e,t){for(var r=this.referenceCache.length;r--;)if(n(this.referenceCache[r][0],t))return this.referenceCache[r][1];var s=o.cloneDeep(t);return this.referenceCache.push([t,s]),s},t.getSchemaByUri=function(e,t,r){var n=c(t),o=function(e){var t=e.indexOf("#");return-1===t?void 0:e.slice(t+1)}(t),d=n?this.cache[n]:r;if(d&&n&&d!==r){e.path.push(n);var p=new s(e);if(a.compileSchema.call(this,p,d)){var h=this.options;try{this.options=d.__$validationOptions||this.options,i.validateSchema.call(this,p,d)}finally{this.options=h}}var f=p.isValid();if(f||e.addError("REMOTE_NOT_VALID",[t],p),e.path.pop(),!f)return}if(d&&o)for(var g=o.split("/"),_=0,E=g.length;d&&_<E;_++){var S=l(g[_]);d=0===_?u(d,S):d[S]}return d},t.getRemotePath=c},function(e,t,r){"use strict";var n=r(13),s=r(64),a=r(9);function i(e,t){if(a.isAbsoluteUri(t))return t;var r,n=e.join(""),s=a.isAbsoluteUri(n),i=a.isRelativeUri(n),o=a.isRelativeUri(t);s&&o?(r=n.match(/\/[^\/]*$/))&&(n=n.slice(0,r.index+1)):i&&o?n="":(r=n.match(/[^#/]+$/))&&(n=n.slice(0,r.index));var l=n+t;return l=l.replace(/##/,"#")}var o=function(e,r){for(var s=r.length,a=0;s--;){var i=new n(e);t.compileSchema.call(this,i,r[s])&&a++,e.errors=e.errors.concat(i.errors)}return a};function l(e,t){for(var r=e.length;r--;)if(e[r].id===t)return e[r];return null}t.compileSchema=function(e,r){if(e.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof r){var c=s.getSchemaByUri.call(this,e,r);if(!c)return e.addError("SCHEMA_NOT_REACHABLE",[r]),!1;r=c}if(Array.isArray(r))return function(e,t){var r,n=0;do{for(var s=e.errors.length;s--;)"UNRESOLVABLE_REFERENCE"===e.errors[s].code&&e.errors.splice(s,1);for(r=n,n=o.call(this,e,t),s=t.length;s--;){var a=t[s];if(a.__$missingReferences){for(var i=a.__$missingReferences.length;i--;){var c=a.__$missingReferences[i],u=l(t,c.ref);u&&(c.obj["__"+c.key+"Resolved"]=u,a.__$missingReferences.splice(i,1))}0===a.__$missingReferences.length&&delete a.__$missingReferences}}}while(n!==t.length&&n!==r);return e.isValid()}.call(this,e,r);if(r.__$compiled&&r.id&&!1===s.checkCacheForUri.call(this,r.id)&&(r.__$compiled=void 0),r.__$compiled)return!0;r.id&&"string"==typeof r.id&&s.cacheSchemaByUri.call(this,r.id,r);var u=!1;e.rootSchema||(e.rootSchema=r,u=!0);var d=e.isValid();delete r.__$missingReferences;for(var p=function e(t,r,n,s){if(r=r||[],n=n||[],s=s||[],"object"!=typeof t||null===t)return r;var a;if("string"==typeof t.id&&n.push(t.id),"string"==typeof t.$ref&&void 0===t.__$refResolved&&r.push({ref:i(n,t.$ref),key:"$ref",obj:t,path:s.slice(0)}),"string"==typeof t.$schema&&void 0===t.__$schemaResolved&&r.push({ref:i(n,t.$schema),key:"$schema",obj:t,path:s.slice(0)}),Array.isArray(t))for(a=t.length;a--;)s.push(a.toString()),e(t[a],r,n,s),s.pop();else{var o=Object.keys(t);for(a=o.length;a--;)0!==o[a].indexOf("__$")&&(s.push(o[a]),e(t[o[a]],r,n,s),s.pop())}return"string"==typeof t.id&&n.pop(),r}.call(this,r),h=p.length;h--;){var f=p[h],g=s.getSchemaByUri.call(this,e,f.ref,r);if(!g){var _=this.getSchemaReader();if(_){var E=_(f.ref);if(E){E.id=f.ref;var S=new n(e);t.compileSchema.call(this,S,E)?g=s.getSchemaByUri.call(this,e,f.ref,r):e.errors=e.errors.concat(S.errors)}}}if(!g){var m=e.hasError("REMOTE_NOT_VALID",[f.ref]),C=a.isAbsoluteUri(f.ref),b=!1,A=!0===this.options.ignoreUnresolvableReferences;C&&(b=s.checkCacheForUri.call(this,f.ref)),m||A&&C||b||(Array.prototype.push.apply(e.path,f.path),e.addError("UNRESOLVABLE_REFERENCE",[f.ref]),e.path=e.path.slice(0,-f.path.length),d&&(r.__$missingReferences=r.__$missingReferences||[],r.__$missingReferences.push(f)))}f.obj["__"+f.key+"Resolved"]=g}var v=e.isValid();return v?r.__$compiled=!0:r.id&&"string"==typeof r.id&&s.removeFromCacheByUri.call(this,r.id),u&&(e.rootSchema=void 0),v}},function(e,t,r){"use strict";var n=r(34),s=r(63),a=r(13),i=r(9),o={$ref:function(e,t){"string"!=typeof t.$ref&&e.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(e,t){"string"!=typeof t.$schema&&e.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(e,t){"number"!=typeof t.multipleOf?e.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):t.multipleOf<=0&&e.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(e,t){"number"!=typeof t.maximum&&e.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(e,t){"boolean"!=typeof t.exclusiveMaximum?e.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===t.maximum&&e.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(e,t){"number"!=typeof t.minimum&&e.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(e,t){"boolean"!=typeof t.exclusiveMinimum?e.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===t.minimum&&e.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(e,t){"integer"!==i.whatIs(t.maxLength)?e.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):t.maxLength<0&&e.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(e,t){"integer"!==i.whatIs(t.minLength)?e.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):t.minLength<0&&e.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(e,t){if("string"!=typeof t.pattern)e.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(t.pattern)}catch(r){e.addError("KEYWORD_PATTERN",["pattern",t.pattern])}},additionalItems:function(e,r){var n=i.whatIs(r.additionalItems);"boolean"!==n&&"object"!==n?e.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===n&&(e.path.push("additionalItems"),t.validateSchema.call(this,e,r.additionalItems),e.path.pop())},items:function(e,r){var n=i.whatIs(r.items);if("object"===n)e.path.push("items"),t.validateSchema.call(this,e,r.items),e.path.pop();else if("array"===n)for(var s=r.items.length;s--;)e.path.push("items"),e.path.push(s.toString()),t.validateSchema.call(this,e,r.items[s]),e.path.pop(),e.path.pop();else e.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);!0===this.options.forceAdditional&&void 0===r.additionalItems&&Array.isArray(r.items)&&e.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===r.additionalItems&&Array.isArray(r.items)&&(r.additionalItems=!1)},maxItems:function(e,t){"number"!=typeof t.maxItems?e.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):t.maxItems<0&&e.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(e,t){"integer"!==i.whatIs(t.minItems)?e.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):t.minItems<0&&e.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(e,t){"boolean"!=typeof t.uniqueItems&&e.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(e,t){"integer"!==i.whatIs(t.maxProperties)?e.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):t.maxProperties<0&&e.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(e,t){"integer"!==i.whatIs(t.minProperties)?e.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):t.minProperties<0&&e.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(e,t){if("array"!==i.whatIs(t.required))e.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===t.required.length)e.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var r=t.required.length;r--;)"string"!=typeof t.required[r]&&e.addError("KEYWORD_VALUE_TYPE",["required","string"]);!1===i.isUniqueArray(t.required)&&e.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(e,r){var n=i.whatIs(r.additionalProperties);"boolean"!==n&&"object"!==n?e.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===n&&(e.path.push("additionalProperties"),t.validateSchema.call(this,e,r.additionalProperties),e.path.pop())},properties:function(e,r){if("object"===i.whatIs(r.properties)){for(var n=Object.keys(r.properties),s=n.length;s--;){var a=n[s],o=r.properties[a];e.path.push("properties"),e.path.push(a),t.validateSchema.call(this,e,o),e.path.pop(),e.path.pop()}!0===this.options.forceAdditional&&void 0===r.additionalProperties&&e.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===r.additionalProperties&&(r.additionalProperties=!1),!0===this.options.forceProperties&&0===n.length&&e.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])}else e.addError("KEYWORD_TYPE_EXPECTED",["properties","object"])},patternProperties:function(e,r){if("object"===i.whatIs(r.patternProperties)){for(var n=Object.keys(r.patternProperties),s=n.length;s--;){var a=n[s],o=r.patternProperties[a];try{RegExp(a)}catch(t){e.addError("KEYWORD_PATTERN",["patternProperties",a])}e.path.push("patternProperties"),e.path.push(a.toString()),t.validateSchema.call(this,e,o),e.path.pop(),e.path.pop()}!0===this.options.forceProperties&&0===n.length&&e.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])}else e.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"])},dependencies:function(e,r){if("object"!==i.whatIs(r.dependencies))e.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var n=Object.keys(r.dependencies),s=n.length;s--;){var a=n[s],o=r.dependencies[a],l=i.whatIs(o);if("object"===l)e.path.push("dependencies"),e.path.push(a),t.validateSchema.call(this,e,o),e.path.pop(),e.path.pop();else if("array"===l){var c=o.length;for(0===c&&e.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);c--;)"string"!=typeof o[c]&&e.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);!1===i.isUniqueArray(o)&&e.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else e.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},enum:function(e,t){!1===Array.isArray(t.enum)?e.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===t.enum.length?e.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):!1===i.isUniqueArray(t.enum)&&e.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(e,t){var r=["array","boolean","integer","number","null","object","string"],n=r.join(","),s=Array.isArray(t.type);if(s){for(var a=t.type.length;a--;)-1===r.indexOf(t.type[a])&&e.addError("KEYWORD_TYPE_EXPECTED",["type",n]);!1===i.isUniqueArray(t.type)&&e.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof t.type?-1===r.indexOf(t.type)&&e.addError("KEYWORD_TYPE_EXPECTED",["type",n]):e.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);!0===this.options.noEmptyStrings&&("string"===t.type||s&&-1!==t.type.indexOf("string"))&&void 0===t.minLength&&void 0===t.enum&&void 0===t.format&&(t.minLength=1),!0===this.options.noEmptyArrays&&("array"===t.type||s&&-1!==t.type.indexOf("array"))&&void 0===t.minItems&&(t.minItems=1),!0===this.options.forceProperties&&("object"===t.type||s&&-1!==t.type.indexOf("object"))&&void 0===t.properties&&void 0===t.patternProperties&&e.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),!0===this.options.forceItems&&("array"===t.type||s&&-1!==t.type.indexOf("array"))&&void 0===t.items&&e.addError("KEYWORD_UNDEFINED_STRICT",["items"]),!0===this.options.forceMinItems&&("array"===t.type||s&&-1!==t.type.indexOf("array"))&&void 0===t.minItems&&e.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),!0===this.options.forceMaxItems&&("array"===t.type||s&&-1!==t.type.indexOf("array"))&&void 0===t.maxItems&&e.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),!0===this.options.forceMinLength&&("string"===t.type||s&&-1!==t.type.indexOf("string"))&&void 0===t.minLength&&void 0===t.format&&void 0===t.enum&&void 0===t.pattern&&e.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),!0===this.options.forceMaxLength&&("string"===t.type||s&&-1!==t.type.indexOf("string"))&&void 0===t.maxLength&&void 0===t.format&&void 0===t.enum&&void 0===t.pattern&&e.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(e,r){if(!1===Array.isArray(r.allOf))e.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===r.allOf.length)e.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var n=r.allOf.length;n--;)e.path.push("allOf"),e.path.push(n.toString()),t.validateSchema.call(this,e,r.allOf[n]),e.path.pop(),e.path.pop()},anyOf:function(e,r){if(!1===Array.isArray(r.anyOf))e.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===r.anyOf.length)e.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var n=r.anyOf.length;n--;)e.path.push("anyOf"),e.path.push(n.toString()),t.validateSchema.call(this,e,r.anyOf[n]),e.path.pop(),e.path.pop()},oneOf:function(e,r){if(!1===Array.isArray(r.oneOf))e.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===r.oneOf.length)e.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var n=r.oneOf.length;n--;)e.path.push("oneOf"),e.path.push(n.toString()),t.validateSchema.call(this,e,r.oneOf[n]),e.path.pop(),e.path.pop()},not:function(e,r){"object"!==i.whatIs(r.not)?e.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(e.path.push("not"),t.validateSchema.call(this,e,r.not),e.path.pop())},definitions:function(e,r){if("object"!==i.whatIs(r.definitions))e.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var n=Object.keys(r.definitions),s=n.length;s--;){var a=n[s],o=r.definitions[a];e.path.push("definitions"),e.path.push(a),t.validateSchema.call(this,e,o),e.path.pop(),e.path.pop()}},format:function(e,t){"string"!=typeof t.format?e.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===n[t.format]&&!0!==this.options.ignoreUnknownFormats&&e.addError("UNKNOWN_FORMAT",[t.format])},id:function(e,t){"string"!=typeof t.id&&e.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(e,t){"string"!=typeof t.title&&e.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(e,t){"string"!=typeof t.description&&e.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},default:function(){}};t.validateSchema=function(e,r){if(e.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(r))return function(e,r){for(var n=r.length;n--;)t.validateSchema.call(this,e,r[n]);return e.isValid()}.call(this,e,r);if(r.__$validated)return!0;var n=r.$schema&&r.id!==r.$schema;if(n)if(r.__$schemaResolved&&r.__$schemaResolved!==r){var l=new a(e);!1===s.validate.call(this,l,r.__$schemaResolved,r)&&e.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,l)}else!0!==this.options.ignoreUnresolvableReferences&&e.addError("REF_UNRESOLVED",[r.$schema]);if(!0===this.options.noTypeless){if(void 0!==r.type){var c=[];Array.isArray(r.anyOf)&&(c=c.concat(r.anyOf)),Array.isArray(r.oneOf)&&(c=c.concat(r.oneOf)),Array.isArray(r.allOf)&&(c=c.concat(r.allOf)),c.forEach(function(e){e.type||(e.type=r.type)})}void 0===r.enum&&void 0===r.type&&void 0===r.anyOf&&void 0===r.oneOf&&void 0===r.not&&void 0===r.$ref&&e.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var u=Object.keys(r),d=u.length;d--;){var p=u[d];0!==p.indexOf("__")&&(void 0!==o[p]?o[p].call(this,e,r):n||!0===this.options.noExtraKeywords&&e.addError("KEYWORD_UNEXPECTED",[p]))}if(!0===this.options.pedanticCheck){if(r.enum){var h=i.clone(r);for(delete h.enum,delete h.default,e.path.push("enum"),d=r.enum.length;d--;)e.path.push(d.toString()),s.validate.call(this,e,h,r.enum[d]),e.path.pop();e.path.pop()}r.default&&(e.path.push("default"),s.validate.call(this,e,r,r.default),e.path.pop())}var f=e.isValid();return f&&(r.__$validated=!0),f}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(4)),s=l(r(68)),a=l(r(2)),i=l(r(3)),o=r(42);function l(e){return e&&e.__esModule?e:{default:e}}let c=new Set;t.default=class{constructor(e,t,r,n=!0){this.lastKnownTrigger="0x00",this.ngxComm=e,this.logger=t,this.m5Config=r,this.delayPatronBuildCacheTime=2e3,this.delayInitialCashlessRetry=2e3,this.startSubscriptions=n,this.cardId=(0,o.computed)(()=>e.currentTokenValues[s.default.PLAYERS_CARD_NUMBER]),this.playerId=(0,o.computed)(()=>e.currentTokenValues[s.default.PLAYER_ID]),this.isInSession=(0,o.computed)(()=>this.sessionType.value>0),this.playerPointBalance=(0,o.computed)(()=>this.isInSession.value?e.currentTokenValues[s.default.PLAYER_POINT_BALANCE]:null),this.sessionType=(0,o.computed)(()=>{let e=Number(this.playerId.value);return this.AppStore.isJackpotInProgress?1:isNaN(e)||0==e?0:e>0?1:2}),this.m5Config&&(this.m5Config.delayPatronCache&&(this.delayPatronBuildCacheTime=1e3*this.m5Config.delayPatronCache),this.m5Config.delayInitialCashlessRetry&&(this.delayInitialCashlessRetry=1e3*this.m5Config.delayInitialCashlessRetry)),this.minEgmDenom=200,this.defaultMinCentsBalance=this.m5Config.minimumPointPlayBalanceInCents,this.mapEgmDenomToMinCentsBalance=this.m5Config.mapEgmDenomToMinCentsBalance,this.enumInitiatePPStatus={PP_AVAILABLE:0,PP_NOT_AVAILABLE_EGM:1,PP_NOT_AVAILABLE_PINLOCK:2,PP_NOT_AVAILABLE_GOTO_BOOTH:3,PP_NOT_AVAILABLE_BALANCE_LOW:4,PP_NOT_AVAILABLE_CANNOT_CONVERT_XTRACREDIT:5,PP_NOT_AVAILABLE_CANNOT_CONVERT_XTRACREDIT_EGM:6,PP_NOT_AVAILABLE_PIN_FAILED:7,PP_NOT_AVAILABLE:8},this.INITIATE_PP_INIT_RESP_TOPIC="initPointPlayResp",this.CONVERT_PP_RESP_TOPIC="convertPointPlayResp",this.enumActivateXCStatus={XC_ACTIVE:0,XC_ACTIVE_NOT_CANCELABLE:1,XC_ALREADY_ACTIVE:2,XC_INACTIVE_BALANCE_TOO_LOW:3,XC_INACTIVE_NOT_AVAILABLE_ON_DEVICE:4,XC_INACTIVE_SEE_PLAYERS_CLUB:5,XC_INACTIVE_DUPLICATE_CARD:6,XC_INACTIVE_ABANDONED_CARD:7,XC_INACTIVE_PIN_LOCKED:8,XC_INACTIVE_BONUSING_UNAVAILABLE:9,XC_INACTIVE_PIN_VALIDATION_FAILED:10},this.enumCancelXCStatus={XC_CANCELLED:0,XC_NOT_CANCELABLE:1,XC_NOT_CANCELLED_IN_GAME_CYCLE:2},this.ACTIVATE_XC_RESP_TOPIC="activateXtraCreditResp",this.CANCEL_XC_RESP_TOPIC="cancelXtraCreditResp",this.enumPINStatus={VALID:1,INVALID:2,LOCKED:3,NO_RESPONSE:4,NOT_ENTERED:5},this.VALIDATE_PIN_RESP_TOPIC="validatePINResp",this.enumCardType={NONE:0,UNKNOWN:1,PLAYER:2,VIP:3,DROP_CARD:4,ATTENDANT:5,SUPERVISOR:6,WITNESS:7,UNREG_PLAYER:8,REG_PLAYER:9,REG_VIP_PLAYER:10},this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC="initiateTransferResp",this.enumM5States={IDLE:"IDLE",SESSION:"SESSION",GAME_LOCKED:"GAME_LOCKED",ATTENDANT:"ATTENDANT",W2G_ACCRUAL:"W2G_ACCRUAL",JACKPOT:"JACKPOT",IRESERVE:"RESERVED"},this.AppStore=(0,o.reactive)({player_info:{name:null,rankIndex:null,rank:null,playerId:null,dupCard:null,banned:null,isAbandoned:null,isBanned:null,isAnniversary:null,isBirthday:null,ptpEnable:null,xcEnable:null,rpEnable:null,srpEnable:null,ppEnable:null,haveCardData:null},playerBonuses:{pointPlay:{enable:null,total_balance:null,available_balance:null,available_balance_in_Cents:null,available_balance_in_Credits:null,points_Limit:null,points_Limit_Credits:null},xtraCredit:{enable:null,active:null,activeBalance:null,inActiveBalance:null,total_balance:null,cancellable:null,player_based:null,game_based:null},cashless:{enable:null,cardType:null,transferLimits:{minToEgm:null,maxToEgm:null,minFrEgm:null,maxFrEgm:null,maxBal:null},balances:{egmCents:null,cardCents:null,egmDenom:null},flags:{bonusing:null,haveData:null,haveLock:null,gameEnabled:null,coinlessAvailable:null,balanceActive:null,cashlessEnabled:null,haveCTSData:null,haveCardData:null,coinlessEnabled:null}}},player_session:{sessionPoints:null,total_games:null,win_loss:null,comps:null,pointMultiplier:null},machine:{isCarded:!1,asset:null,uid:null,floorLoc:null,cardId:null,isInvalidCard:null,ptpEnable:null,xcEnable:null,rpEnable:null,srpEnable:null,ppEnable:null,denom:null},bonuses:{enable:null},pin:{length:null,enter_required:null,check_pin_needed:null,force_pin:null,locked:null},display_limits:{coinInRunaway:null,coinOutRunaway:null,jackpot:null,bonus:null,xtraCredit:null,points:null,comp:null,witness:null,pouchPay:null},config:{RRConfigEndpoint:null,RRAwardEndpoint:null,bonusEndpoint:null,iReserveEndpoint:null},builtPatronDataCache:null,receivedPatronSessionScreen:null,receivedPlayerPinParams:null,isM5InitiatedScreenTrigger:null,retriedCashless:null,isJackpotInProgress:null,receivedAdvPatronData:null}),this.startSubscriptions&&(this.setupAdvSubscription(),this.setupM5Subscription())}getDefaultMinCentsBalance(){return this.defaultMinCentsBalance}getMapEgmDenomToMinCentsBalance(e){return this.mapEgmDenomToMinCentsBalance[e]}delay(e){return new Promise(t=>setTimeout(t,e))}get unresolvedPredicateCount(){return c.size}asyncGetAppStoreCache(e){let t=this;return new Promise(function(r,n){if(e())r(t.getAppStoreCache());else{let n=(0,o.watch)(e,function(e){e&&(n(),c.delete(n),r(t.getAppStoreCache()))});c.add(n)}})}getAppStoreCache(){return Object.assign({},this.AppStore)}formatEvent(e){return e&&e instanceof CustomEvent?e.detail:e}getCurrentScreenTrigger(){return this.lastKnownTrigger}setupAdvSubscription(){this.ngxComm.registerPatronData(this.handleAdvPatronData.bind(this)),this.m5Config&&this.m5Config.playerRanking.enabled&&"legacyAdv"===this.m5Config.playerRanking.mode&&this.ngxComm.registerPatronDataExt(this.handleAdvPatronDataExt.bind(this)),this.ngxComm.registerServerAddresses(this.handleAdvServerAddresses.bind(this)),this.ngxComm.registerStatusUpdate(this.handleAdvStatusUpdate.bind(this))}setupM5Subscription(){i.default.subscribe(this.INITIATE_PP_INIT_RESP_TOPIC,this.handlePPInitiateResponse.bind(this)),i.default.subscribe(this.CONVERT_PP_RESP_TOPIC,this.handlePPConvertResponse.bind(this)),i.default.subscribe(this.ACTIVATE_XC_RESP_TOPIC,this.handleXCActivateResponse.bind(this)),i.default.subscribe(this.CANCEL_XC_RESP_TOPIC,this.handleXCCancelResponse.bind(this)),i.default.subscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINResp.bind(this)),i.default.subscribe(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.handleCashlessTransferResponse.bind(this))}handleAdvPatronData(e){const t=this.formatEvent(e);if(this.logger.debug({debug:"AppStore:handleAdvPatronData - Received ADV Patron Data",data:t},!0),t&&t.patronData){if(this.AppStore.receivedAdvPatronData=!0,(t.patronData.hasOwnProperty("playerRank")||t.patronData.hasOwnProperty("playerRankIndex"))&&(this.logger.debug({debug:"AppStore:handleAdvPatronData - Received New Player Ranking (ABS)",data:{index:t.patronData.playerRankIndex,rank:t.patronData.playerRank}},!0),this.AppStore.player_info.rankIndex=t.patronData.playerRankIndex,this.AppStore.player_info.rank=t.patronData.playerRank),this.m5Config&&this.m5Config.playerRanking.enabled&&"ABS"===this.m5Config.playerRanking.mode){let e=this.AppStore.player_info.rank,r=this.AppStore.player_info.rankIndex;this.logger.debug({debug:"AppStore:handleAdvPatronData - Set New Player Ranking (ABS) to NgxComm",data:{index:r,rank:t.patronData.playerRank}},!0),this.ngxComm.setNewPatronRank(r,e)}t.patronData.awardEnable&&t.patronData.BE2_AwardEnable?(this.AppStore.machine.ptpEnable=t.patronData.BE2_AwardEnable.ptpEnable,this.AppStore.player_info.ptpEnable=t.patronData.awardEnable.ptpEnable,this.AppStore.playerBonuses.pointPlay.total_balance=t.patronData.ptpBalance,this.AppStore.machine.xcEnable=t.patronData.BE2_AwardEnable.xcEnable,this.AppStore.player_info.xcEnable=t.patronData.awardEnable.xcEnable,this.AppStore.playerBonuses.xtraCredit.total_balance=t.patronData.xcAwardBalance):this.logger.error({error:"AppStore:handleAdvPatronData - Received Invalid Patron Data for awardEnable or BE2_AwardEnable",data:t},!0),t.patronData.generalPTData?(t.patronData.generalPTData.dupCard?(this.AppStore.player_info.dupCard=t.patronData.generalPTData.dupCard,this.logger.debug({debug:"AppStore:handleAdvPatronData - Dup card",data:t.patronData.generalPTData.dupCard},!0)):this.AppStore.player_info.dupCard=!1,t.patronData.generalPTData.banned?(this.AppStore.player_info.banned=t.patronData.generalPTData.banned,this.logger.debug({debug:"AppStore:handleAdvPatronData - banned card",data:t.patronData.generalPTData.dupCard},!0)):this.AppStore.player_info.banned=!1,t.patronData.generalPTData.PINLocked?(this.AppStore.pin.locked=t.patronData.generalPTData.PINLocked,this.logger.debug({debug:"AppStore:handleAdvPatronData - pin locked card",data:t.patronData.generalPTData.dupCard},!0)):this.AppStore.pin.locked=!1):this.logger.error({error:"AppStore:handleAdvPatronData - Received Invalid Patron Data for generalPTData",data:t},!0),this.AppStore.machine.ptpEnable&&this.AppStore.player_info.ptpEnable&&(this.AppStore.playerBonuses.pointPlay.enable=!0,this.logger.debug({debug:"AppStore:handleAdvPatronData - PP Enabled",data:null},!0)),this.AppStore.machine.xcEnable&&this.AppStore.player_info.xcEnable?(this.AppStore.playerBonuses.xtraCredit.enable=!0,this.logger.debug({debug:"AppStore:handleAdvPatronData - XC Enabled",data:null},!0)):(this.AppStore.playerBonuses.xtraCredit.enable=!1,this.logger.debug({debug:"AppStore:handleAdvPatronData - XC Disabled",data:null},!0))}else this.logger.error({error:"AppStore:handleAdvPatronData - Received Invalid Patron Data",data:t},!0)}handleAdvPatronDataExt(e){const t=this.formatEvent(e);t&&t.patronDataExt?(this.AppStore.player_info.rankIndex=t.patronDataExt.playerRankIndex,this.AppStore.player_info.rank=t.patronDataExt.playerRank):(this.AppStore.player_info.rankIndex=null,this.AppStore.player_info.rank=null),this.AppStore.isM5InitiatedScreenTrigger||(this.logger.debug({debug:"AppStore:call checkAndOverrideScreenTrigger from Player Ranking",data:""},!0),this.checkAndOverrideScreenTrigger())}handleAdvServerAddresses(e){const t=this.formatEvent(e);t&&t.serverAddresses&&t.serverAddresses.forEach(function(e){})}handleAdvStatusUpdate(e){const t=this.formatEvent(e);t&&t.statusUpdate&&(this.AppStore.display_limits.coinInRunaway=t.statusUpdate.displayLimits.coinInRunaway,this.AppStore.display_limits.coinOutRunaway=t.statusUpdate.displayLimits.coinOutRunaway,this.AppStore.display_limits.jackpot=t.statusUpdate.displayLimits.jackpot,this.AppStore.display_limits.bonus=t.statusUpdate.displayLimits.bonus,this.AppStore.display_limits.xtraCredit=t.statusUpdate.displayLimits.xtraCredit,this.AppStore.display_limits.points=t.statusUpdate.displayLimits.points,this.AppStore.display_limits.comp=t.statusUpdate.displayLimits.comp,this.AppStore.display_limits.witness=t.statusUpdate.displayLimits.witness,this.AppStore.display_limits.pouchPay=t.statusUpdate.displayLimits.pouchPay)}refreshPlayerAccountData(){if(this.lastKnownTrigger===n.default.IDLE_SCREEN)return void this.logger.debug({debug:"AppStore: refreshPlayerAccountData - cancelling due to no carded session."},!0);this.AppStore.receivedPlayerPinParams||this.getPlayerPinParams();const e=[[a.default.enumBE2BasicFunc.GetPointPlayBalance,[0,0,0,0]],[a.default.enumBE2BasicFunc.GetPointPlayLimitedBalance,[0,0,0,0]],[a.default.enumBE2BasicFunc.GetXtraCreditBalance,[0,0,0,0]],[a.default.enumBE2BasicFunc.MP_GetEgmDenom,[0,0,0,0]]],t=a.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processRefreshPlayerAccountDataResp.bind(this))}processRefreshPlayerAccountDataResp(e,t){let r;if(e)this.logger.error({error:"AppStore: processRefreshPlayerAccountDataResp - Received an error",data:e});else{if(null!==t){if(0===(r=t[a.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AppStore: processPlayerAccountDataResp - No BE2 responses.",data:t},!0);r.forEach(e=>{e.functionCode===a.default.enumBE2BasicFunc.GetPointPlayBalance?(this.AppStore.playerBonuses.pointPlay.available_balance=e.retvals[0],this.AppStore.playerBonuses.pointPlay.available_balance_in_Cents=e.retvals[1],this.AppStore.playerBonuses.pointPlay.available_balance_in_Credits=e.retvals[2]):e.functionCode===a.default.enumBE2BasicFunc.GetPointPlayLimitedBalance?(this.AppStore.playerBonuses.pointPlay.points_Limit=e.retvals[0],this.AppStore.playerBonuses.pointPlay.points_Limit_Credits=e.retvals[2]):e.functionCode===a.default.enumBE2BasicFunc.GetXtraCreditBalance?(this.AppStore.playerBonuses.xtraCredit.total_balance=e.retvals[0],this.AppStore.playerBonuses.xtraCredit.cancellable=e.retvals[1]):e.functionCode===a.default.enumBE2BasicFunc.MP_GetEgmDenom?this.AppStore.machine.denom=e.retvals[0]:this.logger.debug({debug:"AppStore:processPlayerAccountDataResp - Unknown BE2Response!",data:""},!0)})}this.checkXCEnabled(),this.checkPPEnabled(),this.AppStore.isM5InitiatedScreenTrigger||(this.logger.debug({debug:"AppStore:call checkAndOverrideScreenTrigger from XC && PP Handler",data:""},!0),this.checkAndOverrideScreenTrigger())}}asyncGetEgmDenom(e){const t=[[a.default.enumBE2BasicFunc.MP_GetEgmDenom,[0,0,0,0]]],r=a.default.createBE2BasicFunctionArr(t);this.ngxComm.sendBe2Message(r,this.processGetEgmDenomResp.bind(this));let n=this;return new Promise(function(t,r){if(e())t(n.AppStore.machine.denom);else{let r=(0,o.watch)(e,function(e){e&&(r(),c.delete(r),t(n.AppStore.machine.denom))});c.add(r)}})}processGetEgmDenomResp(e,t){let r;if(this.logger.debug("processGetEgmDenomResp： "+JSON.stringify(t)),e)this.logger.error({error:"AppStore: processGetEgmDenomResp - Received an error",data:e});else if(null!==t){if(0===(r=t[a.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AppStore: processPlayerAccountDataResp - No BE2 responses.",data:t},!0);r.forEach(e=>{e.functionCode===a.default.enumBE2BasicFunc.MP_GetEgmDenom?this.AppStore.machine.denom=e.retvals[0]:this.logger.debug({debug:"AppStore:processPlayerAccountDataResp - Unknown BE2Response!",data:""},!0)})}}refreshCashlessAccountData(){const e=[];if(e.push([a.default.enumBE2BasicFunc.PIN_GetCardType,[0,0,0,0]]),e.push([a.default.enumBE2BasicFunc.GetCashlessLimits,[0,0,0,0]]),e.push([a.default.enumBE2BasicFunc.GetMoreCashlessLimits,[0,0,0,0]]),e.push([a.default.enumBE2BasicFunc.GetCashlessParameters,[0,0,0,0]]),e.length>0){const t=a.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processRefreshCashlessAccountDataResp.bind(this))}}checkCashlessDisabledReasons(){this.logger.debug({debug:"AppStore: Check Cashless Disabled Reasons",data:null});const e=[[a.default.enumBE2BasicFunc.GetCashlessFlags,[0,0,0,0]],[a.default.enumBE2BasicFunc.PIN_GetStateInfo,[0,0,0,0]],[a.default.enumBE2BasicFunc.Cashless_Get_Config_Data,[0,0,0,0]],[a.default.enumBE2BasicFunc.PT_Get_Bonusing_Status,[0,0,0,0]]],t=a.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processCheckCashlessDisabledReasonsResp.bind(this))}processCheckCashlessDisabledReasonsResp(e,t){let r;if(e)this.logger.error({error:"AppStore: Received an error in processCheckCashlessDisabledReasonsResp",data:e});else if(null!==t){if(0===(r=t[a.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AppStore: processCheckCashlessDisabledReasonsResp - No BE2 responses.",data:t},!0);r.forEach(e=>{switch(e.functionCode){case a.default.enumBE2BasicFunc.GetCashlessFlags:this.AppStore.playerBonuses.cashless.flags.haveData=1===e.retvals[0],this.AppStore.playerBonuses.cashless.flags.haveLock=1===e.retvals[1],this.AppStore.playerBonuses.cashless.flags.gameEnabled=1===e.retvals[2];break;case a.default.enumBE2BasicFunc.PIN_GetStateInfo:this.AppStore.playerBonuses.cashless.flags.haveCTSData=1===e.retvals[0],this.AppStore.playerBonuses.cashless.flags.haveCardData=1===e.retvals[1],this.AppStore.playerBonuses.cashless.flags.coinlessEnabled=1===e.retvals[3];break;case a.default.enumBE2BasicFunc.Cashless_Get_Config_Data:this.AppStore.playerBonuses.cashless.flags.cashlessEnabled=1===e.retvals[0];break;case a.default.enumBE2BasicFunc.PT_Get_Bonusing_Status:this.AppStore.playerBonuses.cashless.flags.bonusing=1===e.retvals[0];break;default:this.logger.debug({debug:"AppStore: processCheckCashlessDisabledReasonsResp - Unknown BE2Response!",data:""},!0)}}),this.logger.debug({debug:"AppStore: Cashless Disabled Reason : ",data:this.AppStore.playerBonuses.cashless})}}processRefreshCashlessAccountDataResp(e,t){let r;if(e)this.logger.error({error:"AppStore: Received an error in processRefreshCashlessAccountDataResp",data:e});else{if(null!==t){if(0===(r=t[a.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AppStore: processRefreshCashlessAccountDataResp - No BE2 responses.",data:t},!0);r.forEach(e=>{e.functionCode===a.default.enumBE2BasicFunc.PIN_GetCardType?this.checkCashlessEnabled(e.retvals[0]):e.functionCode===a.default.enumBE2BasicFunc.GetCashlessLimits?(this.AppStore.playerBonuses.cashless.transferLimits.minToEgm=e.retvals[0],this.AppStore.playerBonuses.cashless.transferLimits.maxToEgm=e.retvals[1],this.AppStore.playerBonuses.cashless.transferLimits.minFrEgm=e.retvals[2],this.AppStore.playerBonuses.cashless.transferLimits.maxFrEgm=e.retvals[3]):e.functionCode===a.default.enumBE2BasicFunc.GetMoreCashlessLimits?this.AppStore.playerBonuses.cashless.transferLimits.maxBal=e.retvals[0]:e.functionCode===a.default.enumBE2BasicFunc.GetCashlessParameters?(this.AppStore.playerBonuses.cashless.balances.cardCents=e.retvals[0],this.AppStore.playerBonuses.cashless.balances.egmCents=e.retvals[1],this.AppStore.playerBonuses.cashless.flags.coinlessAvailable=1===e.retvals[2],this.AppStore.playerBonuses.cashless.flags.balanceActive=1===e.retvals[3]):this.logger.debug({debug:"AppStore: processRefreshCashlessAccountDataResp - Unknown BE2Response!",data:""},!0)})}if(!1===this.AppStore.playerBonuses.cashless.enable){if(!this.AppStore.retriedCashless&&!this.AppStore.receivedPatronSessionScreen)return this.AppStore.retriedCashless=!0,this.AppStore.playerBonuses.cashless.enable=null,this.logger.debug({debug:"AppStore: processRefreshCashlessAccountDataResp - BE2 reported cashless disabled for first time, so retrying one more time ",data:""},!0),void this.delay(this.delayInitialCashlessRetry).then(()=>{this.refreshCashlessAccountData()});this.checkCashlessDisabledReasons()}else this.AppStore.playerBonuses.cashless.flags.haveData=!0,this.AppStore.playerBonuses.cashless.flags.haveLock=!0,this.AppStore.playerBonuses.cashless.flags.gameEnabled=!0,this.AppStore.playerBonuses.cashless.flags.haveCTSData=!0,this.AppStore.playerBonuses.cashless.flags.haveCardData=!0,this.AppStore.playerBonuses.cashless.flags.coinlessEnabled=!0,this.AppStore.playerBonuses.cashless.flags.cashlessEnabled=!0,this.AppStore.playerBonuses.cashless.flags.bonusing=!0,this.logger.debug({debug:"AppStore: processRefreshCashlessAccountDataResp Cashless Enabled True",data:""},!0);this.AppStore.isM5InitiatedScreenTrigger||(this.logger.debug({debug:"AppStore:call checkAndOverrideScreenTrigger from Cashless",data:""},!0),this.checkAndOverrideScreenTrigger())}}checkPPEnabled(){this.AppStore.machine.ptpEnable&&this.AppStore.player_info.ptpEnable?(this.logger.debug({debug:"AppStore: checkPPEnabled - PTP Enabled",data:this.AppStore.playerBonuses.pointPlay.available_balance},!0),this.AppStore.playerBonuses.pointPlay.enable=!0):(this.logger.debug({debug:"AppStore:checkPPEnabled - PTP Disabled, Machine or Player not enabled for PP",data:{playerPTP:this.AppStore.player_info.ptpEnable,machinePTP:this.AppStore.machine.ptpEnable}},!0),this.AppStore.playerBonuses.pointPlay.enable=!1)}checkXCEnabled(){this.AppStore.machine.xcEnable&&this.AppStore.player_info.xcEnable?(this.logger.debug({debug:"AppStore:checkXCEnabled - XC Enabled",data:this.AppStore.playerBonuses.xtraCredit.total_balance},!0),this.AppStore.playerBonuses.xtraCredit.enable=!0):(this.AppStore.playerBonuses.xtraCredit.enable=!1,this.logger.debug({debug:"AppStore:checkXCEnabled - XC Disabled",data:{playerXC:this.AppStore.player_info.xcEnable,machineXC:this.AppStore.machine.xcEnable}},!0))}checkCashlessEnabled(e){e===this.enumCardType.REG_PLAYER||e===this.enumCardType.REG_VIP_PLAYER||e===this.enumCardType.UNREG_PLAYER?this.AppStore.playerBonuses.cashless.enable=!0:this.AppStore.playerBonuses.cashless.enable=!1,this.AppStore.playerBonuses.cashless.cardType=e,this.logger.debug({debug:"AppStore:checkCashlessEnabled, Enabled = "+this.AppStore.playerBonuses.cashless.enable+" ",data:this.AppStore.playerBonuses.cashless.cardType},!0)}handlePPInitiateResponse(e){const t=this.formatEvent(e);t&&t.cmd===this.INITIATE_PP_INIT_RESP_TOPIC&&this.m5Config&&this.m5Config.hidePPAndXCOnFailures&&(this.AppStore.playerBonuses.pointPlay.enable?t.status===this.enumInitiatePPStatus.PP_NOT_AVAILABLE_EGM||t.status===this.enumInitiatePPStatus.PP_NOT_AVAILABLE||t.status===this.enumInitiatePPStatus.PP_NOT_AVAILABLE_PINLOCK?(this.AppStore.playerBonuses.pointPlay.enable=!1,this.logger.debug({debug:"AppStore:handlePPInitiateResponse - Point Play Disabled",data:t},!0)):this.logger.debug({debug:"AppStore:handlePPInitiateResponse - Point Play Remains Enabled",data:t},!0):this.logger.debug({debug:"AppStore:handlePPInitiateResponse - Point Play Already Disabled",data:t},!0))}handlePPConvertResponse(e){const t=this.formatEvent(e);t&&t.cmd===this.CONVERT_PP_RESP_TOPIC&&t.status===this.enumInitiatePPStatus.PP_AVAILABLE&&this.refreshPlayerAccountData()}handleXCActivateResponse(e){const t=this.formatEvent(e);t&&t.cmd===this.ACTIVATE_XC_RESP_TOPIC&&(t.status===this.enumActivateXCStatus.XC_ACTIVE&&this.refreshPlayerAccountData(),this.m5Config&&this.m5Config.hidePPAndXCOnFailures&&this.AppStore.playerBonuses.xtraCredit.enable&&(t.status!==this.enumActivateXCStatus.XC_INACTIVE_ABANDONED_CARD&&t.status!==this.enumActivateXCStatus.XC_INACTIVE_BONUSING_UNAVAILABLE&&t.status!==this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB&&t.status!==this.enumActivateXCStatus.XC_INACTIVE_NOT_AVAILABLE_ON_DEVICE&&t.status!==this.enumActivateXCStatus.XC_INACTIVE_PIN_LOCKED&&t.status!==this.enumActivateXCStatus.XC_INACTIVE_DUPLICATE_CARD||(this.AppStore.playerBonuses.xtraCredit.enable=!1,this.logger.debug({debug:"AppStore:handleXCActivateResponse - XC Disabled",data:t},!0))))}handleXCCancelResponse(e){const t=this.formatEvent(e);t&&t.cmd===this.CANCEL_XC_RESP_TOPIC&&t.status===this.enumCancelXCStatus.XC_CANCELLED&&this.refreshPlayerAccountData()}handleValidatePINResp(e){this.formatEvent(e).status===this.enumPINStatus.LOCKED&&(this.AppStore.pin.locked=!0),this.getPlayerPinParams()}handleCashlessTransferResponse(e){const t=this.formatEvent(e);t&&t.cmd===this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC&&0===t.status&&this.refreshCashlessAccountData()}checkAndOverrideScreenTrigger(){let e=!1,t=!1,r=!1,s=!1,a=this.lastKnownTrigger,i=!1;this.m5Config.overrideSessionScreenTrigger&&null===this.AppStore.isM5InitiatedScreenTrigger&&(null!==this.AppStore.playerBonuses.xtraCredit.enable&&null!==this.AppStore.playerBonuses.pointPlay.enable&&(t=!0),this.m5Config.cashlessEnabled?null!==this.AppStore.playerBonuses.cashless.enable&&(r=!0):r=!0,this.m5Config.playerRanking.enabled&&"legacyAdv"===this.m5Config.playerRanking.mode?null===this.AppStore.player_info.rank&&null===this.AppStore.player_info.rankIndex||(s=!0):this.m5Config.playerRanking.enabled&&"ABS"===this.m5Config.playerRanking.mode?this.AppStore.receivedAdvPatronData?s=!0:this.logger.debug({debug:"AppStore:checkAndOverrideScreenTrigger - Patron Data not received for New Player Ranking via ABS )",data:{}},!0):s=!0,e=t&&r&&s,this.m5Config.ignoreOverrideSessionTriggerList&&this.m5Config.ignoreOverrideSessionTriggerList.length>0&&this.m5Config.ignoreOverrideSessionTriggerList.includes(a)&&(i=!0),(a===n.default.IRESERVE_SCREEN||"0x00"===a||i)&&(e=!1,this.logger.debug({debug:"AppStore:checkAndOverrideScreenTrigger - Cancelling M5 Override)",data:{lastKnownTrigger:a}},!0)),e?(this.logger.debug({debug:"AppStore:checkAndOverrideScreenTrigger - M5 Override Session Screen",data:{isXCAndPPDone:t,isCashlessDone:r,isPlayerRankingDone:s,lastKnownTrigger:a}},!0),this.AppStore.isM5InitiatedScreenTrigger=!0,this.ngxComm.initiateM5_AdvScreenTrigger(n.default.SESSION_SCREEN)):this.logger.debug({debug:"AppStore:checkAndOverrideScreenTrigger - M5 Override cancelled)",data:{isXCAndPPDone:t,isCashlessDone:r,isPlayerRankingDone:s,lastKnownTrigger:a}},!0))}handleTokenUpdate(e,t){if(null!==e&&void 0!==e)switch(e){case s.default.PLAYERS_PREFERRED_NAME:this.AppStore.player_info.name=t;break;case s.default.PLAYER_ID:if(t&&"0"!==t&&""!==t&&"Unk Tok"!==t){if(this.AppStore.player_info.playerId===t||this.AppStore.isJackpotInProgress||this.lastKnownTrigger===n.default.IRESERVE_SCREEN)this.logger.debug({debug:"AppStore:handleTokenUpdate2 - Ignoring build Patron Data cache for Player Id "+t,data:{value:t,playerId:this.AppStore.player_info.playerId,isJackpotInProgress:this.AppStore.isJackpotInProgress,lastKnownTrigger:this.lastKnownTrigger,builtPatronDataCache:this.AppStore.builtPatronDataCache}},!0);else{let e=this.AppStore.lastKnownPlayerId&&this.AppStore.lastKnownPlayerId!==t;this.lastKnownTrigger===n.default.IDLE_SCREEN||this.AppStore.builtPatronDataCache&&!e?this.logger.debug({debug:"AppStore:handleTokenUpdate1 - Ignoring build Patron Data cache for Player Id "+t,data:{value:t,playerId:this.AppStore.player_info.playerId,isJackpotInProgress:this.AppStore.isJackpotInProgress,lastKnownTrigger:this.lastKnownTrigger,builtPatronDataCache:this.AppStore.builtPatronDataCache}},!0):(e&&this.logger.debug({debug:"AppStore:handleTokenUpdate - Patron Data is Stale for Player Id "+t+" AppStore contains data from PlayerId "+this.AppStore.lastKnownPlayerId,data:""},!0),this.logger.debug({debug:"AppStore:handleTokenUpdate - Delay Build Patron Data cache for Player Id "+t+" by "+this.delayPatronBuildCacheTime,data:t},!0),this.AppStore.builtPatronDataCache=!0,this.delay(this.delayPatronBuildCacheTime).then(()=>{this.buildPatronData(t)}))}this.AppStore.lastKnownPlayerId=t}this.AppStore.isJackpotInProgress||this.lastKnownTrigger===n.default.IRESERVE_SCREEN||(this.AppStore.player_info.playerId=t);break;case s.default.PLAYERS_CARD_NUMBER:this.AppStore.machine.cardId=t,this.AppStore.machine.isCarded=!0;break;case s.default.PLAYER_POINT_BALANCE:this.AppStore.playerBonuses.pointPlay.total_balance=t;break;case s.default.PLAYER_POINTS_EARNED_SESSION:this.AppStore.player_session.sessionPoints=t;break;case s.default.FREE_PLAY_AMOUNT_CENTS:"number"==typeof t?this.AppStore.playerBonuses.xtraCredit.activeBalance=t:"string"==typeof t&&(t=t.substring(1),this.AppStore.playerBonuses.xtraCredit.activeBalance=parseFloat(t)),this.AppStore.playerBonuses.xtraCredit.active&&this.AppStore.playerBonuses.xtraCredit.activeBalance<=0&&(this.AppStore.playerBonuses.xtraCredit.active=!1,this.logger.debug({debug:"AppStore:handleTokenUpdate - XC became in active",data:t},!0)),!this.AppStore.playerBonuses.xtraCredit.active&&this.AppStore.playerBonuses.xtraCredit.activeBalance>0&&(this.AppStore.playerBonuses.xtraCredit.active=!0,this.logger.debug({debug:"AppStore:handleTokenUpdate - XC became active",data:t},!0));break;case s.default.XTRA_CREDIT_INACTIVE_AMOUNT:"number"==typeof t?this.AppStore.playerBonuses.xtraCredit.inActiveBalance=t:"string"==typeof t&&(t=t.substring(1),this.AppStore.playerBonuses.xtraCredit.inActiveBalance=parseFloat(t)),this.AppStore.playerBonuses.xtraCredit.inActiveBalance=t;break;case s.default.COMP_BALANCE_MONEY_TOKEN:this.AppStore.player_session.comps=t;break;case s.default.POINT_MULTIPLIER_INTEGER_TOKEN:this.AppStore.player_session.pointMultiplier=t;break;case s.default.MACHINE_ASSET_NUMBER:this.AppStore.machine.asset=t;break;case s.default.UNIQUE_ID_OF_BE2:this.AppStore.machine.uid=t;break;case s.default.FLOOR_LOCATION:this.AppStore.machine.floorLoc=t;break;case s.default.NON_NULL_ON_ABANDONED_CARD:null!==t&&void 0!==t&&t.length>0?(this.AppStore.player_info.isAbandoned=!0,this.logger.debug({debug:"AppStore:handleTokenUpdate - card is Abandoned",data:t},!0)):this.AppStore.player_info.isAbandoned=!1;break;case s.default.FLOOR_LOCATION_DUPLICATE_CARD:null!==t&&void 0!==t&&t.length>0?(this.AppStore.player_info.dupCard=!0,this.logger.debug({debug:"AppStore:handleTokenUpdate - card is duplicate",data:t},!0)):this.AppStore.player_info.dupCard=!1}}handleTriggerUpdate(e,t,r={}){if(null!==e&&void 0!==e)switch(this.lastKnownTrigger=e,e){case n.default.IDLE_SCREEN:this.logger.debug({debug:"AppStore: handleTriggerUpdate - Cleared Player Cache for Idle Screen",data:null},!0),this.clearPlayerSession(),this.sendStatusUpdateToSystem(this.enumM5States.IDLE),this.logger.debug({debug:"AppStore:handleTriggerUpdate - Received Idle Screen Trigger",data:t},!0);break;case n.default.BIRTHDAY_SCREEN:this.AppStore.player_info.isBirthday=!0;break;case n.default.ANNIVERSARY_SCREEN:this.AppStore.player_info.isAnniversary=!0;break;case n.default.INVALID_CARD_SCREEN:this.AppStore.machine.isInvalidCard=!0;break;case n.default.ATTENDANT_WELCOME_SCREEN:this.logger.debug({debug:"AppStore: handleTriggerUpdate - Cleared Player Cache for Attendant Welcome Screen",data:null},!0),this.clearPlayerSession(),this.sendStatusUpdateToSystem(this.enumM5States.ATTENDANT);break;case n.default.JACKPOT_SCREEN:this.setJackpotInProgressStatus(!0),this.sendStatusUpdateToSystem(this.enumM5States.JACKPOT);break;case n.default.W2G_ACCRUAL_SCREEN:this.setJackpotInProgressStatus(!0),this.sendStatusUpdateToSystem(this.enumM5States.W2G_ACCRUAL);break;case n.default.WELCOME_SCREEN:this.AppStore.builtPatronDataCache||(this.logger.debug({debug:"AppStore:handleTriggerUpdate - Start Build Patron Data cache from Session Screen Trigger ",data:t},!0),this.AppStore.builtPatronDataCache=!0,this.buildPatronData("X"));break;case n.default.SESSION_SCREEN:this.logger.debug({debug:"AppStore:handleTriggerUpdate - Received Session Screen Trigger",data:t},!0),this.AppStore.receivedPatronSessionScreen=!0,this.AppStore.builtPatronDataCache=!0,this.AppStore.isM5InitiatedScreenTrigger=!0,this.sendStatusUpdateToSystem(this.enumM5States.SESSION);break;case n.default.IRESERVE_SCREEN:this.sendStatusUpdateToSystem(this.enumM5States.IRESERVE)}}sendStatusUpdateToSystem(e){this.logger.sendStatusUpdateCommand(e)}getPlayerPinParams(){const e=[];this.logger.debug({debug:"AppStore:getPlayerPinParams - Get Player Pin Params",data:this.AppStore.pin},!0),e.push([a.default.enumBE2BasicFunc.MENU_IsENTEROnPINReq,[0,0,0,0]]),e.push([a.default.enumBE2BasicFunc.PIN_ForcePIN,[0,0,0,0]]),e.push([a.default.enumBE2BasicFunc.PIN_Check_PIN_Needed,[0,0,0,0]]),e.push([a.default.enumBE2BasicFunc.PIN_GetStateInfo,[0,0,0,0]]);const t=a.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processPlayerPinParamsResponse.bind(this))}processPlayerPinParamsResponse(e,t){let r;if(e)this.logger.error({error:"AppStore: Received an error in processPlayerPinParamsResponse",data:e});else{if(null!==t){if(0===(r=t[a.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AppStore: processPlayerPinParamsResponse - No BE2 responses.",data:t},!0);r.forEach(e=>{e.functionCode===a.default.enumBE2BasicFunc.MENU_IsENTEROnPINReq?(this.AppStore.pin.enter_required=1===e.retvals[0],this.AppStore.pin.length=e.retvals[1]):e.functionCode===a.default.enumBE2BasicFunc.PIN_ForcePIN?this.AppStore.pin.force_pin=1===e.retvals[0]:e.functionCode===a.default.enumBE2BasicFunc.PIN_Check_PIN_Needed?this.AppStore.pin.check_pin_needed=1===e.retvals[0]:e.functionCode===a.default.enumBE2BasicFunc.PIN_GetStateInfo?(this.AppStore.pin.locked=1===e.retvals[2],this.AppStore.player_info.haveCardData=1===e.retvals[1]):this.logger.debug({debug:"AppStore: processPlayerPinParamsResponse - Unknown BE2Response!",data:""},!0)}),this.logger.debug({debug:"AppStore: processPlayerPinParamsResponse - pin params",data:this.AppStore.pin},!0)}this.AppStore.receivedPlayerPinParams=!0}}buildPatronData(e){this.AppStore.receivedPlayerPinParams=!1,this.logger.debug({debug:"AppStore:buildPatronData - building Patron Data",data:e},!0);const t=[];t.push([a.default.enumBE2BasicFunc.PT_Get_Player_Menu_State,[0,0,0,0]]),t.push([a.default.enumBE2BasicFunc.MENU_GetXPCParameters,[0,0,0,0]]),t.push([a.default.enumBE2BasicFunc.PIN_GetStateInfo,[0,0,0,0]]);const r=a.default.createBE2BasicFunctionArr(t);this.ngxComm.sendBe2Message(r,this.processbuildPatronDataResp.bind(this)),this.m5Config.cashlessEnabled&&null===this.AppStore.playerBonuses.cashless.cardType&&this.refreshCashlessAccountData()}processbuildPatronDataResp(e,t){let r;if(e)this.logger.error({error:"AppStore: Received an error in processbuildPatronDataResp",data:e});else{if(null!==t){if(0===(r=t[a.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AppStore: processbuildPatronDataResp - No BE2 responses.",data:t},!0);r.forEach(e=>{e.functionCode===a.default.enumBE2BasicFunc.PT_Get_Player_Menu_State?(1===e.retvals[2]?(this.AppStore.player_info.ptpEnable=!0,this.AppStore.machine.ptpEnable=!0):(this.AppStore.player_info.ptpEnable=!1,this.AppStore.machine.ptpEnable=!1,this.AppStore.playerBonuses.pointPlay.enable=!1,this.logger.debug({debug:"AppStore: processbuildPatronDataResp - PTP disabled.",data:e.retvals},!0)),e.retvals[3]>0&&!this.AppStore.playerBonuses.xtraCredit.active?(this.AppStore.playerBonuses.xtraCredit.active=!0,this.logger.debug({debug:"AppStore: processbuildPatronDataResp - XC became Active.",data:e.retvals},!0)):this.AppStore.playerBonuses.xtraCredit.active=!1):e.functionCode===a.default.enumBE2BasicFunc.MENU_GetXPCParameters?(this.AppStore.playerBonuses.xtraCredit.player_based=1===e.retvals[0],this.AppStore.playerBonuses.xtraCredit.game_based=1===e.retvals[2],this.AppStore.playerBonuses.xtraCredit.player_based||this.AppStore.playerBonuses.xtraCredit.game_based?(this.AppStore.player_info.xcEnable=!0,this.AppStore.machine.xcEnable=!0,this.AppStore.playerBonuses.xtraCredit.enable=!0,this.logger.debug({debug:"AppStore: processbuildPatronDataResp - XC enabled.",data:e.retvals},!0)):(this.AppStore.player_info.xcEnable=!1,this.AppStore.machine.xcEnable=!1,this.AppStore.playerBonuses.xtraCredit.enable=!1)):e.functionCode===a.default.enumBE2BasicFunc.PIN_GetStateInfo?(this.AppStore.pin.locked=1===e.retvals[2],this.AppStore.player_info.haveCardData=1===e.retvals[1],this.AppStore.pin.locked&&this.logger.debug({debug:"AppStore: processbuildPatronDataResp - Pin Locked.",data:e.retvals},!0)):this.logger.debug({debug:"AppStore: processbuildPatronDataResp - Unknown BE2Response!",data:""},!0)})}this.refreshPlayerAccountData()}}UpdatePinParams(e,t,r,n,s){this.AppStore.pin.locked=e,this.AppStore.pin.force_pin=t,this.AppStore.pin.check_pin_needed=r,this.AppStore.pin.enter_required=n,this.AppStore.pin.length=s,this.AppStore.receivedPlayerPinParams=!0,this.logger.debug({debug:"AppStore: UpdatePinParams - Pin params updated !",data:this.AppStore.pin},!0)}setJackpotInProgressStatus(e){this.AppStore.isJackpotInProgress=e,this.logger.debug({debug:"AppStore: setW2GInProgressStatus - setting isJackpotInProgress to "+e,data:this.AppStore.isJackpotInProgress},!0)}clearPlayerSession(){c.forEach(e=>{e()}),c.clear();let e=this.AppStore.player_info.playerId;this.AppStore.lastKnownPlayerId=null,this.AppStore.receivedPlayerPinParams=null,this.AppStore.builtPatronDataCache=null,this.AppStore.receivedAdvPatronData=null,this.AppStore.receivedPatronSessionScreen=null,this.AppStore.isM5InitiatedScreenTrigger=null,this.AppStore.retriedCashless=null,this.AppStore.isJackpotInProgress=null,this.clearPlayerInfoStore(),this.clearPlayerBonusesStore(),this.clearPlayerSessionStore(),this.clearPlayerSpecificMachineStore(),this.clearBonusesStore(),this.clearConfigStore(),this.clearPinStore(),this.clearDisplayLimits(),this.logger.debug({debug:"AppStore: clearPlayerSession - Cleared Player Cache for player ID : "+e,data:null},!0)}clearPlayerInfoStore(){this.AppStore.player_info.name=null,this.AppStore.player_info.rankIndex=null,this.AppStore.player_info.rank=null,this.AppStore.player_info.playerId=null,this.AppStore.player_info.dupCard=null,this.AppStore.player_info.banned=null,this.AppStore.player_info.isAbandoned=null,this.AppStore.player_info.isBanned=null,this.AppStore.player_info.isAnniversary=null,this.AppStore.player_info.isBirthday=null,this.AppStore.player_info.ptpEnable=null,this.AppStore.player_info.xcEnable=null,this.AppStore.player_info.rpEnable=null,this.AppStore.player_info.srpEnable=null,this.AppStore.player_info.ppEnable=null,this.AppStore.player_info.ppErrorStatus=null,this.AppStore.player_info.haveCardData=null}clearPlayerBonusesStore(){this.clearPointPlayStore(),this.clearXtraCreditStore(),this.clearCashlessStore()}clearPointPlayStore(){this.AppStore.playerBonuses.pointPlay.enable=null,this.AppStore.playerBonuses.pointPlay.total_balance=null,this.AppStore.playerBonuses.pointPlay.available_balance=null,this.AppStore.playerBonuses.pointPlay.available_balance_in_Cents=null,this.AppStore.playerBonuses.pointPlay.available_balance_in_Credits=null,this.AppStore.playerBonuses.pointPlay.points_Limit=null,this.AppStore.playerBonuses.pointPlay.points_Limit_Credits=null}clearXtraCreditStore(){this.AppStore.playerBonuses.xtraCredit.enable=null,this.AppStore.playerBonuses.xtraCredit.active=null,this.AppStore.playerBonuses.xtraCredit.activeBalance=null,this.AppStore.playerBonuses.xtraCredit.inActiveBalance=null,this.AppStore.playerBonuses.xtraCredit.total_balance=null,this.AppStore.playerBonuses.xtraCredit.cancellable=null,this.AppStore.playerBonuses.xtraCredit.player_based=null,this.AppStore.playerBonuses.xtraCredit.game_based=null}clearCashlessStore(){this.AppStore.playerBonuses.cashless.enable=null,this.AppStore.playerBonuses.cashless.cardType=null,this.AppStore.playerBonuses.cashless.transferLimits.minToEgm=null,this.AppStore.playerBonuses.cashless.transferLimits.maxToEgm=null,this.AppStore.playerBonuses.cashless.transferLimits.minFrEgm=null,this.AppStore.playerBonuses.cashless.transferLimits.maxFrEgm=null,this.AppStore.playerBonuses.cashless.transferLimits.maxBal=null,this.AppStore.playerBonuses.cashless.balances.cardCents=null,this.AppStore.playerBonuses.cashless.balances.egmCents=null,this.AppStore.playerBonuses.cashless.balances.egmDenom=null,this.AppStore.playerBonuses.cashless.flags.bonusing=null,this.AppStore.playerBonuses.cashless.flags.haveData=null,this.AppStore.playerBonuses.cashless.flags.haveLock=null,this.AppStore.playerBonuses.cashless.flags.gameEnabled=null,this.AppStore.playerBonuses.cashless.flags.coinlessAvailable=null,this.AppStore.playerBonuses.cashless.flags.balanceActive=null,this.AppStore.playerBonuses.cashless.flags.cashlessEnabled=null,this.AppStore.playerBonuses.cashless.flags.haveCTSData=null,this.AppStore.playerBonuses.cashless.flags.haveCardData=null,this.AppStore.playerBonuses.cashless.flags.coinlessEnabled=null}clearMachineStore(){this.AppStore.machine.isCarded=null,this.AppStore.machine.asset=null,this.AppStore.machine.uid=null,this.AppStore.machine.floorLoc=null,this.AppStore.machine.ptpEnable=null,this.AppStore.machine.rpEnable=null,this.AppStore.machine.srpEnable=null,this.AppStore.machine.ppEnable=null,this.AppStore.machine.ptpEnable=null,this.AppStore.machine.cardId=null,this.AppStore.machine.denom=null}clearPlayerSpecificMachineStore(){this.AppStore.machine.isCarded=null,this.AppStore.machine.cardId=null,this.AppStore.machine.isInvalidCard=null,this.AppStore.machine.ptpEnable=null,this.AppStore.machine.xcEnable=null,this.AppStore.machine.rpEnable=null,this.AppStore.machine.srpEnable=null,this.AppStore.machine.ppEnable=null}clearBonusesStore(){this.AppStore.bonuses.enable=null}clearConfigStore(){this.AppStore.config.bonusEndpoint=null,this.AppStore.config.iReserveEndpoint=null,this.AppStore.config.RRAwardEndpoint=null,this.AppStore.config.RRConfigEndpoint=null}clearPlayerSessionStore(){this.AppStore.player_session.comps=null,this.AppStore.player_session.pointMultiplier=null,this.AppStore.player_session.total_games=null,this.AppStore.player_session.sessionPoints=null,this.AppStore.player_session.win_loss=null}clearPinStore(){this.AppStore.pin.length=null,this.AppStore.pin.enter_required=null,this.AppStore.pin.check_pin_needed=null,this.AppStore.pin.force_pin=null,this.AppStore.pin.locked=null}clearDisplayLimits(){this.AppStore.display_limits.coinInRunaway=null,this.AppStore.display_limits.coinOutRunaway=null,this.AppStore.display_limits.jackpot=null,this.AppStore.display_limits.bonus=null,this.AppStore.display_limits.xtraCredit=null,this.AppStore.display_limits.points=null,this.AppStore.display_limits.comp=null,this.AppStore.display_limits.witness=null,this.AppStore.display_limits.pouchPay=null}clearAll(){this.clearPlayerSession(),this.clearMachineStore()}}},function(e,t,r){!function(e){var t={};e.SRP_POINTS_EARNED="0x0F",t[e.SRP_POINTS_EARNED]="SRP Points Earned so far",e.MACHINE_ASSET_NUMBER="0x10",t[e.MACHINE_ASSET_NUMBER]="Machine Asset Number",e.PLAYER_POINT_BALANCE="0x11",t[e.PLAYER_POINT_BALANCE]="Player Point Balance",e.PLAYER_POINT_COUNTDOWN="0x12",t[e.PLAYER_POINT_COUNTDOWN]="Player Point Countdown",e.PLAYER_POINTS_EARNED_SESSION="0x13",t[e.PLAYER_POINTS_EARNED_SESSION]="Player Points Earned this session",e.LAST_MACHINE_EVENT_RECORDED="0x14",t[e.LAST_MACHINE_EVENT_RECORDED]="Last Machine Event Recorded",e.FREE_FOR_ALL_WON="0x15",t[e.FREE_FOR_ALL_WON]="Free For All (Won So Far)",e.WELCOME_BACK_POINTS_TO_GO="0x16",t[e.WELCOME_BACK_POINTS_TO_GO]="Welcome Back Points to go",e.UNIQUE_ID_OF_BE2="0x17",t[e.UNIQUE_ID_OF_BE2]="Unique Id (of BE2)",e.CURRENT_MJT_MULTIPLIER="0x18",t[e.CURRENT_MJT_MULTIPLIER]="Current MJT Multiplier",e.FREE_PLAY_AMOUNT_IN_CENTS="0x19",t[e.FREE_PLAY_AMOUNT_IN_CENTS]="Free Play Amount (in cents)",e.MATCH_PLAY_XTRA_CREDIT_BALANCE="0x1A",t[e.MATCH_PLAY_XTRA_CREDIT_BALANCE]="Match Play (Xtra Credit) Balance",e.PLAYER_POINT_PLAY_BALANCE="0x1B",t[e.PLAYER_POINT_PLAY_BALANCE]="Player Point Balance available for Point Play",e.POINT_MULTIPLIER_INTEGER_TOKEN="0x1D",t[e.POINT_MULTIPLIER_INTEGER_TOKEN]="Point Multiplier integer token",e.AMOUNT_OF_BONUS_WIN_IN_COINS="0x1E",t[e.AMOUNT_OF_BONUS_WIN_IN_COINS]="Amount of bonus/consolation win in coins",e.BILL_METER_DENOMINATION="0x20",t[e.BILL_METER_DENOMINATION]="The current Bill Meter Denomination",e.CUMULATIVE_SRP_AWARD_AMOUNT="0x21",t[e.CUMULATIVE_SRP_AWARD_AMOUNT]="The players cumulative SRP Award Amount",e.SRP_AWARD_AMOUNT_NEXT_TIER="0x22",t[e.SRP_AWARD_AMOUNT_NEXT_TIER]="The SRP Award Amount for this players next Tier -0 if at top tier",e.XTRA_CREDIT_INACTIVE_AMOUNT="0x23",t[e.XTRA_CREDIT_INACTIVE_AMOUNT]="The amount of Xtra Credit Inactive Storage",e.CARDED_LUCKY_COIN_POOL="0x24",t[e.CARDED_LUCKY_COIN_POOL]="Current pool amount (Carded Lucky Coin)",e.HANDPAY_AMOUNT="0x25",t[e.HANDPAY_AMOUNT]="Handpay Amount",e.FREE_PLAY_AMOUNT_CENTS="0x26",t[e.FREE_PLAY_AMOUNT_CENTS]="Free Play Amount (in cents)",e.MATCH_PLAY_XTRA_CREDIT_CENTS="0x27",t[e.MATCH_PLAY_XTRA_CREDIT_CENTS]="Match Play (Xtra Credit) balance (in cents)",e.PERSONAL_PROGRESSIVE_DOLLARS="0x28",t[e.PERSONAL_PROGRESSIVE_DOLLARS]="RPP (Personal Progressive) current pool balance in dollars",e.BONUS_CONSOLATION_WIN_DOLLARS="0x29",t[e.BONUS_CONSOLATION_WIN_DOLLARS]="Amount of bonus/consolation win in dollars",e.EFT_BALANCE_CURRENT_CARD_DOLLARS="0x2A",t[e.EFT_BALANCE_CURRENT_CARD_DOLLARS]="EFT balance for Current Card in dollars",e.EFT_AMOUNT_TRANSFER_DOLLARS="0x2B",t[e.EFT_AMOUNT_TRANSFER_DOLLARS]="EFT Amount Transferred to machine in dollars",e.WELCOME_BACK_RETURN_PLAY_AWARD_DOLLARS="0x2C",t[e.WELCOME_BACK_RETURN_PLAY_AWARD_DOLLARS]="Welcome Back (Return Play) award amount in dollars",e.FUNDS_TRANSFER_RECALL_AMOUNT_DOLLARS="0x2D",t[e.FUNDS_TRANSFER_RECALL_AMOUNT_DOLLARS]="Funds Transfer Recall amount in dollars",e.COMP_BALANCE_MONEY_TOKEN="0x2E",t[e.COMP_BALANCE_MONEY_TOKEN]="Comp balance money token",e.PLAYERS_PREFERRED_NAME="0x30",t[e.PLAYERS_PREFERRED_NAME]='Players "Preferred" name',e.PLAYERS_CARD_NUMBER="0x31",t[e.PLAYERS_CARD_NUMBER]="Players Card Number",e.NON_NULL_ON_ABANDONED_CARD="0x33",t[e.NON_NULL_ON_ABANDONED_CARD]="Normally NULL, changed to non-NULL on Abandoned Card",e.THE_SYSTEM_TIME="0x34",t[e.THE_SYSTEM_TIME]="The System Time",e.FLOOR_LOCATION_DUPLICATE_CARD="0x36",t[e.FLOOR_LOCATION_DUPLICATE_CARD]="Floor location of duplicate card",e.SRP_THRESHOLD_NEXT_TIER="0x40",t[e.SRP_THRESHOLD_NEXT_TIER]="The SRP threshold for th next tier – 0 if at top tier",e.POINTS_TO_NEXT_THRESHOLD="0x41",t[e.POINTS_TO_NEXT_THRESHOLD]="Points required to reach next threshold - 0 if at top tier",e.SRP_THRESHOLD_TOP_TIER="0x42",t[e.SRP_THRESHOLD_TOP_TIER]="The SRP threshold for the top tier for this players level",e.POINT_ACCUMULATION_PLAYER_RANKING="0x43",t[e.POINT_ACCUMULATION_PLAYER_RANKING]="Point Accumulation by player ranking points earned during session",e.MJT_COUNTDOWN="0x44",t[e.MJT_COUNTDOWN]="Current MJT counting down the seconds or games left",e.PLAYER_ID="0x45",t[e.PLAYER_ID]="Player ID",e.DRAW_COUNTDOWN="0x46",t[e.DRAW_COUNTDOWN]="Draw Countdown",e.PLAYER_SESSION_GAMES_PLAYED="0x47",t[e.PLAYER_SESSION_GAMES_PLAYED]="Player session games played",e.SUM_OF_SRP_PLAYER_LEVEL_AWARDS="0x70",t[e.SUM_OF_SRP_PLAYER_LEVEL_AWARDS]="Sum of all SRP awards for this player level",e.PLC_RPP_PERSONAL_PROGRESSIVE_THRESHOLD="0x71",t[e.PLC_RPP_PERSONAL_PROGRESSIVE_THRESHOLD]="PLC (RPP, Personal Progressive) Eligibility Threshold",e.PLC_RPP_PERSONAL_PROGRESSIVE_TO_GO="0x72",t[e.PLC_RPP_PERSONAL_PROGRESSIVE_TO_GO]="PLC (RPP, Personal Progressive) Distance to go to eligibility threshold",e.PLC_RPP_PERSONAL_PROGRESSIVE_MAXIMUM_AWARD="0x73",t[e.PLC_RPP_PERSONAL_PROGRESSIVE_MAXIMUM_AWARD]="PLC (RPP, Personal Progressive) maximum possible award",e.PLC_RPP_PERSONAL_PROGRESSIVE_AWARDED_VALUE="0x74",t[e.PLC_RPP_PERSONAL_PROGRESSIVE_AWARDED_VALUE]="PLC (RPP, Personal Progressive) Awarded Value",e.POINTS_COUNTDOWN_IN_MONEY="0x75",t[e.POINTS_COUNTDOWN_IN_MONEY]='Same as "points countdown" but in money',e.CASHLESS_BALANCE_OF_CARD="0x7A",t[e.CASHLESS_BALANCE_OF_CARD]="Current Cashless Balance of Card (MSC or SCC)",e.TOTAL_MONEY_AVAILABLE="0x7B",t[e.TOTAL_MONEY_AVAILABLE]="Players total money available (Credit Meter + Card Balance for MSC or SCC)",e.FREE_FOR_ALL_WON_CENTS="0x7C",t[e.FREE_FOR_ALL_WON_CENTS]="Free For All (Won So Far) in Cents",e.FLOOR_LOCATION="0xAF",t[e.FLOOR_LOCATION]="Floor Location",e.ASSIGNED_NUMBERS="0xB0",t[e.ASSIGNED_NUMBERS]="Assigned Numbers for Lucky Draw",e.WINNING_NUMBERS="0xB1",t[e.WINNING_NUMBERS]="Winning Numbers for Lucky Draw",e.TIME_TO_NEXT_DRAW="0xB2",t[e.TIME_TO_NEXT_DRAW]="Time to Next Draw",e.DRAW_NAME="0xB3",t[e.DRAW_NAME]="Draw name",e.VFD_MESSAGE_LINE_1="0xFE",t[e.VFD_MESSAGE_LINE_1]="VFD Message Line 1",e.VFD_MESSAGE_LINE_2="0xFF",t[e.VFD_MESSAGE_LINE_2]="VFD Message Line 2",e.getText=function(e){if(t.hasOwnProperty(e))return t[e];throw new Error("code does not exist: "+e)}}(t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(8)),s=l(r(200)),a=l(r(219)),i=l(r(220)),o=l(r(41));function l(e){return e&&e.__esModule?e:{default:e}}r(222).default;class c{constructor(e,t,r,s,l){const u=o.default.getDeviceId(e);let d={},p={},h={},f={};a.default.getJSONFile(t).then(function(t){d=t;const g=o.default.getHostUrl(d,e),_=o.default.getLoggerUrl(d,e),E=o.default.getLogLevel(d,e),S=o.default.getUrlParamsObject(e);a.default.getJSONFile(s).then(function(t){const s=new i.default(_,u,E,S,t);h=t,a.default.getJSONFile(l).then(function(t){f=t,a.default.getJSONFile(r).then(function(t){p=t,s.info({DeviceId:u,HostUrl:g,LoggerUrl:_,LogLevel:E,DiagnosticTargets:s.m5Config.diagnosticTargets}),Promise.all([n.default.validate(d,"urlmap"),n.default.validate(p,"statusmap")]).then(t=>{c.createShellController(g,e,d,p,s,h,f)}).catch(e=>{s.error({error:e},!0)})}).catch(function(e){const t="Shell: Error Parsing "+r+" - "+e.toString();s.error({error:t},!0)})}).catch(function(e){const t="Shell: Error Parsing "+l+" - "+e.toString();s.error({error:t},!0)})}).catch(function(e){const t="Shell: Error Parsing "+s+" - "+e.toString();throw new Error(t)})}).catch(function(e){const r="Shell: Error Parsing "+t+" - "+e.toString();throw new Error(r)})}static createShellController(e,t,r,n,a,i,l){window.shell=new s.default(e,o.default.filterPageUrl(t,["localWebSocketPort","localXmlSocketPort"]),r,n,a,i,l)}}t.default=c},function(e,t,r){"use strict";(function(t){r(71);var n=r(44),s=r(13),a=r(34),i=r(63),o=r(64),l=r(65),c=r(66),u=r(9),d=r(159),p=r(160),h={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,enumCaseInsensitiveComparison:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};function f(e){var t;if("object"==typeof e){for(var r,n=Object.keys(e),s=n.length;s--;)if(r=n[s],void 0===h[r])throw new Error("Unexpected option passed to constructor: "+r);for(s=(n=Object.keys(h)).length;s--;)void 0===e[r=n[s]]&&(e[r]=u.clone(h[r]));t=e}else t=u.clone(h);return!0===t.strictMode&&(t.forceAdditional=!0,t.forceItems=!0,t.forceMaxLength=!0,t.forceProperties=!0,t.noExtraKeywords=!0,t.noTypeless=!0,t.noEmptyStrings=!0,t.noEmptyArrays=!0),t}function g(e){this.cache={},this.referenceCache=[],this.validateOptions={},this.options=f(e);var t=f({});this.setRemoteReference("http://json-schema.org/draft-04/schema",d,t),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",p,t)}g.prototype.compileSchema=function(e){var t=new s(this.options);return e=o.getSchema.call(this,t,e),l.compileSchema.call(this,t,e),this.lastReport=t,t.isValid()},g.prototype.validateSchema=function(e){if(Array.isArray(e)&&0===e.length)throw new Error(".validateSchema was called with an empty array");var t=new s(this.options);return e=o.getSchema.call(this,t,e),l.compileSchema.call(this,t,e)&&c.validateSchema.call(this,t,e),this.lastReport=t,t.isValid()},g.prototype.validate=function(e,r,a,d){"function"===u.whatIs(a)&&(d=a,a={}),a||(a={}),this.validateOptions=a;var p=u.whatIs(r);if("string"!==p&&"object"!==p){var h=new Error("Invalid .validate call - schema must be an string or object but "+p+" was passed!");if(d)return void t.nextTick(function(){d(h,!1)});throw h}var f=!1,g=new s(this.options);if(g.json=e,"string"==typeof r){var _=r;if(!(r=o.getSchema.call(this,g,_)))throw new Error("Schema with id '"+_+"' wasn't found in the validator cache!")}else r=o.getSchema.call(this,g,r);var E=!1;f||(E=l.compileSchema.call(this,g,r)),E||(this.lastReport=g,f=!0);var S=!1;if(f||(S=c.validateSchema.call(this,g,r)),S||(this.lastReport=g,f=!0),a.schemaPath&&(g.rootSchema=r,!(r=n(r,a.schemaPath))))throw new Error("Schema path '"+a.schemaPath+"' wasn't found in the schema!");if(f||i.validate.call(this,g,r,e),!d){if(g.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=g,g.isValid()}g.processAsyncTasks(this.options.asyncTimeout,d)},g.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var e=new Error;return e.name="z-schema validation error",e.message=this.lastReport.commonErrorMessage,e.details=this.lastReport.errors,e},g.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:void 0},g.prototype.getMissingReferences=function(e){for(var t=[],r=(e=e||this.lastReport.errors).length;r--;){var n=e[r];if("UNRESOLVABLE_REFERENCE"===n.code){var s=n.params[0];-1===t.indexOf(s)&&t.push(s)}n.inner&&(t=t.concat(this.getMissingReferences(n.inner)))}return t},g.prototype.getMissingRemoteReferences=function(){for(var e=this.getMissingReferences(),t=[],r=e.length;r--;){var n=o.getRemotePath(e[r]);n&&-1===t.indexOf(n)&&t.push(n)}return t},g.prototype.setRemoteReference=function(e,t,r){t="string"==typeof t?JSON.parse(t):u.cloneDeep(t),r&&(t.__$validationOptions=f(r)),o.cacheSchemaByUri.call(this,e,t)},g.prototype.getResolvedSchema=function(e){var t=new s(this.options);e=o.getSchema.call(this,t,e),e=u.cloneDeep(e);var r=[],n=function(e){var t,s=u.whatIs(e);if(("object"===s||"array"===s)&&!e.___$visited){if(e.___$visited=!0,r.push(e),e.$ref&&e.__$refResolved){var a=e.__$refResolved,i=e;for(t in delete e.$ref,delete e.__$refResolved,a)a.hasOwnProperty(t)&&(i[t]=a[t])}for(t in e)e.hasOwnProperty(t)&&(0===t.indexOf("__$")?delete e[t]:n(e[t]))}};if(n(e),r.forEach(function(e){delete e.___$visited}),this.lastReport=t,t.isValid())return e;throw this.getLastError()},g.prototype.setSchemaReader=function(e){return g.setSchemaReader(e)},g.prototype.getSchemaReader=function(){return g.schemaReader},g.schemaReader=void 0,g.setSchemaReader=function(e){g.schemaReader=e},g.registerFormat=function(e,t){a[e]=t},g.unregisterFormat=function(e){delete a[e]},g.getRegisteredFormats=function(){return Object.keys(a)},g.getDefaultOptions=function(){return u.cloneDeep(h)},g.schemaSymbol=u.schemaSymbol,g.jsonSymbol=u.jsonSymbol,e.exports=g}).call(this,r(43))},function(e,t){"function"!=typeof Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&(e==e&&e!==1/0&&e!==-1/0)})},function(e,t,r){"use strict";e.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ENUM_CASE_MISMATCH:"Enum does not match case for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},function(e,t,r){r(74),r(94),e.exports=r(14).Symbol},function(e,t,r){"use strict";var n=r(5),s=r(10),a=r(11),i=r(75),o=r(28),l=r(79).KEY,c=r(19),u=r(21),d=r(80),p=r(16),h=r(17),f=r(47),g=r(81),_=r(82),E=r(87),S=r(20),m=r(15),C=r(88),b=r(18),A=r(26),v=r(27),P=r(89),y=r(92),T=r(93),I=r(52),R=r(12),O=r(30),N=T.f,L=R.f,B=y.f,x=n.Symbol,D=n.JSON,M=D&&D.stringify,w=h("_hidden"),k=h("toPrimitive"),U={}.propertyIsEnumerable,F=u("symbol-registry"),j=u("symbols"),V=u("op-symbols"),G=Object.prototype,X="function"==typeof x&&!!I.f,$=n.QObject,H=!$||!$.prototype||!$.prototype.findChild,W=a&&c(function(){return 7!=P(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=N(G,t);n&&delete G[t],L(e,t,r),n&&e!==G&&L(G,t,n)}:L,Y=function(e){var t=j[e]=P(x.prototype);return t._k=e,t},K=X&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},q=function(e,t,r){return e===G&&q(V,t,r),S(e),t=A(t,!0),S(r),s(j,t)?(r.enumerable?(s(e,w)&&e[w][t]&&(e[w][t]=!1),r=P(r,{enumerable:v(0,!1)})):(s(e,w)||L(e,w,v(1,{})),e[w][t]=!0),W(e,t,r)):L(e,t,r)},J=function(e,t){S(e);for(var r,n=_(t=b(t)),s=0,a=n.length;a>s;)q(e,r=n[s++],t[r]);return e},z=function(e){var t=U.call(this,e=A(e,!0));return!(this===G&&s(j,e)&&!s(V,e))&&(!(t||!s(this,e)||!s(j,e)||s(this,w)&&this[w][e])||t)},Z=function(e,t){if(e=b(e),t=A(t,!0),e!==G||!s(j,t)||s(V,t)){var r=N(e,t);return!r||!s(j,t)||s(e,w)&&e[w][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=B(b(e)),n=[],a=0;r.length>a;)s(j,t=r[a++])||t==w||t==l||n.push(t);return n},ee=function(e){for(var t,r=e===G,n=B(r?V:b(e)),a=[],i=0;n.length>i;)!s(j,t=n[i++])||r&&!s(G,t)||a.push(j[t]);return a};X||(o((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===G&&t.call(V,r),s(this,w)&&s(this[w],e)&&(this[w][e]=!1),W(this,e,v(1,r))};return a&&H&&W(G,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",function(){return this._k}),T.f=Z,R.f=q,r(53).f=y.f=Q,r(33).f=z,I.f=ee,a&&!r(29)&&o(G,"propertyIsEnumerable",z,!0),f.f=function(e){return Y(h(e))}),i(i.G+i.W+i.F*!X,{Symbol:x});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)h(te[re++]);for(var ne=O(h.store),se=0;ne.length>se;)g(ne[se++]);i(i.S+i.F*!X,"Symbol",{for:function(e){return s(F,e+="")?F[e]:F[e]=x(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),i(i.S+i.F*!X,"Object",{create:function(e,t){return void 0===t?P(e):J(P(e),t)},defineProperty:q,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ae=c(function(){I.f(1)});i(i.S+i.F*ae,"Object",{getOwnPropertySymbols:function(e){return I.f(C(e))}}),D&&i(i.S+i.F*(!X||c(function(){var e=x();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],s=1;arguments.length>s;)n.push(arguments[s++]);if(r=t=n[1],(m(t)||void 0!==e)&&!K(e))return E(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,M.apply(D,n)}}),x.prototype[k]||r(25)(x.prototype,k,x.prototype.valueOf),d(x,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(5),s=r(14),a=r(25),i=r(28),o=r(77),l=function(e,t,r){var c,u,d,p,h=e&l.F,f=e&l.G,g=e&l.S,_=e&l.P,E=e&l.B,S=f?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,m=f?s:s[t]||(s[t]={}),C=m.prototype||(m.prototype={});for(c in f&&(r=t),r)d=((u=!h&&S&&void 0!==S[c])?S:r)[c],p=E&&u?o(d,n):_&&"function"==typeof d?o(Function.call,d):d,S&&i(S,c,d,e&l.U),m[c]!=d&&a(m,c,p),_&&C[c]!=d&&(C[c]=d)};n.core=s,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){e.exports=r(21)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(78);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,s){return e.call(t,r,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(16)("meta"),s=r(15),a=r(10),i=r(12).f,o=0,l=Object.isExtensible||function(){return!0},c=!r(19)(function(){return l(Object.preventExtensions({}))}),u=function(e){i(e,n,{value:{i:"O"+ ++o,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[n].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!a(e,n)&&u(e),e}}},function(e,t,r){var n=r(12).f,s=r(10),a=r(17)("toStringTag");e.exports=function(e,t,r){e&&!s(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){var n=r(5),s=r(14),a=r(29),i=r(47),o=r(12).f;e.exports=function(e){var t=s.Symbol||(s.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(30),s=r(52),a=r(33);e.exports=function(e){var t=n(e),r=s.f;if(r)for(var i,o=r(e),l=a.f,c=0;o.length>c;)l.call(e,i=o[c++])&&t.push(i);return t}},function(e,t,r){var n=r(31);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(18),s=r(85),a=r(86);e.exports=function(e){return function(t,r,i){var o,l=n(t),c=s(l.length),u=a(i,c);if(e&&r!=r){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},function(e,t,r){var n=r(50),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e,t,r){var n=r(50),s=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?s(e+t,0):a(e,t)}},function(e,t,r){var n=r(31);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(49);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(20),s=r(90),a=r(32),i=r(51)("IE_PROTO"),o=function(){},l=function(){var e,t=r(46)("iframe"),n=a.length;for(t.style.display="none",r(91).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(o.prototype=n(e),r=new o,o.prototype=null,r[i]=e):r=l(),void 0===t?r:s(r,t)}},function(e,t,r){var n=r(12),s=r(20),a=r(30);e.exports=r(11)?Object.defineProperties:function(e,t){s(e);for(var r,i=a(t),o=i.length,l=0;o>l;)n.f(e,r=i[l++],t[r]);return e}},function(e,t,r){var n=r(5).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(18),s=r(53).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return s(e)}catch(e){return i.slice()}}(e):s(n(e))}},function(e,t,r){var n=r(33),s=r(27),a=r(18),i=r(26),o=r(10),l=r(45),c=Object.getOwnPropertyDescriptor;t.f=r(11)?c:function(e,t){if(e=a(e),t=i(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return s(!n.f.call(e,t),e[t])}},function(e,t,r){"use strict";var n=r(95),s={};s[r(17)("toStringTag")]="z",s+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(31),s=r(17)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?r:a?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=ve(r(35)),s=ve(r(54)),a=ve(r(97)),i=ve(r(98)),o=ve(r(99)),l=ve(r(100)),c=ve(r(101)),u=ve(r(102)),d=ve(r(103)),p=ve(r(104)),h=ve(r(22)),f=ve(r(105)),g=ve(r(37)),_=ve(r(106)),E=Ae(r(107)),S=Ae(r(108)),m=ve(r(109)),C=ve(r(110)),b=ve(r(111)),A=ve(r(112)),v=ve(r(113)),P=ve(r(57)),y=ve(r(58)),T=ve(r(114)),I=ve(r(115)),R=ve(r(116)),O=ve(r(56)),N=Ae(r(117)),L=ve(r(118)),B=ve(r(59)),x=ve(r(119)),D=ve(r(120)),M=ve(r(121)),w=ve(r(122)),k=ve(r(123)),U=ve(r(124)),F=ve(r(125)),j=ve(r(126)),V=ve(r(127)),G=ve(r(55)),X=ve(r(128)),$=ve(r(129)),H=ve(r(130)),W=ve(r(131)),Y=ve(r(132)),K=ve(r(133)),q=ve(r(134)),J=ve(r(135)),z=ve(r(136)),Z=ve(r(137)),Q=Ae(r(138)),ee=ve(r(139)),te=ve(r(140)),re=ve(r(141)),ne=ve(r(142)),se=ve(r(143)),ae=ve(r(144)),ie=ve(r(145)),oe=ve(r(146)),le=ve(r(147)),ce=ve(r(148)),ue=Ae(r(149)),de=ve(r(60)),pe=ve(r(61)),he=ve(r(150)),fe=ve(r(151)),ge=ve(r(152)),_e=ve(r(153)),Ee=ve(r(154)),Se=ve(r(62)),me=ve(r(155)),Ce=ve(r(156)),be=ve(r(36));function Ae(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function ve(e){return e&&e.__esModule?e:{default:e}}var Pe={version:"10.11.0",toDate:n.default,toFloat:s.default,toInt:a.default,toBoolean:i.default,equals:o.default,contains:l.default,matches:c.default,isEmail:u.default,isURL:d.default,isMACAddress:p.default,isIP:h.default,isIPRange:f.default,isFQDN:g.default,isBoolean:_.default,isAlpha:E.default,isAlphaLocales:E.locales,isAlphanumeric:S.default,isAlphanumericLocales:S.locales,isNumeric:m.default,isPort:C.default,isLowercase:b.default,isUppercase:A.default,isAscii:v.default,isFullWidth:P.default,isHalfWidth:y.default,isVariableWidth:T.default,isMultibyte:I.default,isSurrogatePair:R.default,isInt:O.default,isFloat:N.default,isFloatLocales:N.locales,isDecimal:L.default,isHexadecimal:B.default,isDivisibleBy:x.default,isHexColor:D.default,isISRC:M.default,isMD5:w.default,isHash:k.default,isJWT:U.default,isJSON:F.default,isEmpty:j.default,isLength:V.default,isByteLength:G.default,isUUID:X.default,isMongoId:$.default,isAfter:H.default,isBefore:W.default,isIn:Y.default,isCreditCard:K.default,isIdentityCard:q.default,isISIN:J.default,isISBN:z.default,isISSN:Z.default,isMobilePhone:Q.default,isMobilePhoneLocales:Q.locales,isPostalCode:ue.default,isPostalCodeLocales:ue.locales,isCurrency:ee.default,isISO8601:te.default,isRFC3339:re.default,isISO31661Alpha2:ne.default,isISO31661Alpha3:se.default,isBase64:ae.default,isDataURI:ie.default,isMagnetURI:oe.default,isMimeType:le.default,isLatLong:ce.default,ltrim:de.default,rtrim:pe.default,trim:he.default,escape:fe.default,unescape:ge.default,stripLow:_e.default,whitelist:Ee.default,blacklist:Se.default,isWhitelisted:me.default,normalizeEmail:Ce.default,toString:be.default};t.default=Pe,e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),parseInt(e,t||10)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t)return"1"===e||"true"===e;return"0"!==e&&"false"!==e&&""!==e};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),e===t};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),e.indexOf((0,s.default)(t))>=0};var n=a(r(0)),s=a(r(36));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,n.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,r));return t.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),(t=(0,s.default)(t,c)).require_display_name||t.allow_display_name){var r=e.match(u);if(r)e=r[1];else if(t.require_display_name)return!1}var l=e.split("@"),_=l.pop(),E=l.join("@"),S=_.toLowerCase();if(t.domain_specific_validation&&("gmail.com"===S||"googlemail.com"===S)){var m=(E=E.toLowerCase()).split("+")[0];if(!(0,a.default)(m.replace(".",""),{min:6,max:30}))return!1;for(var C=m.split("."),b=0;b<C.length;b++)if(!p.test(C[b]))return!1}if(!(0,a.default)(E,{max:64})||!(0,a.default)(_,{max:254}))return!1;if(!(0,i.default)(_,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,o.default)(_)){if(!_.startsWith("[")||!_.endsWith("]"))return!1;var A=_.substr(1,_.length-2);if(0===A.length||!(0,o.default)(A))return!1}}if('"'===E[0])return E=E.slice(1,E.length-1),t.allow_utf8_local_part?g.test(E):h.test(E);for(var v=t.allow_utf8_local_part?f:d,P=E.split("."),y=0;y<P.length;y++)if(!v.test(P[y]))return!1;return!0};var n=l(r(0)),s=l(r(7)),a=l(r(55)),i=l(r(37)),o=l(r(22));function l(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var r,o,u,p,h,f,g,_;if(t=(0,i.default)(t,l),g=e.split("#"),e=g.shift(),g=e.split("?"),e=g.shift(),(g=e.split("://")).length>1){if(r=g.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(r))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;g[0]=e.substr(2)}}if(""===(e=g.join("://")))return!1;if(g=e.split("/"),""===(e=g.shift())&&!t.require_host)return!0;if((g=e.split("@")).length>1){if(t.disallow_auth)return!1;if((o=g.shift()).indexOf(":")>=0&&o.split(":").length>2)return!1}p=g.join("@"),f=null,_=null;var E=p.match(c);E?(u="",_=E[1],f=E[2]||null):(g=p.split(":"),u=g.shift(),g.length&&(f=g.join(":")));if(null!==f&&(h=parseInt(f,10),!/^[0-9]+$/.test(f)||h<=0||h>65535))return!1;if(!((0,a.default)(u)||(0,s.default)(u,t)||_&&(0,a.default)(_,6)))return!1;if(u=u||_,t.host_whitelist&&!d(u,t.host_whitelist))return!1;if(t.host_blacklist&&d(u,t.host_blacklist))return!1;return!0};var n=o(r(0)),s=o(r(37)),a=o(r(22)),i=o(r(7));function o(e){return e&&e.__esModule?e:{default:e}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||u(n)&&n.test(e))return!0}return!1}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t&&t.no_colons)return a.test(e);return s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,a=/^([0-9a-fA-F]){12}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.split("/");if(2!==t.length)return!1;if(!i.test(t[1]))return!1;if(t[1].length>1&&t[1].startsWith("0"))return!1;return(0,s.default)(t[0],4)&&t[1]<=32&&t[1]>=0};var n=a(r(0)),s=a(r(22));function a(e){return e&&e.__esModule?e:{default:e}}var i=/^\d{1,2}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),["true","false","1","0"].indexOf(e)>=0};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,n.default)(e),t in s.alpha)return s.alpha[t].test(e);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),s=r(23);var a=Object.keys(s.alpha);t.locales=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,n.default)(e),t in s.alphanumeric)return s.alphanumeric[t].test(e);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),s=r(23);var a=Object.keys(s.alphanumeric);t.locales=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t&&t.no_symbols)return a.test(e);return s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[+-]?([0-9]*[.])?[0-9]+$/,a=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e,{min:0,max:65535})};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(56));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),e===e.toLowerCase()};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),e===e.toUpperCase()};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.fullWidth.test(e)&&a.halfWidth.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),s=r(57),a=r(58);e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),t=t||{};var r=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?s.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||"-"===e||"+"===e)return!1;var a=parseFloat(e.replace(",","."));return r.test(e)&&(!t.hasOwnProperty("min")||a>=t.min)&&(!t.hasOwnProperty("max")||a<=t.max)&&(!t.hasOwnProperty("lt")||a<t.lt)&&(!t.hasOwnProperty("gt")||a>t.gt)},t.locales=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),s=r(23);var a=Object.keys(s.decimal);t.locales=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,s.default)(e),(t=(0,n.default)(t,l)).locale in i.decimal)return!(0,a.default)(c,e.replace(/ /g,""))&&function(e){return new RegExp("^[-+]?([0-9]+)?(\\".concat(i.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"))}(t).test(e);throw new Error("Invalid locale '".concat(t.locale,"'"))};var n=o(r(7)),s=o(r(0)),a=o(r(38)),i=r(23);function o(e){return e&&e.__esModule?e:{default:e}}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),(0,s.default)(e)%parseInt(t,10)==0};var n=a(r(0)),s=a(r(54));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),new RegExp("^[a-f0-9]{".concat(s[t],"}$")).test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);try{var t=JSON.parse(e);return!!t&&"object"===s(t)}catch(e){}return!1};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),0===((t=(0,s.default)(t,i)).ignore_whitespace?e.trim().length:e.length)};var n=a(r(0)),s=a(r(7));function a(e){return e&&e.__esModule?e:{default:e}}var i={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,a;(0,n.default)(e),"object"===s(t)?(r=t.min||0,a=t.max):(r=arguments[1],a=arguments[2]);var i=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],o=e.length-i.length;return o>=r&&(void 0===a||o<=a)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,n.default)(e);var r=s[t];return r&&r.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,s.default)(e)&&24===e.length};var n=a(r(0)),s=a(r(59));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,s.default)(t),a=(0,s.default)(e);return!!(a&&r&&a>r)};var n=a(r(0)),s=a(r(35));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,s.default)(t),a=(0,s.default)(e);return!!(a&&r&&a<r)};var n=a(r(0)),s=a(r(35));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;if((0,n.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var a=[];for(r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=(0,s.default)(t[r]));return a.indexOf(e)>=0}if("object"===i(t))return t.hasOwnProperty(e);if(t&&"function"==typeof t.indexOf)return t.indexOf(e)>=0;return!1};var n=a(r(0)),s=a(r(36));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.replace(/[- ]+/g,"");if(!s.test(t))return!1;for(var r,a,i,o=0,l=t.length-1;l>=0;l--)r=t.substring(l,l+1),a=parseInt(r,10),o+=i&&(a*=2)>=10?a%10+1:a,i=!i;return!(o%10!=0||!t)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if((0,n.default)(e),t in s)return s[t](e);if("any"===t){for(var r in s)if(s.hasOwnProperty(r)){var a=s[r];if(a(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s={ES:function(e){(0,n.default)(e);var t={X:0,Y:1,Z:2},r=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(r))return!1;var s=r.slice(0,-1).replace(/[X,Y,Z]/g,function(e){return t[e]});return r.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][s%23])}};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e),!s.test(e))return!1;for(var t,r,a=e.replace(/[A-Z]/g,function(e){return parseInt(e,36)}),i=0,o=!0,l=a.length-2;l>=0;l--)t=a.substring(l,l+1),r=parseInt(t,10),i+=o&&(r*=2)>=10?r+1:r,o=!o;return parseInt(e.substr(e.length-1),10)===(1e4-i)%10};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,n.default)(t);r=String(r);if(!r)return e(t,10)||e(t,13);var o=t.replace(/[\s-]+/g,"");var l=0;var c;if("10"===r){if(!s.test(o))return!1;for(c=0;c<9;c++)l+=(c+1)*o.charAt(c);if("X"===o.charAt(9)?l+=100:l+=10*o.charAt(9),l%11==0)return!!o}else if("13"===r){if(!a.test(o))return!1;for(c=0;c<12;c++)l+=i[c%2]*o.charAt(c);if(o.charAt(12)-(10-l%10)%10==0)return!!o}return!1};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^(?:[0-9]{9}X|[0-9]{10})$/,a=/^(?:[0-9]{13})$/,i=[1,3];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(e);var r=s;if(r=t.require_hyphen?r.replace("?",""):r,!(r=t.case_sensitive?new RegExp(r):new RegExp(r,"i")).test(e))return!1;for(var a=e.replace("-","").toUpperCase(),i=0,o=0;o<a.length;o++){var l=a[o];i+=("X"===l?10:+l)*(8-o)}return i%11==0};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if((0,n.default)(e),r&&r.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some(function(t){if(s.hasOwnProperty(t)){var r=s[t];if(r.test(e))return!0}return!1});if(t in s)return s[t].test(e);if(!t||"any"===t){for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];if(i.test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[012]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/\+?(88)?0?1[356789][0-9]{8}\b/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)?[7]\d{8}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};s["en-CA"]=s["en-US"],s["fr-BE"]=s["nl-BE"],s["zh-HK"]=s["en-HK"];var a=Object.keys(s);t.locales=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,s.default)(e),function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach(function(e,r){0!==r&&(t="".concat(t,"|\\d{").concat(e,"}"))});var r="(\\".concat(e.symbol.replace(/\./g,"\\."),")").concat(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),s="(".concat(["0","[1-9]\\d*",n].join("|"),")?"),a="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),i=s+(e.allow_decimal||e.require_decimal?a:"");return e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?i+="-?":e.negative_sign_before_digits&&(i="-?"+i)),e.allow_negative_sign_placeholder?i="( (?!\\-))?".concat(i):e.allow_space_after_symbol?i=" ?".concat(i):e.allow_space_after_digits&&(i+="( (?!$))?"),e.symbol_after_digits?i+=r:i=r+i,e.allow_negatives&&(e.parens_for_negatives?i="(\\(".concat(i,"\\)|").concat(i,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(i="-?"+i)),new RegExp("^(?!-? )(?=.*\\d)".concat(i,"$"))}(t=(0,n.default)(t,i)).test(e)};var n=a(r(7)),s=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}var i={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);var r=s.test(e);return t&&r&&t.strict?a(e):r};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var r=Number(t[1]),n=Number(t[2]);return r%4==0&&r%100!=0?n<=366:n<=365}var s=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),a=s[1],i=s[2],o=s[3],l=i?"0".concat(i).slice(-2):i,c=o?"0".concat(o).slice(-2):o,u=new Date("".concat(a,"-").concat(l||"01","-").concat(c||"01"));return!isNaN(u.getUTCFullYear())&&(!i||!o||u.getUTCFullYear()===a&&u.getUTCMonth()+1===i&&u.getUTCDate()===o)};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),d.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/([01][0-9]|2[0-3])/,a=/[0-5][0-9]/,i=new RegExp("[-+]".concat(s.source,":").concat(a.source)),o=new RegExp("([zZ]|".concat(i.source,")")),l=new RegExp("".concat(s.source,":").concat(a.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),c=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),u=new RegExp("".concat(l.source).concat(o.source)),d=new RegExp("".concat(c.source,"[ tT]").concat(u.source));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,s.default)(i,e.toUpperCase())};var n=a(r(0)),s=a(r(38));function a(e){return e&&e.__esModule?e:{default:e}}var i=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,s.default)(i,e.toUpperCase())};var n=a(r(0)),s=a(r(38));function a(e){return e&&e.__esModule?e:{default:e}}var i=["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"];e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.length;if(!t||t%4!=0||s.test(e))return!1;var r=e.indexOf("=");return-1===r||r===t-1||r===t-2&&"="===e[t-1]};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/[^A-Z0-9+\/=]/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.split(",");if(t.length<2)return!1;var r=t.shift().trim().split(";"),o=r.shift();if("data:"!==o.substr(0,5))return!1;var l=o.substr(5);if(""!==l&&!s.test(l))return!1;for(var c=0;c<r.length;c++)if(c===r.length-1&&"base64"===r[c].toLowerCase());else if(!a.test(r[c]))return!1;for(var u=0;u<t.length;u++)if(!i.test(t[u]))return!1;return!0};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^[a-z]+\/[a-z0-9\-\+]+$/i,a=/^[a-z\-]+=[a-z0-9\-]+$/i,i=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e.trim())};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),s.test(e)||a.test(e)||i.test(e)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,i=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e),!e.includes(","))return!1;var t=e.split(",");return s.test(t[0])&&a.test(t[1])};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,a=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/;e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t in o)return o[t].test(e);if("any"===t){for(var r in o)if(o.hasOwnProperty(r)){var s=o[r];if(s.test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));var s=/^\d{4}$/,a=/^\d{5}$/,i=/^\d{6}$/,o={AD:/^AD\d{3}$/,AT:s,AU:s,BE:s,BG:s,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:s,CZ:/^\d{3}\s?\d{2}$/,DE:a,DK:s,DZ:a,EE:a,ES:a,FI:a,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:s,IL:a,IN:i,IS:/^\d{3}$/,IT:a,JP:/^\d{3}\-\d{4}$/,KE:a,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:s,LV:/^LV\-\d{4}$/,MX:a,NL:/^\d{4}\s?[a-z]{2}$/i,NO:s,PL:/^\d{2}\-\d{3}$/,PT:/^\d{4}\-\d{3}?$/,RO:i,RU:i,SA:a,SE:/^\d{3}\s?\d{2}$/,SI:s,SK:/^\d{3}\s?\d{2}$/,TN:s,TW:/^\d{3}(\d{2})?$/,UA:a,US:/^\d{5}(-\d{4})?$/,ZA:s,ZM:a},l=Object.keys(o);t.locales=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)((0,s.default)(e,t),t)};var n=a(r(61)),s=a(r(60));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);var r=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,s.default)(e,r)};var n=a(r(0)),s=a(r(62));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),e.replace(new RegExp("[^".concat(t,"]+"),"g"),"")};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);for(var r=e.length-1;r>=0;r--)if(-1===t.indexOf(e[r]))return!1;return!0};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,n.default)(t,s);var r=e.split("@"),u=r.pop(),d=[r.join("@"),u];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,c)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(a.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(i.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(o.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var p=d[0].split("-");d[0]=p.length>1?p.slice(0,-1).join("-"):p[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else l.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(7));var s={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],i=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],o=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],l=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function c(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},function(e,t,r){(function(e,r){var n=200,s="__lodash_hash_undefined__",a=1,i=2,o=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",_="[object Map]",E="[object Number]",S="[object Null]",m="[object Object]",C="[object Proxy]",b="[object RegExp]",A="[object Set]",v="[object String]",P="[object Symbol]",y="[object Undefined]",T="[object ArrayBuffer]",I="[object DataView]",R=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[l]=N[c]=N[T]=N[d]=N[I]=N[p]=N[h]=N[f]=N[_]=N[E]=N[m]=N[b]=N[A]=N[v]=N["[object WeakMap]"]=!1;var L="object"==typeof e&&e&&e.Object===Object&&e,B="object"==typeof self&&self&&self.Object===Object&&self,x=L||B||Function("return this")(),D="object"==typeof t&&t&&!t.nodeType&&t,M=D&&"object"==typeof r&&r&&!r.nodeType&&r,w=M&&M.exports===D,k=w&&L.process,U=function(){try{return k&&k.binding&&k.binding("util")}catch(e){}}(),F=U&&U.isTypedArray;function j(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function V(e,t){return e.has(t)}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function X(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var $=Array.prototype,H=Function.prototype,W=Object.prototype,Y=x["__core-js_shared__"],K=H.toString,q=W.hasOwnProperty,J=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),z=W.toString,Z=RegExp("^"+K.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=w?x.Buffer:void 0,ee=x.Symbol,te=x.Uint8Array,re=W.propertyIsEnumerable,ne=$.splice,se=ee?ee.toStringTag:void 0,ae=Object.getOwnPropertySymbols,ie=Q?Q.isBuffer:void 0,oe=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),le=we(x,"DataView"),ce=we(x,"Map"),ue=we(x,"Promise"),de=we(x,"Set"),pe=we(x,"WeakMap"),he=we(Object,"create"),fe=je(le),ge=je(ce),_e=je(ue),Ee=je(de),Se=je(pe),me=ee?ee.prototype:void 0,Ce=me?me.valueOf:void 0;function be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ae(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ve;++t<r;)this.add(e[t])}function ye(e){var t=this.__data__=new Ae(e);this.size=t.size}function Te(e,t){var r=Xe(e),n=!r&&Ge(e),s=!r&&!n&&$e(e),a=!r&&!n&&!s&&qe(e),i=r||n||s||a,o=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=o.length;for(var c in e)!t&&!q.call(e,c)||i&&("length"==c||s&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Fe(c,l))||o.push(c);return o}function Ie(e,t){for(var r=e.length;r--;)if(Ve(e[r][0],t))return r;return-1}function Re(e){return null==e?void 0===e?y:S:se&&se in Object(e)?function(e){var t=q.call(e,se),r=e[se];try{e[se]=void 0;var n=!0}catch(e){}var s=z.call(e);n&&(t?e[se]=r:delete e[se]);return s}(e):function(e){return z.call(e)}(e)}function Oe(e){return Ke(e)&&Re(e)==l}function Ne(e,t,r,n,s){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!=e&&t!=t:function(e,t,r,n,s,o){var u=Xe(e),f=Xe(t),g=u?c:Ue(e),S=f?c:Ue(t),C=(g=g==l?m:g)==m,y=(S=S==l?m:S)==m,R=g==S;if(R&&$e(e)){if(!$e(t))return!1;u=!0,C=!1}if(R&&!C)return o||(o=new ye),u||qe(e)?xe(e,t,r,n,s,o):function(e,t,r,n,s,o,l){switch(r){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!o(new te(e),new te(t)));case d:case p:case E:return Ve(+e,+t);case h:return e.name==t.name&&e.message==t.message;case b:case v:return e==t+"";case _:var c=G;case A:var u=n&a;if(c||(c=X),e.size!=t.size&&!u)return!1;var f=l.get(e);if(f)return f==t;n|=i,l.set(e,t);var g=xe(c(e),c(t),n,s,o,l);return l.delete(e),g;case P:if(Ce)return Ce.call(e)==Ce.call(t)}return!1}(e,t,g,r,n,s,o);if(!(r&a)){var O=C&&q.call(e,"__wrapped__"),N=y&&q.call(t,"__wrapped__");if(O||N){var L=O?e.value():e,B=N?t.value():t;return o||(o=new ye),s(L,B,r,n,o)}}if(!R)return!1;return o||(o=new ye),function(e,t,r,n,s,i){var o=r&a,l=De(e),c=l.length,u=De(t).length;if(c!=u&&!o)return!1;for(var d=c;d--;){var p=l[d];if(!(o?p in t:q.call(t,p)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var f=!0;i.set(e,t),i.set(t,e);for(var g=o;++d<c;){p=l[d];var _=e[p],E=t[p];if(n)var S=o?n(E,_,p,t,e,i):n(_,E,p,e,t,i);if(!(void 0===S?_===E||s(_,E,r,n,i):S)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var m=e.constructor,C=t.constructor;m!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof C&&C instanceof C)&&(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,s,o)}(e,t,r,n,Ne,s))}function Le(e){return!(!Ye(e)||function(e){return!!J&&J in e}(e))&&(He(e)?Z:R).test(je(e))}function Be(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||W;return e===r}(e))return oe(e);var t=[];for(var r in Object(e))q.call(e,r)&&"constructor"!=r&&t.push(r);return t}function xe(e,t,r,n,s,o){var l=r&a,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var p=-1,h=!0,f=r&i?new Pe:void 0;for(o.set(e,t),o.set(t,e);++p<c;){var g=e[p],_=t[p];if(n)var E=l?n(_,g,p,t,e,o):n(g,_,p,e,t,o);if(void 0!==E){if(E)continue;h=!1;break}if(f){if(!j(t,function(e,t){if(!V(f,t)&&(g===e||s(g,e,r,n,o)))return f.push(t)})){h=!1;break}}else if(g!==_&&!s(g,_,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function De(e){return function(e,t,r){var n=t(e);return Xe(e)?n:function(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}(n,r(e))}(e,Je,ke)}function Me(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function we(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Le(r)?r:void 0}be.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},be.prototype.get=function(e){var t=this.__data__;if(he){var r=t[e];return r===s?void 0:r}return q.call(t,e)?t[e]:void 0},be.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:q.call(t,e)},be.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=he&&void 0===t?s:t,this},Ae.prototype.clear=function(){this.__data__=[],this.size=0},Ae.prototype.delete=function(e){var t=this.__data__,r=Ie(t,e);return!(r<0||(r==t.length-1?t.pop():ne.call(t,r,1),--this.size,0))},Ae.prototype.get=function(e){var t=this.__data__,r=Ie(t,e);return r<0?void 0:t[r][1]},Ae.prototype.has=function(e){return Ie(this.__data__,e)>-1},Ae.prototype.set=function(e,t){var r=this.__data__,n=Ie(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(ce||Ae),string:new be}},ve.prototype.delete=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Me(this,e).get(e)},ve.prototype.has=function(e){return Me(this,e).has(e)},ve.prototype.set=function(e,t){var r=Me(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Pe.prototype.add=Pe.prototype.push=function(e){return this.__data__.set(e,s),this},Pe.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.clear=function(){this.__data__=new Ae,this.size=0},ye.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ye.prototype.get=function(e){return this.__data__.get(e)},ye.prototype.has=function(e){return this.__data__.has(e)},ye.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ae){var s=r.__data__;if(!ce||s.length<n-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new ve(s)}return r.set(e,t),this.size=r.size,this};var ke=ae?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}(ae(e),function(t){return re.call(e,t)}))}:function(){return[]},Ue=Re;function Fe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function je(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(le&&Ue(new le(new ArrayBuffer(1)))!=I||ce&&Ue(new ce)!=_||ue&&"[object Promise]"!=Ue(ue.resolve())||de&&Ue(new de)!=A||pe&&"[object WeakMap]"!=Ue(new pe))&&(Ue=function(e){var t=Re(e),r=t==m?e.constructor:void 0,n=r?je(r):"";if(n)switch(n){case fe:return I;case ge:return _;case _e:return"[object Promise]";case Ee:return A;case Se:return"[object WeakMap]"}return t});var Ge=Oe(function(){return arguments}())?Oe:function(e){return Ke(e)&&q.call(e,"callee")&&!re.call(e,"callee")},Xe=Array.isArray;var $e=ie||function(){return!1};function He(e){if(!Ye(e))return!1;var t=Re(e);return t==f||t==g||t==u||t==C}function We(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var qe=F?function(e){return function(t){return e(t)}}(F):function(e){return Ke(e)&&We(e.length)&&!!N[Re(e)]};function Je(e){return function(e){return null!=e&&We(e.length)&&!He(e)}(e)?Te(e):Be(e)}r.exports=function(e,t){return Ne(e,t)}}).call(this,r(24),r(158)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e){e.exports={$schema:"http://json-schema.org/draft-04/hyper-schema#",id:"http://json-schema.org/draft-04/hyper-schema#",title:"JSON Hyper-Schema",allOf:[{$ref:"http://json-schema.org/draft-04/schema#"}],properties:{additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}]},dependencies:{additionalProperties:{anyOf:[{$ref:"#"},{type:"array"}]}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}]},definitions:{additionalProperties:{$ref:"#"}},patternProperties:{additionalProperties:{$ref:"#"}},properties:{additionalProperties:{$ref:"#"}},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},links:{type:"array",items:{$ref:"#/definitions/linkDescription"}},fragmentResolution:{type:"string"},media:{type:"object",properties:{type:{description:"A media type, as described in RFC 2046",type:"string"},binaryEncoding:{description:"A content encoding scheme, as described in RFC 2045",type:"string"}}},pathStart:{description:"Instances' URIs must start with this value for this schema to apply to them",type:"string",format:"uri"}},definitions:{schemaArray:{type:"array",items:{$ref:"#"}},linkDescription:{title:"Link Description Object",type:"object",required:["href","rel"],properties:{href:{description:"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing",type:"string"},rel:{description:"relation to the target resource of the link",type:"string"},title:{description:"a title for the link",type:"string"},targetSchema:{description:"JSON Schema describing the link target",$ref:"#"},mediaType:{description:"media type (as defined by RFC 2046) describing the link target",type:"string"},method:{description:'method for requesting the target of the link (e.g. for HTTP this might be "GET" or "DELETE")',type:"string"},encType:{description:"The media type in which to submit data along with the request",type:"string",default:"application/json"},schema:{description:"Schema describing the data to submit along with the request",$ref:"#"}}}}}},function(e){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e){e.exports={id:"http://igt.com/activateDiagnostics/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for activateDiagnostics",type:"object",properties:{cmd:{type:"string",pattern:"^activateDiagnostics$"},ver:{type:"string"},activateDiagnostics:{type:"object",properties:{pin:{type:"string"}},required:["pin"]}},required:["cmd","activateDiagnostics"]}},function(e){e.exports={id:"http://igt.com/buttonPress/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for buttonPress",type:"object",properties:{cmd:{type:"string",pattern:"^buttonPress$"},ver:{type:"string"},buttonPress:{enum:["KEYPRESS_0","KEYPRESS_1","KEYPRESS_2","KEYPRESS_3","KEYPRESS_4","KEYPRESS_5","KEYPRESS_6","KEYPRESS_7","KEYPRESS_8","KEYPRESS_9","KEYPRESS_E","MENU","ENTER","BONUSBUTTON","OK","NO","TOUCHSCREEN"]}},required:["cmd","buttonPress"]}},function(e){e.exports={id:"http://igt.com/hostEventButtonPress/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for hostEventButtonPress",type:"object",properties:{cmd:{type:"string",pattern:"^hostEventButtonPress$"},ver:{type:"string"},hostEventButtonPress:{type:"object",properties:{hostEventId:{type:"integer",minimum:0,maximum:99},subEventId:{type:"integer",minimum:-2147483648,maximum:2147483647},onlineOnly:{type:"boolean"},bonusId:{type:"integer",minimum:0,maximum:65535}},required:["hostEventId","subEventId","onlineOnly","bonusId"]}},required:["cmd","hostEventButtonPress"]}},function(e){e.exports={id:"http://igt.com/screenTrigger/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for screenTrigger",type:"object",properties:{cmd:{type:"string",pattern:"^screenTrigger$"},ver:{type:"string"},screenTrigger:{type:"object",properties:{screenId:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"},displayMessage:{type:"string",minLength:0,maxLength:240}},required:["screenId","displayMessage"]}},required:["cmd","screenTrigger"]}},function(e){e.exports={id:"http://igt.com/subscription/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for subscription",type:"object",properties:{cmd:{type:"string",pattern:"^subscription$"},ver:{type:"string"},subscription:{type:"object",properties:{vpcPlayerData:{type:"boolean"},statusUpdate:{type:"boolean"},levelUpdate:{type:"boolean"},bonusHit:{type:"boolean"},gameStart:{type:"boolean"},gameEnd:{type:"boolean"},patronData:{type:"boolean"},disableAutoHide:{type:"boolean"},windowState:{type:"boolean"},mediaDisplayIndex:{type:"integer",minimum:0},tokenUpdate:{type:"array",items:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"}},screenTrigger:{type:"array",items:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"}},gameEvent:{type:"array",items:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"}},languageUpdate:{type:"boolean"},userTokenUpdate:{type:"array",items:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"}}}}},required:["cmd","subscription"]}},function(e){e.exports={id:"http://igt.com/subscriptionAck/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for subscriptionAck",type:"object",properties:{cmd:{type:"string",pattern:"^subscriptionAck$"},ver:{type:"string"}},required:["cmd"]}},function(e){e.exports={id:"http://igt.com/tokenUpdate/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for tokenUpdate",type:"object",properties:{cmd:{type:"string",pattern:"^tokenUpdate$"},ver:{type:"string"},tokenUpdate:{type:"array",minItems:0,uniqueItems:!0,items:{type:"object",properties:{id:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"},value:{type:"string",minLength:0,maxLength:40}},required:["id","value"]}}},required:["cmd","tokenUpdate"]}},function(e){e.exports={id:"http://igt.com/be2BasicFunction/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for be2BasicFunction",type:"object",properties:{cmd:{type:"string",pattern:"^be2BasicFunction$"},ver:{type:"string"},be2BasicFunction:{type:"array",minItems:1,maxItems:10,items:{type:"object",properties:{functionCode:{type:"integer",minimum:0,maximum:255},arguments:{type:"array",minItems:4,maxItems:4,items:{type:"integer"}}},required:["functionCode","arguments"]}}},required:["cmd","be2BasicFunction"]}},function(e){e.exports={id:"http://igt.com/be2BasicResponse/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for be2BasicResponse",type:"object",properties:{cmd:{type:"string",pattern:"^be2BasicResponse$"},ver:{type:"string"},be2BasicResponse:{type:"array",minItems:1,maxItems:10,items:{type:"object",properties:{functionCode:{type:"integer",minimum:0,maximum:255},retvals:{type:"array",minItems:4,maxItems:4,items:{type:"integer"}}},required:["functionCode","retvals"]}}},required:["cmd","be2BasicResponse"]}},function(e){e.exports={id:"http://igt.com/bonusHit/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for bonusHit",type:"object",properties:{cmd:{type:"string",pattern:"^bonusHit$"},ver:{type:"string"},bonusHit:{type:"object",properties:{isBe2Based:{type:"boolean"},bonusId:{type:"integer",minimum:0},hitNumber:{type:"integer",minimum:0},winAmount:{type:"integer",minimum:0},payTo:{type:"integer",minimum:0},winner:{type:"boolean"},nonCash:{type:"boolean"}},required:["isBe2Based","bonusId","hitNumber","winAmount","payTo","winner","nonCash"]}},required:["cmd","bonusHit"]}},function(e){e.exports={id:"http://igt.com/drawStatus/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for drawStatus",type:"object",properties:{cmd:{type:"string",pattern:"^drawStatus$"},ver:{type:"string"},drawStatus:{type:"object",properties:{bonusId:{type:"integer"},drawTime:{type:"integer"},drawStatus:{type:"integer",enum:[0,1,2,3,4,5,6]}},required:["bonusId","drawTime","drawStatus"]}},required:["cmd","drawStatus"]}},function(e){e.exports={id:"http://igt.com/fullscreenState/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for fullscreenState",type:"object",properties:{cmd:{type:"string",pattern:"^fullscreenState$"},ver:{type:"string"},fullscreenState:{type:"boolean"}},required:["cmd","fullscreenState"]}},function(e){e.exports={id:"http://igt.com/gameEnd/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for gameEnd",type:"object",properties:{cmd:{type:"string",pattern:"^gameEnd$"},ver:{type:"string"},gameEnd:{type:"object",properties:{winAmount:{type:"integer"}},required:["winAmount"]}},required:["cmd","gameEnd"]}},function(e){e.exports={id:"http://igt.com/gameEvent/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for gameEvent",type:"object",properties:{cmd:{type:"string",pattern:"^gameEvent$"},ver:{type:"string"},gameEvent:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"}},required:["cmd","gameEvent"]}},function(e){e.exports={id:"http://igt.com/gameStart/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for gameStart",type:"object",properties:{cmd:{type:"string",pattern:"^gameStart$"},ver:{type:"string"},gameStart:{type:"object",properties:{wagerCredits:{type:"integer"},isMaxBet:{type:"boolean"},wagerDenom:{type:"integer"},wagerAmount:{type:"integer"}},required:["wagerCredits","isMaxBet","wagerDenom","wagerAmount"]}},required:["cmd","gameStart"]}},function(e){e.exports={id:"http://igt.com/getServerAddresses/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for getServerAddresses",type:"object",properties:{cmd:{type:"string",pattern:"^getServerAddresses$"},ver:{type:"string"},getServerAddresses:{type:"array",minItems:1,maxItems:16,uniqueItems:!0,items:{type:"string"}}},required:["cmd","getServerAddresses"]}},function(e){e.exports={id:"http://igt.com/ismUpdate/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for ismUpdate",type:"object",properties:{cmd:{type:"string",pattern:"^ismUpdate$"},ver:{type:"string"},ismUpdate:{type:"object",properties:{triggerEnables:{type:"integer"},totalPointsTrigger:{type:"integer"},sessionPointsTrigger:{type:"integer"},sessionCoinInTrigger:{type:"integer"},sessionCoinOutTrigger:{type:"integer"},sessionGamesPlayedTrigger:{type:"integer"},denomTrigger:{type:"integer"},paytableTrigger:{type:"object",properties:{gameId:{type:"string"},additionalId:{type:"string"},paytableId:{type:"string"},basePercentage:{type:"string"}},required:["gameId","additionalId","paytableId","basePercentage"]},sessionLossTrigger:{type:"integer"},totalPointsValue:{type:"integer"},sessionPointsValue:{type:"integer"},sessionCoinInValue:{type:"integer"},sessionCoinOutValue:{type:"integer"},sessionGamesPlayedValue:{type:"integer"},denomValue:{type:"integer"},paytableValue:{type:"object",properties:{gameId:{type:"string"},additionalId:{type:"string"},paytableId:{type:"string"},basePercentage:{type:"string"}},required:["gameId","additionalId","paytableId","basePercentage"]},sessionLossValue:{type:"integer"}},required:["triggerEnables","totalPointsTrigger","sessionPointsTrigger","sessionCoinInTrigger","sessionCoinOutTrigger","sessionGamesPlayedTrigger","denomTrigger","paytableTrigger","sessionLossTrigger","totalPointsValue","sessionPointsValue","sessionCoinInValue","sessionCoinOutValue","sessionGamesPlayedValue","denomValue","paytableValue","sessionLossValue"]}},required:["cmd","ismUpdate"]}},function(e){e.exports={id:"http://igt.com/levelUpdate/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for levelUpdate",type:"object",properties:{cmd:{type:"string",pattern:"^levelUpdate$"},ver:{type:"string"},levelUpdate:{type:"array",minItems:0,maxItems:32,items:{type:"object",properties:{bonusId:{type:"integer"},balance:{type:"integer"},isBbPGBonus:{type:"boolean"},BbPGBonusMeter:{type:"integer"},levelName:{type:"string"}},required:["bonusId","balance","isBbPGBonus","BbPGBonusMeter","levelName"]}}},required:["cmd","levelUpdate"]}},function(e){e.exports={id:"http://igt.com/patronData/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for patronData",type:"object",properties:{cmd:{type:"string",pattern:"^patronData$"},ver:{type:"string"},patronData:{type:"object",properties:{xcAwardBalance:{type:"integer"},rpPointBalance:{type:"integer"},rpEarnedDay:{type:"integer"},ppTotalWon:{type:"integer"},ptpSPUsed:{type:"integer"},ptpBalance:{type:"integer"},awardEnable:{type:"object",properties:{ptpEnable:{type:"boolean"},rpEnable:{type:"boolean"},ppEnable:{type:"boolean"},xcEnable:{type:"boolean"},notUsed4:{type:"boolean"},srpEnable:{type:"boolean"},hidePoints:{type:"boolean"},notUsed7:{type:"boolean"}},required:["ptpEnable","rpEnable","ppEnable","xcEnable","srpEnable","hidePoints"]},BE2_AwardEnable:{type:"object",properties:{ptpEnable:{type:"boolean"},rpEnable:{type:"boolean"},ppEnable:{type:"boolean"},xcEnable:{type:"boolean"},xcViaAFT:{type:"boolean"},srpEnable:{type:"boolean"},notUsed6:{type:"boolean"},notUsed7:{type:"boolean"}},required:["ptpEnable","rpEnable","ppEnable","xcEnable","xcViaAFT","srpEnable"]},generalPTData:{type:"object",properties:{countUp:{type:"boolean"},vipLightOn:{type:"boolean"},zeroUnused:{type:"boolean"},PINLocked:{type:"boolean"},notUsed:{type:"boolean"},dupCard:{type:"boolean"},banned:{type:"boolean"},comboChange:{type:"boolean"}},required:["countUp","vipLightOn","zeroUnused","PINLocked","dupCard","banned","comboChange"]},srpPointBalance:{type:"integer"},srpLevel:{type:"integer"},xpcAward:{type:"integer"},ranking:{type:"integer"},languageId:{type:"integer"}},required:["xcAwardBalance","rpPointBalance","rpEarnedDay","ppTotalWon","ptpSPUsed","ptpBalance","awardEnable","BE2_AwardEnable","generalPTData","srpPointBalance","srpLevel","xpcAward","ranking","languageId"]}},required:["cmd","patronData"]}},function(e){e.exports={id:"http://igt.com/patronDataExt/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for patronDataExt",type:"object",properties:{cmd:{type:"string",pattern:"^patronDataExt$"},ver:{type:"string"},patronDataExt:{type:"object",properties:{sequenceId:{type:"integer"},playerRank:{type:"string"},playerRankIndex:{type:"integer"}},required:["sequenceId","playerRank","playerRankIndex"]}},required:["cmd","patronDataExt"]}},function(e){e.exports={id:"http://igt.com/serverAddresses/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for serverAddresses",type:"object",properties:{cmd:{type:"string",pattern:"^serverAddresses$"},ver:{type:"string"},serverAddresses:{type:"array",minItems:1,maxItems:16,items:{type:"object"}}},required:["cmd","serverAddresses"]}},function(e){e.exports={id:"http://igt.com/showWindow/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for showWindow",type:"object",properties:{cmd:{type:"string",pattern:"^showWindow$"},ver:{type:"string"},showWindow:{type:"boolean"}},required:["cmd","showWindow"]}},function(e){e.exports={id:"http://igt.com/statusUpdate/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for statusUpdate",type:"object",properties:{cmd:{type:"string",pattern:"^statusUpdate$"},ver:{type:"string"},statusUpdate:{type:"object",properties:{meterDenom:{type:"integer",minimum:0},tokenDenom:{type:"integer",minimum:0},gameId:{type:"string",minLength:0,maxLength:2},gameOtherId:{type:"string",minLength:0,maxLength:3},paytableId:{type:"string",minLength:0,maxLength:6},displayLimits:{type:"object",properties:{coinInRunaway:{type:"integer"},coinOutRunaway:{type:"integer"},jackpot:{type:"integer"},bonus:{type:"integer"},xtraCredit:{type:"integer"},points:{type:"integer"},comp:{type:"integer"},witness:{type:"integer"},pouchPay:{type:"integer"}},required:["coinInRunaway","coinOutRunaway","jackpot","bonus","xtraCredit","points","comp","witness","pouchPay"]}},required:["meterDenom","tokenDenom","gameId","gameOtherId","paytableId","displayLimits"]}},required:["cmd","statusUpdate"]}},function(e){e.exports={id:"http://igt.com/statusMap/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for statusmap",type:"object",properties:{pointPlay:{type:"object",properties:{init:{type:"object",properties:{0:{type:"string",examples:["Point Play available."]},1:{type:"string",examples:["Point Play not available: Bonusing not available on this machine."]},2:{type:"string",examples:["Point Play not available: PIN Locked."]},3:{type:"string",examples:["Point Play not available:  see players club."]},4:{type:"string",examples:["Point Play not available: Point balance too low to convert."]},5:{type:"string",examples:["Point Play not available: Conversion to Xtra Credit not available, see players club."]},6:{type:"string",examples:["Point Play not available: Conversion to Xtra Credit not available on this machine."]},7:{type:"string",examples:["Point Play not available: PIN validation failed."]},8:{type:"string",examples:["Point Play not converted. Amount not compatible with this denomination."]}},required:["0","1","2","3","4","5","6","7","8"]},convert:{type:"object",properties:{0:{type:"string",examples:["Point Play converted."]},1:{type:"string",examples:["Point Play not available: Bonusing not available on this machine."]},2:{type:"string",examples:["Point Play not available: PIN Locked."]}},required:["0","1","2"]}},required:["init","convert"]},xtraCredit:{type:"object",properties:{activate:{type:"object",properties:{0:{type:"string",examples:["Xtra Credit active."]},1:{type:"string",examples:["Xtra Credit active; not cancelable."]},2:{type:"string",examples:["Xtra Credit already active."]},3:{type:"string",examples:["Xtra Credit balance is too low to activate."]},4:{type:"string",examples:["Xtra Credit not active; not available on this device."]},5:{type:"string",examples:["Xtra Credit not active; see players club."]},6:{type:"string",examples:["Xtra Credit not active; duplicate card."]},7:{type:"string",examples:["Xtra Credit not active; abandoned card."]},8:{type:"string",examples:["Xtra Credit not active; PIN is locked."]},9:{type:"string",examples:["Xtra Credit not active; Bonusing not available on this machine."]},10:{type:"string",examples:["Xtra Credit not active; PIN validation failed."]},11:{type:"string",examples:["Xtra Credit not active; Input amount is invalid."]},12:{type:"string",examples:["Xtra Credit not active; Input amount is over limit."]},13:{type:"string",examples:["Xtra Credit not active; Input amount is less than machine denom."]},14:{type:"string",examples:["Xtra Credit not active; Last request still in progress."]},15:{type:"string",examples:["Xtra Credit not active; see players club."]},16:{type:"string",examples:["Xtra Credit not active; see players club."]},17:{type:"string",examples:["Xtra Credit not active; see players club."]}},required:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"]},cancel:{type:"object",properties:{0:{type:"string",examples:["Xtra Credit canceled."]},1:{type:"string",examples:["Xtra Credit not cancellable."]},2:{type:"string",examples:["Cancel Xtra Credit after game cycle completes."]}},required:["0","1","2"]}},required:["activate","cancel"]},pin:{type:"object",properties:{validate:{type:"object",properties:{0:{type:"string",examples:["waiting"]},1:{type:"string",examples:["valid"]},2:{type:"string",examples:["invalid PIN"]},3:{type:"string",examples:["PIN locked"]},4:{type:"string",examples:["no-response; try again"]},5:{type:"string",examples:["PIN Cancel"]}},required:["0","1","2","3","4","5"]}},required:["validate"]},cashless:{type:"object",properties:{transfer:{type:"object",properties:{0:{type:"string",examples:["Transfer successful."]},1:{type:"string",examples:["Transfer aborted."]},2:{type:"string",examples:["Transfer failed."]},3:{type:"string",examples:["Transfer started but ultimately aborted."]},4:{type:"string",examples:["Transfer started but ultimately failed."]},5:{$id:"/properties/cashless/properties/transfer/properties/5",type:"string",title:"The 5 Schema ",default:"",examples:["Transfer failed for an unknown reason."]},6:{type:"string",examples:["Transfer operation timed out."]},7:{type:"string",examples:["Transfer successful; SmartCard successfully unlocked."]},8:{type:"string",examples:["Transfer successful; SmartCard unlock failed due to credits on the machine."]},9:{type:"string",examples:["Transfer successful, SmartCard unlock failed due to a game in progress."]}},required:["0","1","2","3","4","5","6","7","8","9"]}},required:["transfer"]}},required:["pointPlay","xtraCredit","pin","cashless"]}},function(e){e.exports={id:"http://igt.com/urlMap/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for urlmap",type:"object",properties:{indexUrl:{type:"string",format:"uri"},baseUrl:{type:"string",format:"uri"},bannerUrl:{type:"string",format:"uri"},pinContentUrl:{type:"string",format:"uri"},screenIdMap:{type:"object"},ciHost:{type:"string",format:"uri"},loggerUrl:{type:"string",format:"uri"},logLevel:{type:"string",enum:["HEARTBEAT","DEBUG","INFO","WARN","ERROR"]},subscribeAllTriggers:{type:"boolean"},legacyIdList:{type:"array",items:{type:"string"}},securityServiceEndpoint:{type:"string",format:"uri"},webWorkers:{type:"array",items:{type:"string",format:"uri"}}},required:["indexUrl","bannerUrl","pinContentUrl","screenIdMap","loggerUrl"]}},function(e){e.exports={id:"http://igt.com/windowState/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for windowState",type:"object",properties:{cmd:{type:"string",pattern:"^windowState$"},ver:{type:"string"},windowState:{type:"boolean"}},required:["cmd","windowState"]}},function(e){e.exports={id:"http://igt.com/cardlessStatus/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for cardlessStatus",type:"object",properties:{cmd:{type:"string",pattern:"^cardlessStatus$"},ver:{type:"string"},cardlessStatus:{type:"object",properties:{interface:{type:"string"},status:{type:"string"},version:{type:"integer"},mobile:{type:"boolean"},app_label:{type:"string"},disconnectReason:{type:"integer"}},required:["interface","status"]}},required:["cmd","cardlessStatus"]}},function(e){e.exports={id:"http://igt.com/forceCardOut/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for forceCardOut",type:"object",properties:{cmd:{type:"string",pattern:"^forceCardOut$"},ver:{type:"string"}},required:["cmd"]}},function(e){e.exports={id:"http://igt.com/forceCardOutAck/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for forceCardOutAck",type:"object",properties:{cmd:{type:"string",pattern:"^forceCardOutAck$"},ver:{type:"string"},forceCardOutAck:{type:"boolean"}},required:["cmd","forceCardOutAck"]}},function(e){e.exports={id:"http://igt.com/getqrcode/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for getQRcode",type:"object",properties:{cmd:{type:"string",pattern:"^getQRcode$"},ver:{type:"string"}},required:["cmd"]}},function(e){e.exports={id:"http://igt.com/qrcode/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for qrCode",type:"object",properties:{cmd:{type:"string",pattern:"^qrCode$"},ver:{type:"string"},qrCode:{type:"object",properties:{qrCode:{type:"string"},duration:{type:"integer"}},required:["qrCode"]}},required:["cmd","qrCode"]}},function(e){e.exports={id:"http://igt.com/vpcButtonPress/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for vpcButtonPress",type:"object",properties:{cmd:{type:"string",pattern:"^vpcButtonPress$"},ver:{type:"string"},vpcButtonPress:{enum:["VPC_KEYPRESS_S","VPC_KEYPRESS_C","VPC_KEYPRESS_L","VPC_KEYPRESS_A"]}},required:["cmd","vpcButtonPress"]}},function(e){e.exports={id:"http://igt.com/vpcGetPlayerData/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for vpcGetPlayerData",type:"object",properties:{cmd:{type:"string",pattern:"^vpcGetPlayerData$"},ver:{type:"string"}},required:["cmd"]}},function(e){e.exports={id:"http://igt.com/vpcPIN/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for vpcPIN",type:"object",properties:{cmd:{type:"string",pattern:"^vpcPIN$"},ver:{type:"string"},pin:{type:"string",pattern:"^[0-9]{1,16}$"}},required:["cmd","pin"]}},function(e){e.exports={id:"http://igt.com/vpcPlayerData/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for vpcPlayerData",type:"object",properties:{cmd:{type:"string",pattern:"^vpcPlayerData$"},ver:{type:"string"},vpcPlayerData:{type:"object",properties:{limits:{type:"array",items:{type:"object",properties:{type:{type:"integer"},period:{type:"integer"},alertThresholds:{type:"array",items:{type:"integer"}},threshold:{type:"integer"},session:{type:"integer"},current:{type:"integer"},hit:{type:"integer"}},required:["type","period","alertThresholds","threshold","session","current","hit"]}},playerMessage:{type:"string"},limitToShow:{type:"integer"},lastTimeLimitSet:{type:"integer"},cardId:{type:"string",maxLength:20},haveHostData:{type:"integer"}},required:["limits","playerMessage","limitToShow","lastTimeLimitSet","cardId","haveHostData"]}},required:["cmd","vpcPlayerData"]}},function(e){e.exports={id:"http://igt.com/getUserToken/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for getUserToken",type:"object",properties:{cmd:{type:"string",pattern:"^getUserToken$"},ver:{type:"string"},getUserToken:{type:"array",minItems:1,uniqueItems:!0,items:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"}}},required:["cmd","getUserToken"]}},function(e){e.exports={id:"http://igt.com/languageUpdate/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for languageUpdate",type:"object",properties:{cmd:{type:"string",pattern:"^languageUpdate$"},ver:{type:"string"},languageUpdate:{type:"object",properties:{languageIndex:{type:"integer"},languageName:{type:"string"}},required:["languageIndex","languageName"]}},required:["cmd","languageUpdate"]}},function(e){e.exports={id:"http://igt.com/userTokenUpdate/V1.0",$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for userTokenUpdate",type:"object",properties:{cmd:{type:"string",pattern:"^userTokenUpdate$"},ver:{type:"string"},userTokenUpdate:{type:"array",minItems:0,uniqueItems:!0,items:{type:"object",properties:{id:{type:"string",pattern:"^0[xX][0-9a-fA-F]{2}$"},value:{type:"string",minLength:0,maxLength:40}},required:["id","value"]}}},required:["cmd","userTokenUpdate"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=T(r(201)),s=T(r(202)),a=T(r(203)),i=T(r(204)),o=T(r(205)),l=T(r(67)),c=T(r(206)),u=T(r(207)),d=T(r(209)),p=T(r(210)),h=T(r(211)),f=T(r(212)),g=T(r(213)),_=T(r(214)),E=T(r(215)),S=T(r(216)),m=T(r(4)),C=T(r(41)),b=T(r(39)),A=T(r(217)),v=T(r(218)),P=T(r(8)),y=r(1);function T(e){return e&&e.__esModule?e:{default:e}}function I(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,a){try{var i=t[s](a),o=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}const R=({securityServiceEndpoint:e=null},t,r)=>new s.default({endpoint:e,auth:"/identity_zones/m5zone/user/authenticate",invalidate:"/user/access_token",retryDelay:500},t,r),O=(e,{subscription:{screenTrigger:t,tokenUpdate:r}},n)=>{t.forEach(t=>{e.registerScreenTrigger(t,({detail:{screenTrigger:e}})=>{n.storeTrigger(e.screenId,e.displayMessage,e.messageTokens)})}),r.forEach(t=>{e.registerTokenUpdate(t,({detail:{tokenUpdate:e}})=>{n.storeToken(e[0].id,e[0].value)})})},N=(e,{subscription:{screenTrigger:t,tokenUpdate:r}},n)=>{t.forEach(t=>{e.registerScreenTrigger(t,({detail:{screenTrigger:e}})=>{n.handleTriggerUpdate(e.screenId,e.displayMessage,e.messageTokens)})}),r.forEach(t=>{e.registerTokenUpdate(t,({detail:{tokenUpdate:e}})=>{n.handleTokenUpdate(e[0].id,e[0].value)})})},L=(()=>{var e=I(function*(e,t,r,n){const s=window.parent.document.querySelector(r);if(null===s){const e=`Cannot find iframe element with id of ${r}. Please ensure it exists.`;return n.error({error:e},!0),Promise.reject(e)}yield e.setupIframe(s,t)});return function(t,r,n,s){return e.apply(this,arguments)}})();t.default=class{constructor(e,t,r,s,T,B,x){var D=this;let M;this.logger=T,this.m5Config=B,this.ngxSubscriptionConfig=x,this.loadContent=(()=>{var e=I(function*(e){yield L(D.triggerContentVC,e,"#WrapperFrame",D.logger)});return function(t){return e.apply(this,arguments)}})();try{M=C.default.normalizeUrlMap(r)}catch(e){T.error({error:e},!0)}const w=Object.keys(M.screenIdMap),k=r.subscribeAllTriggers,U=new i.default(w,T,k,M.legacyIdList,P.default,this.ngxSubscriptionConfig),F=this.ngxComm=(0,y.reactive)(new u.default(e,U,T,this.m5Config));F.setupWebSocket().then(()=>{T.debug({debug:"Content interface web socket setup at shell controller is complete."},!0),new b.default(r.webWorkers,T);const e=new o.default,i=this.appStore=(0,y.reactive)(new l.default(F,T,this.m5Config));O(F,U.getSubscription(),e),N(F,U.getSubscription(),i),this.bannerVC=d.default.VCWRegistration(T,t,"BannerVC",F,U),this.pinContentVC=d.default.VCWRegistration(T,t,"PINContentVC",F,U),this.triggerContentVC=d.default.VCWRegAndTrigger(T,t,"TriggerContentVC",F,U,M,B);const u=R(M,T,F),P={enabled:-1!==Object.keys(M.screenIdMap).indexOf(m.default.W2G_ACCRUAL_SCREEN),resetTimeout:2e3,waitForCardTypeInterval:2e3},I=new a.default(F,T,P,i,this.m5Config),D=new S.default;this.pinService=new p.default(F,u,T,i,w),this.fullScreenToggle=new E.default(F,D,T,C.default.getUrlParamsObject(t)),this.xtraCreditService=new h.default(F,T,i,s),this.pointPlayService=new f.default(F,T,i),this.cashlessService=new g.default(F,T,i),this.pointPayService=new _.default(F,T),this.attendantService=new A.default(F,T),this.cardlessService=new v.default(F,T,B,i,x.cardlessStatus),this.statusMessageCache=new c.default,this.statusMessageCache.setStatusMessages(s);const k=e=>{this.bannerVC.sendMessage(e),this.triggerContentVC.sendMessage(e),b.default.Instance().broadcastMessage(e)},j=e=>{this.pinContentVC.sendMessage(e)};new n.default(F,k,this.loadContent,U,D,e,T,u,I,C.default.getUrlParamsObject(t),this.statusMessageCache,this.cardlessService,{appStore:i}),this.pinService.registerValidatePINRespCB(k),this.pinService.registerValidatePINRespCB(j),this.pinService.registerShowPINEntryScreenCB(j),this.pinService.registerHidePINEntryScreenCB(j),this.xtraCreditService.registerEnableXtraCreditRespCB(k),this.xtraCreditService.registerActivateXtraCreditRespCB(k),this.xtraCreditService.registerCancelXtraCreditRespCB(k),this.xtraCreditService.registerIsActiveXCRespCB(k),this.pointPlayService.registerEnablePointPlayRespCB(k),this.pointPlayService.registerInitiatePointPlayRespCB(k),this.pointPlayService.registerConvertPPRespCB(k),this.cashlessService.registerCashlessEnabledRespCB(k),this.cashlessService.registerGetCashlessBalanceRespCB(k),this.cashlessService.registerInitiateTransferRespCB(k),this.pointPayService.registerPointPayEnabledRespCB(k),this.pointPayService.registerPointPayCodeRespCB(k),this.pointPayService.registerInitiatePointPayRespCB(k),this.attendantService.registerCardTypeRespCB(k),this.cardlessService.registerCardlessStatusUpdateCB(k),F.registerLanguageUpdate(k),F.registerLanguageUpdate(j),F.registerFullScreenState(k),F.registerFullScreenState(j),Promise.all([L(this.triggerContentVC,M.indexUrl,"#WrapperFrame",T),L(this.bannerVC,M.bannerUrl,"#BannerFrame",T),L(this.pinContentVC,M.pinContentUrl,"#PinContentFrame",T)]).then(()=>{F.sendSubscription()}).catch(e=>{T.error({error:"Unable to setup iframes",data:e},!0)})}).catch(e=>{T.error({error:"Error in shell controller setup",data:e.message},!0)})}cleanup(){this.pinService.cleanup(),this.fullScreenToggle.cleanup(),this.xtraCreditService.cleanup(),this.pointPlayService.cleanup(),this.cashlessService.cleanup(),this.pointPayService.cleanup(),this.attendantService.cleanup(),this.cardlessService.cleanup()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(2)),s=u(r(3)),a=u(r(8)),i=u(r(39)),o=u(r(40)),l=u(r(4)),c=(u(r(67)),r(42));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,a){try{var i=t[s](a),o=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}t.default=class{constructor(e,t,r,a,i,o,l,u,d,p,h,f,g){this.reactiveNgxComm=e,this.reactiveAppStore=g&&g.appStore,this.ngxComm=(0,c.toRaw)(e),this.broadcastToView=t,this.loadUrl=r,this.subManager=a,this.shellCache=i,this.enumBE2Func=n.default.enumBE2BasicFunc,this.contentCache=o,this.logger=l,this.sessionService=u,this.w2gAccrualService=d,this.urlParams=p,this.statusMessageCache=h,this.cardlessService=f,this.appStore=g&&(0,c.toRaw)(g.appStore),window.addEventListener("message",this.receiveMessage.bind(this),!1),s.default.subscribe("ww_message",this.receiveMessage.bind(this)),this.notifyActiveWindow()}sendMessage(e,t){e?e.postMessage(t,"*"):i.default.Instance().broadcastMessage(t)}addTransactionId(e,t){return void 0!==e&&(t.transactionId=e),t}createRejectionMsg(e){return e+" data message is invalid according to schema. Rejecting message."}validMessage(e,t){var r=this;return d(function*(){return yield a.default.validate(e,t).then(function(){return!0},function(){return r.logger.error({error:r.createRejectionMsg(t),data:e}),!1})})()}setPropSubAndSend(e,t){this.subManager.isAttrEqual(e,t)||(this.subManager.setAttribute(e,t),this.ngxComm.sendSubscription())}addIdsToSubAndSend(e,t){var r=this;return d(function*(){let n=!1;const s=t.filter(function(t){return!r.subManager.doesAttrContainId(e,t)});yield o.default.asyncForEach(s,(()=>{var t=d(function*(t){n=!0;try{yield r.subManager.addId(e,t)}catch(n){r.logger.error({error:n.message,data:{prop:e,id:t}})}});return function(e){return t.apply(this,arguments)}})(),r),n&&r.ngxComm.sendSubscription()})()}callCmd(e,t,r,n){if(e){const a=["validatePIN","createPinSession","enableXtraCredit","activateXtraCredit","activateXtraCreditWithAmount","cancelXtraCredit","enablePointPlay","initPointPlay","convertPointPlay","cancelPointPlay","isXtraCreditActive","toggle-full-screen","show-full-screen","hide-full-screen","checkCashlessEnabled","getCashlessBalance","initiateTransferFromEgm","initiateTransferFromCard","pinEntryResp","pinEntryComplete","checkPointPayEnabled","checkPointPayCode","initiatePointPay","attendantCardInserted"],i=e.replace(/\./g,"_");if(a.includes(i))s.default.publish(i,t);else{const s=this[i];void 0===s?this.logger.warn("view listener - no case for cmd: "+e):s.call(this,e,t,r,n)}}}vpcGetPlayerData(e){var t=this;return d(function*(){const r=n.default.createVpcGetPlayerData();(yield t.validMessage(r,e))&&t.ngxComm.sendMessage(r)})()}vpcButtonPress(e,t,r){var s=this;return d(function*(){const t=n.default.createVpcButtonPress(r);(yield s.validMessage(t,e))&&s.ngxComm.sendMessage(t)})()}vpcPIN(e,t,r){var s=this;return d(function*(){const t=n.default.createVpcPin(r);(yield s.validMessage(t,e))&&s.ngxComm.sendMessage(t)})()}hostEventButtonPress(e,t,r){var s=this;return d(function*(){const t=n.default.createHostEventButtonPress(r.hostEventId,r.subEventId,r.onlineOnly,r.bonusId);(yield s.validMessage(t,e))&&s.ngxComm.sendMessage(t)})()}buttonPress(e,t,r){var s=this;return d(function*(){const e=n.default.createButtonPress(r);(yield s.validMessage(e,"buttonPress"))&&s.ngxComm.sendMessage(e)})()}activateDiagnostics(e,t){var r=this;return d(function*(){(yield r.validMessage(t,"activateDiagnostics"))&&r.ngxComm.sendMessage(t)})()}getQRcode(){var e=this;return d(function*(){const t=n.default.createGetQRCode();(yield e.validMessage(t,"getQRcode"))&&e.ngxComm.sendMessage(t)})()}navigateToSession(e){this.logger.debug("******M5 forcefully initiated session screen"),this.ngxComm.initiateM5_AdvScreenTrigger(l.default.SESSION_SCREEN,!0)}getTokens(e,t){t.getTokens?this.ngxComm.getTokens(t.getTokens):this.logger.warn("Ids not provided for cmd: "+e)}getCurrentTokenValue(e,t){if(t.getCurrentTokenValue){const e=this.ngxComm.getCurrentTokenValue(t.getCurrentTokenValue),r=this.addTransactionId(t.transactionId,{cmd:"getCurrentTokenValueResponse",ver:"1.0",token:{id:t.getCurrentTokenValue,value:e}});this.logger.debug(r,!0),this.broadcastToView(r)}else this.logger.warn("Id not provided for cmd: "+e)}getLevelUpdate(e,t){const r=this.ngxComm.getCurrentLevelUpdate(),n=this.addTransactionId(t.transactionId,{cmd:"getLevelUpdateResponse",ver:"1.0",levelUpdate:r});this.logger.debug(n,!0),this.broadcastToView(n)}getPatronData(e,t){var r=this;this.ngxComm.asyncNgxCmd(()=>Object.keys(r.reactiveNgxComm.patronData).length>0,"getCurrentPatronData").then(e=>{const n=r.addTransactionId(t.transactionId,{cmd:"getPatronDataResponse",ver:"1.0",patronData:e});r.logger.debug(n,!0),r.broadcastToView(n)}).catch(e=>{const n=r.addTransactionId(t.transactionId,{cmd:"getPatronDataResponse",ver:"1.0",patronData:""});r.logger.debug(n,!0),r.broadcastToView(n)})}getPatronDataExt(e,t){var r=this;r.ngxComm.asyncNgxCmd(()=>Object.keys(r.reactiveNgxComm.patronDataExt).length>0,"getCurrentPatronDataExt").then(e=>{r.logger.info("getPatronDataExt response:"+JSON.stringify(e));const n=r.addTransactionId(t.transactionId,{cmd:"getPatronDataExtResponse",ver:"1.0",patronDataExt:(0,c.toRaw)(e)});r.logger.debug(n,!0),r.broadcastToView(n)}).catch(()=>{const e=r.addTransactionId(t.transactionId,{cmd:"getPatronDataExtResponse",ver:"1.0",patronDataExt:""});r.logger.debug(e,!0),r.broadcastToView(e)})}getCardlessStatus(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getCardlessStatusResp",ver:"1.0",cardlessStatus:{}});s.cardlessStatus=this.cardlessService.getCardlessStatus(),this.logger.debug({debug:"Sending getCardlessStatus response to content",data:s}),this.sendMessage(n,s)}getCardlessStatusHistory(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getCardlessStatusHistoryResp",ver:"1.0",cardlessStatusHistory:[]});s.cardlessStatusHistory=this.cardlessService.getCardlessStatusHistory(),this.logger.debug({debug:"Sending getCardlessStatusHistory response to content",data:s}),this.sendMessage(n,s)}showWindow(e,t,r){var s=this;return d(function*(){const t=n.default.createShowHost(r);(yield s.validMessage(t,e))&&s.ngxComm.sendMessage(t)})()}getServerAddresses(e,t,r){var s=this;return d(function*(){const t=n.default.createGetServerAddresses(r);(yield s.validMessage(t,e))&&s.ngxComm.sendMessage(t)})()}forceCardOut(e){var t=this;return d(function*(){const r=n.default.createForceCardOut();(yield t.validMessage(r,e))&&t.ngxComm.sendMessage(r)})()}disableAutoHide(e,t,r){this.setPropSubAndSend("disableAutoHide",r);const n=this.addTransactionId(t.transactionId,{cmd:"disableAutoHideResp",ver:"1.0"});this.broadcastToView(n)}gameStartSubscribe(){this.setPropSubAndSend("gameStart",!0)}getGameStart(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getGameStartResp",ver:"1.0",gameStart:{}});s.gameStart=this.ngxComm.getCurrentGameStart().gameStart,this.logger.debug({debug:"Sending getGameStart response to content",data:s}),this.sendMessage(n,s)}gameEndSubscribe(){this.setPropSubAndSend("gameEnd",!0)}gameEventSubscribe(e,t){this.addIdsToSubAndSend("gameEvent",t.value)}getGameEnd(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getGameEndResp",ver:"1.0",gameEnd:{}});s.gameEnd=(0,c.toRaw)(this.ngxComm.getCurrentGameEnd().gameEnd)||{},s.gameEnd.ext={},null!=this.appStore.AppStore.machine.denom?(s.gameEnd.ext.denom=this.appStore.AppStore.machine.denom,this.logger.debug({debug:"Sending getGameEnd response to content",data:s}),this.sendMessage(n,s)):this.appStore.asyncGetEgmDenom(()=>null!=this.appStore.AppStore.machine.denom).then(function(){s.gameEnd.ext.denom=this.appStore.AppStore.machine.denom,this.logger.debug({debug:"Sending getGameEnd response to content",data:s}),this.sendMessage(n,s)}.bind(this))}getBonusLevel(e,t){const r=t.transactionId,s=[[this.enumBE2Func.PT_GetPlayerLevel,[0,0,0,0]]],a=n.default.createBE2BasicFunctionArr(s);this.ngxComm.sendBe2Message(a,(e,t)=>{e?this.logger.error({error:"viewListener: Received an error in getBonusLevel.",data:e},!0):t[n.default.BE2_BASIC_RESPONSE].forEach(e=>{if(e.functionCode===this.enumBE2Func.PT_GetPlayerLevel){const t=this.addTransactionId(r,{cmd:"getBonusLevelResp",ver:"1.0",level:e.retvals[0]});this.broadcastToView(t)}},this)})}valueToPoints(e,t){const r=t.transactionId,s=[[this.enumBE2Func.ValueToPoints,[t.cents,0,0,0]]],a=n.default.createBE2BasicFunctionArr(s);this.ngxComm.sendBe2Message(a,(e,t)=>{e?this.logger.error({error:"viewListener: Received an error in valueToPoints.",data:e},!0):t[n.default.BE2_BASIC_RESPONSE].forEach(e=>{if(e.functionCode===this.enumBE2Func.ValueToPoints){const t=this.addTransactionId(r,{cmd:"valueToPointsResp",ver:"1.0",cents:e.retvals[0],points:e.retvals[1]});this.broadcastToView(t)}},this)})}disableMatchPlay(e,t){const r=[[this.enumBE2Func.MP_Toggle,[0,0,0,0]]],s=n.default.createBE2BasicFunctionArr(r);this.ngxComm.sendBe2Message(s,e=>{if(e){this.logger.error({error:"viewListener: Received an error in disableMatchPlay.",data:e},!0);const r=this.addTransactionId(t.transactionId,{cmd:"disableMatchPlayResp",ver:"1.0",status:1});this.broadcastToView(r)}else{const e=this.addTransactionId(t.transactionId,{cmd:"disableMatchPlayResp",ver:"1.0",status:0});this.broadcastToView(e)}})}getUrlParams(e,t){const r=this.addTransactionId(t.transactionId,{cmd:"getUrlParamsResp",ver:"1.0",data:this.urlParams});this.broadcastToView(r)}analytics_event(e,t,r){this.logger.info({analyticsReportingType:e,analyticsReportingData:r},!0)}analytics_view(e,t,r){this.logger.info({analyticsReportingType:e,analyticsReportingData:r},!0)}analytics_exception(e,t,r){this.logger.error({analyticsReportingType:e,analyticsReportingData:r},!0)}log_debug(e,t,r){this.logger.debug(r,!0)}log_info(e,t,r){this.logger.info(r,!0)}log_warn(e,t,r){this.logger.warn(r,!0)}log_error(e,t,r){this.logger.error(r,!0)}getLogLevel(e,t,r,n){let s=this.logger.logSeverity;0===this.logger.logSeverity&&(s=1);const a={cmd:"setLogLevel",ver:"1.0",logLevel:s};this.sendMessage(n,a)}getTokenHistory(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getTokenHistoryResp",ver:"1.0",value:this.contentCache.getTokens()});this.logger.debug({info:"Sending getTokenHistory response to content",data:s},!1),this.sendMessage(n,s)}getTriggerHistory(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getTriggerHistoryResp",ver:"1.0",value:this.contentCache.getTriggers()});this.logger.debug({info:"Sending getTriggerHistory response to content",data:s},!1),this.sendMessage(n,s)}requestSendTokens(){const e=this.contentCache.getTokens();this.logger.debug({info:"Sending cached tokens to content for DOM rendering"},!1);for(let t=0;t<e.length;t++)this.broadcastToView(n.default.createTokenUpdate(e[t].id,e[t].value))}requestSendTriggers(){const e=this.contentCache.getTriggers();this.logger.debug({info:"Sending cached screenTriggers to content for DOM rendering"},!1);for(let t=0;t<e.length;t++)this.broadcastToView(n.default.createScreenTrigger(e[t].id,e[t].value,e[t].messageTokens))}getAllHistory(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getAllHistoryResp",ver:"1.0",value:this.contentCache.getAll()});this.logger.debug({info:"Sending getAllHistory response to content",data:s},!1),this.sendMessage(n,s)}getStateElement(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getStateElementResp",ver:"1.0",value:this.contentCache.getStateElement(t.value)});this.logger.debug({info:"Sending getStateElement response to content",data:s},!1),this.sendMessage(n,s)}getAllStateElements(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getAllStateElementsResp",ver:"1.0",value:this.contentCache.getContentState()});this.logger.debug({info:"Sending getAllStateElements response to content",data:s},!1),this.sendMessage(n,s)}setStateElement(e,t,r,n){this.contentCache.storeStateElement(t.key,t.value,t.timeout).then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"setStateElementResp",ver:"1.0",value:e});this.logger.debug({info:"Sending setStateElement response to content",data:r},!1),this.sendMessage(n,r)})}deleteStateElement(e,t,r,n){this.contentCache.deleteStateElement(t.value).then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"deleteStateElementResp",ver:"1.0",value:e});this.logger.debug({info:"Sending deleteStateElement response to content",data:r},!1),this.sendMessage(n,r)})}clearAllStateElements(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"clearAllStateElementsResp",ver:"1.0",value:this.contentCache.clearContentState()});this.logger.debug({info:"Sending clearAllStateElements response to content",data:s},!1),this.sendMessage(n,s)}getStatusMessages(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getStatusMessagesResp",ver:"1.0",value:this.statusMessageCache.getStatusMessages()});this.sendMessage(n,s)}isBe2Error(e){return!!e&&(this.logger.error({error:"viewListener: error while trying to set auto play status.",data:e},!0),!0)}getBe2Resp(e){const t=e[n.default.BE2_BASIC_RESPONSE];return 0===t.length?(this.logger.error({error:"Viewlistener: No BE2 responses.",data:e}),[]):t}setAutoplay(e,t,r,s){if(void 0===t.enabled)return void this.logger.error({error:"viewListener: unable to set auto play, enabled property is undefined.",data:t});const a=!0===t.enabled?1:0,i=[[this.enumBE2Func.MENU_SetAutoPlayStatus,[a,0,0,0]]],o=n.default.createBE2BasicFunctionArr(i),l=this.addTransactionId(t.transactionId,{cmd:"setAutoplayResp",ver:"1.0",enabled:null});this.ngxComm.sendBe2Message(o,(e,t)=>{this.isBe2Error(e)||(this.getBe2Resp(t).forEach(e=>{e.functionCode===this.enumBE2Func.MENU_SetAutoPlayStatus?l.enabled=1===e.retvals[0]:this.logger.warn({warn:"Unknown BE2Response!",data:""})},this),this.logger.debug({debug:"Sending setAutoplay response to content",data:l}),this.sendMessage(s,l))})}getAutoplayStatus(e,{checkEGMState:t=!0,transactionId:r},s,a){const i=!0===t?1:0,o=[[this.enumBE2Func.MENU_GetAutoPlayStatus,[i,0,0,0]]],l=n.default.createBE2BasicFunctionArr(o),c=this.addTransactionId(r,{cmd:"getAutoplayStatusResp",ver:"1.0",status:null});this.ngxComm.sendBe2Message(l,(e,t)=>{this.isBe2Error(e)||(this.getBe2Resp(t).forEach(e=>{e.functionCode===this.enumBE2Func.MENU_GetAutoPlayStatus?c.status=1===e.retvals[0]:this.logger.warn({warn:"Unknown BE2Response!",data:""})},this),this.logger.debug({debug:"Sending getAutoplayStatus response to content",data:c}),this.sendMessage(a,c))})}setBonusLight(e,t,r,s){if(void 0===t.enabled)return void this.logger.error({error:"viewListener: unable to set bonus light, enabled property is undefined.",data:t});const a=!0===t.enabled?1:0,i=[[this.enumBE2Func.MP_SetBonusLight,[a,0,0,0]]],o=n.default.createBE2BasicFunctionArr(i),l=this.addTransactionId(t.transactionId,{cmd:"setBonusLightResp",ver:"1.0",enabled:null});this.ngxComm.sendBe2Message(o,(e,t)=>{this.isBe2Error(e)||(this.getBe2Resp(t).forEach(e=>{e.functionCode===this.enumBE2Func.MP_SetBonusLight?l.enabled=1===e.retvals[0]:this.logger.warn({warn:"Unknown BE2Response!",data:""})},this),this.logger.debug({debug:"Sending setBonusLight response to content",data:l}),this.sendMessage(s,l))})}playTone(e,t,r,s){if("number"!=typeof t.tone)return void this.logger.error({error:"viewListener: unable to play tone, tone should be a number.",data:t});const a=[[this.enumBE2Func.MISC_ToneABI,[t.tone,0,0,0]]],i=n.default.createBE2BasicFunctionArr(a),o=this.addTransactionId(t.transactionId,{cmd:"playToneResp",ver:"1.0",tone:null});this.ngxComm.sendBe2Message(i,(e,t)=>{this.isBe2Error(e)||(this.getBe2Resp(t).forEach(e=>{e.functionCode===this.enumBE2Func.MISC_ToneABI?o.tone=e.retvals[0]:this.logger.warn({warn:"Unknown BE2Response!",data:""})},this),this.logger.debug({debug:"Sending playTone response to content",data:o}),this.sendMessage(s,o))})}setBezel(e,t,r,s){if("number"!=typeof t.color)return void this.logger.error({error:"viewListener: unable to set bezel, color should be a number.",data:t});if("number"!=typeof t.flash)return void this.logger.error({error:"viewListener: unable to set bezel, flash should be a number.",data:t});const a=[[this.enumBE2Func.MISC_BezelColor,[t.color,t.flash,0,0]]],i=n.default.createBE2BasicFunctionArr(a),o=this.addTransactionId(t.transactionId,{cmd:"setBezelResp",ver:"1.0",color:null,flash:null});this.ngxComm.sendBe2Message(i,(e,t)=>{this.isBe2Error(e)||(this.getBe2Resp(t).forEach(e=>{e.functionCode===this.enumBE2Func.MISC_BezelColor?(o.color=e.retvals[0],o.flash=e.retvals[1]):this.logger.warn({warn:"Unknown BE2Response!",data:""})},this),this.logger.debug({debug:"Sending setBezel response to content",data:o}),this.sendMessage(s,o))})}payToCreditEnableEGM(e,t,r,s){const a=[[this.enumBE2Func.PayToCreditEnableEgm,[0,0,0,0]]],i=n.default.createBE2BasicFunctionArr(a),o=this.addTransactionId(t.transactionId,{cmd:"payToCreditEnableEGMResp",ver:"1.0"});this.ngxComm.sendBe2Message(i,(e,t)=>{this.isBe2Error(e)||this.getBe2Resp(t).forEach(e=>{e.functionCode!==this.enumBE2Func.PayToCreditEnableEgm?this.logger.warn({warn:"Unknown BE2Response!",data:""}):(this.logger.debug({debug:"Sending payToCreditEnableEGM response to content",data:o}),this.sendMessage(s,o))},this)})}isPINLocked(e,t,r,s){const a=t.transactionId,i=[[this.enumBE2Func.Cashless_IsPinLocked,[0,0,0,0]]],o=n.default.createBE2BasicFunctionArr(i);this.ngxComm.sendBe2Message(o,(e,t)=>{e?this.logger.error({error:"viewListener: Received an error in isPINLocked.",data:e},!0):t[n.default.BE2_BASIC_RESPONSE].forEach(e=>{if(e.functionCode!==this.enumBE2Func.Cashless_IsPinLocked)this.logger.warn({warn:"Unknown BE2Response!",data:""});else{const t=this.addTransactionId(a,{cmd:"isPINLockedResp",ver:"1.0",locked:Boolean(e.retvals[0])});this.logger.debug({debug:"viewListener: Sending Cashless_IsPinLockedResp.",data:t},!0),this.sendMessage(s,t)}},this)})}lockPIN(){const e=[[this.enumBE2Func.LockPin,[0,0,0,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,(e,t)=>{e?this.logger.error({error:"viewListener: Received an error in LockPin.",data:e},!0):this.logger.debug({debug:"viewListener: Received BE2 response for LockPin.",data:t},!0)})}patronCardUnlock(e,t,r,s){const a=t.transactionId,i=[[this.enumBE2Func.LOLSCH_PatronRequestUnlock,[0,0,0,0]]],o=n.default.createBE2BasicFunctionArr(i);this.ngxComm.sendBe2Message(o,(e,t)=>{e?this.logger.error({error:"viewListener: Received an error in patronCardUnlock.",data:e},!0):t[n.default.BE2_BASIC_RESPONSE].forEach(e=>{if(e.functionCode!==this.enumBE2Func.LOLSCH_PatronRequestUnlock)this.logger.warn({warn:"Unknown BE2Response!",data:""});else{const t=this.addTransactionId(a,{cmd:"patronCardUnlockResp",ver:"1.0",status:e.retvals[0]});this.logger.debug({debug:"Sending patronCardUnlock response to content",data:t}),this.sendMessage(s,t)}},this)})}attendantCardUnlock(e,t){const r=parseInt(t.unlockCode,10),s=t.unlockCode.toString().length,a=[[this.enumBE2Func.Cashless_ForceUnlock,[r,s,0,0]]],i=n.default.createBE2BasicFunctionArr(a);this.ngxComm.sendBe2Message(i,(e,t)=>{e?this.logger.error({error:"viewListener: Received an error in Cashless_ForceUnlock.",data:e},!0):this.logger.debug({debug:"viewListener: Received BE2 response for Cashless_ForceUnlock.",data:t},!0)})}getPinSessionToken(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getPinSessionTokenResp",ver:"1.0",token:this.sessionService.accessTokenPIN});this.logger.debug({debug:"Sending getPinSessionToken response to content",data:s}),this.sendMessage(n,s)}getLanguage(e,t,r,n){const{languageUpdate:s={}}=this.ngxComm.getCurrentLanguageUpdate(),{languageIndex:a=1,languageName:i="Primary"}=s,o=this.addTransactionId(t.transactionId,{cmd:"getLanguageResp",ver:"1.0",language:{languageIndex:a,languageName:i}});this.logger.debug({debug:"Sending getLanguage response to content",data:o}),this.sendMessage(n,o)}getUserTokens(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getUserTokensResp",ver:"1.0",userTokenUpdate:[]});t.userTokens.forEach(function(e){s.userTokenUpdate.push({id:e,value:this.ngxComm.getCurrentUserTokenValue(e)})},this),this.logger.debug({debug:"Sending getUserTokens response to content",data:s}),this.sendMessage(n,s)}getFullscreenState(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getFullscreenStateResp",ver:"1.0",fullscreenState:this.shellCache.getShellStateElement("fullscreenState")});this.logger.debug({debug:"Sending getFullscreenState response to content",data:s}),this.sendMessage(n,s)}getIsmUpdate(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getIsmUpdateResp",ver:"1.0",ismUpdate:{}});s.ismUpdate=this.ngxComm.getCurrentIsmUpdateData().ismUpdate,this.logger.debug({debug:"Sending getIsmUpdate response to content",data:s}),this.sendMessage(n,s)}getDrawStatus(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getDrawStatusResp",ver:"1.0",drawStatus:{}});s.drawStatus=this.ngxComm.getCurrentDrawStatus().drawStatus,this.logger.debug({debug:"Sending getDrawStatus response to content",data:s}),this.sendMessage(n,s)}getBonusHit(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"getBonusHitResp",ver:"1.0",bonusHit:{}});s.bonusHit=this.ngxComm.getCurrentBonusHit().bonusHit,this.logger.debug({debug:"Sending getBonusHit response to content",data:s}),this.sendMessage(n,s)}w2gInit(e,t,r,n){this.w2gAccrualService.getSpecifics().then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"w2gInitResp",ver:"1.0"});Object.keys(e).forEach(t=>{r[t]=e[t]}),this.logger.debug({debug:"Sending w2gInit response to content",data:r}),this.sendMessage(n,r)}).catch(e=>{this.logger.error({error:"viewListener: Received an error in w2gInit.",data:e.message},!0)})}w2grequestAttendant(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"w2grequestAttendantResp",ver:"1.0"});this.w2gAccrualService.requestAttendant(t.handpayAmount).then(e=>{Object.keys(e).forEach(t=>{s[t]=e[t]})}).catch(e=>{s.error=!0,this.logger.error({error:"viewListener: Received an error in w2grequestAttendant.",data:e.message},!0)}).then(()=>{this.logger.debug({debug:"Sending w2grequestAttendant response to content",data:s}),this.sendMessage(n,s)})}w2gresetToCreditMeter(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"w2gresetToCreditMeterResp",ver:"1.0"});this.w2gAccrualService.resetToCreditMeter(t.handPayAmount,t.creditHandPayAmount,t.witnessInitiated,t.pinValidated).then(e=>{Object.keys(e).forEach(t=>{s[t]=e[t]})}).catch(e=>{s.success=!1,this.logger.error({error:"viewListener: Received an error in w2gresetToCreditMeter.",data:e.message},!0)}).then(()=>{this.logger.debug({debug:"Sending w2gresetToCreditMeter response to content",data:s}),this.sendMessage(n,s)})}w2gsetAttendantReturn(e,t,r,n){this.w2gAccrualService.setAttendantReturn().then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"w2gsetAttendantReturnResp",ver:"1.0",success:e.success});this.logger.debug({debug:"Sending w2gsetAttendantReturnResp response to content",data:r}),this.sendMessage(n,r)}).catch(e=>{this.logger.error({error:"viewListener: Received an error in w2gsetAttendantReturn.",data:e.message},!0)})}w2gvalidateWitness(e,t,r,n){const s=this.addTransactionId(t.transactionId,{cmd:"w2gvalidateWitnessResp",ver:"1.0"});this.w2gAccrualService.validateWitness().then(e=>{Object.keys(e).forEach(t=>{s[t]=e[t]})}).catch(e=>{s.error=!0,this.logger.error({error:"viewListener: Received an error in w2gvalidateWitness",data:e.message},!0)}).then(()=>{this.logger.debug({debug:"Sending w2gvalidateWitnessResp response to content",data:s}),this.sendMessage(n,s)})}w2gisWitnessRequired(e,t,r,n){this.w2gAccrualService.isWitnessRequired().then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"w2gisWitnessRequiredResp",ver:"1.0",required:e.required});this.logger.debug({debug:"Sending w2gisWitnessRequiredResp response to content",data:r}),this.sendMessage(n,r)}).catch(e=>{this.logger.error({error:"viewListener: Received an error in w2gisWitnessRequiredResp",data:e.message},!0)})}w2ggotoLegacyRequest(e,t,r,n){this.w2gAccrualService.gotoLegacy().then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"w2ggotoLegacyResp",ver:"1.0"});this.logger.debug({debug:"Sending w2ggotoLegacyResp response to content",data:r}),this.sendMessage(n,r)}).catch(e=>{this.logger.error({error:"viewListener: Received an error in w2ggotoLegacyRequest",data:e.message},!0)})}w2gCancelRequest(e,t,r,n){this.w2gAccrualService.cancelw2g().then(e=>{const r=this.addTransactionId(t.transactionId,{cmd:"w2gCancelResp",ver:"1.0"});this.logger.debug({debug:"Sending w2gCancelResp response to content",data:r}),this.sendMessage(n,r)}).catch(e=>{this.logger.error({error:"viewListener: Received an error in w2gCancelRequest",data:e.message},!0)})}loadContent(e,t,r,n){var s=this;return d(function*(){let e=!0;try{yield s.loadUrl(t.url),s.logger.debug({info:"viewListener: Loaded content url: ",data:t.url},!1)}catch(t){e=!1,s.logger.error({error:"viewListener: error loading content url: ",data:t},!0)}s.sendMessage(n,s.addTransactionId(t.transactionId,{cmd:"loadContentResp",ver:"1.0",success:e}))})()}notifyActiveWindow(){let e=document.getElementById("WrapperFrame");e.addEventListener("load",()=>{try{e.contentWindow.document.body&&(e.contentWindow.document.body.onclick=(()=>{this.buttonPress(void 0,void 0,"TOUCHSCREEN").catch(e=>{this.logger.error({error:"There was an error sending the TOUCHSCREEN buttonPress.",data:e},!0)})}))}catch(e){this.logger.debug({info:"viewListener: Wrapper Load listener error: ",data:e},!1)}})}receiveMessage(e){const t=t=>{const r=t.data,n=r.cmd?r.cmd:null,s=void 0===r.value?null:r.value;this.callCmd(n,r,s,e.source)};e.data?t(e):e.detail&&e.detail.data?t(e.detail):this.logger.warn("view listener - event data is undefined")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(4));t.default=class{constructor(e,t,r){this._config=(e=>{if("string"!=typeof e.auth)throw"Auth path must be defined";if("string"!=typeof e.invalidate)throw"Invalidate path must be defined";return"number"!=typeof e.retries&&(e.retries=3),"number"!=typeof e.retryDelay&&(e.retryDelay=1e3),JSON.parse(JSON.stringify(e))})(e),this._logger=t,this._accessTokenPIN=null,this._configured=!0,this._logger.debug({debug:"SessionService configuration",data:this._config}),"string"!=typeof this._config.endpoint?(this._logger.debug("SessionService - config endpoint is not defined, will not attempt to make sessions"),this._configured=!1):(r.registerScreenTrigger(n.default.ABANDONED_CARD_SCREEN,this.deletePINSession.bind(this)),r.registerScreenTrigger(n.default.VPC_ABANDONDED_CARD_SCREEN,this.deletePINSession.bind(this)),r.registerScreenTrigger(n.default.VPC_IDLE_SCREEN,this.deletePINSession.bind(this)),r.registerScreenTrigger(n.default.IDLE_SCREEN,this.deletePINSession.bind(this)))}get accessTokenPIN(){return this._accessTokenPIN}createPINSession(e){if(!this._configured)return Promise.reject("SessionService is not configured");if("string"!=typeof e||e.length<1)return Promise.reject("create PIN session requires an identity");if(null!==this._accessTokenPIN)return Promise.resolve(this._accessTokenPIN);const t=Date.now(),r=this._config.retries,n=JSON.stringify({username:e,password:"password"}),s=new Headers,a=`${this._config.endpoint}${this._config.auth}`;s.append("Content-Type","application/json"),s.append("Cache-Control","no-cache");const i={headers:s,mode:"cors",method:"POST",body:n};let o=0;return this._logger.debug({msg:`SessionService createPINSession calling ${i.method} on ${a}`}),new Promise((e,n)=>{const s=()=>{o+=1,fetch(a,i).then(a=>{a.json().then(i=>{const l=Date.now()-t;switch(a.status){case 200:this._createPINSessionSuccess(e,i,l,a.status);break;case 400:case 401:case 404:this._createPINSessionError(n,i,l,a.status);break;case 500:default:o<=r?setTimeout(()=>{s()},this._config.retryDelay):this._createPINSessionError(n,i,l,a.status,o)}})}).catch(e=>{o<=r?setTimeout(()=>{s()},this._config.retryDelay):this._createPINSessionError(n,e,Date.now()-t,null,o)})};s()})}deletePINSession(){if(!this._accessTokenPIN)return;const e=Date.now(),t=this._config.retries,r=this._config.retryDelay,n=this._logger,s=new Headers,a=`${this._config.endpoint}${this._config.invalidate}`;s.append("Authorization",`Bearer ${this._accessTokenPIN.access_token}`),this._accessTokenPIN=null;const i={headers:s,mode:"cors",method:"DELETE"};let o=0;this._logger.debug({msg:`SessionService deletePINSession calling ${i.method} on ${a}`});const l=()=>{o+=1,fetch(a,i).then(s=>{const a=Date.now()-e;switch(s.status){case 204:const e={msg:`SessionService deletePINSession success duration:${a} - attempts:${o} - status:${s.status}`};a>1e3?n.warn(e):n.debug(e);break;case 401:s.json().then(e=>{n.error({msg:`SessionService deletePINSession error - duration:${a} - attempts:${o} - status:${s.status}`,data:e})});break;default:o<=t?setTimeout(()=>{l()},r):s.json().then(e=>{n.error({msg:`SessionService deletePINSession error - duration:${a} - attempts:${o} - status:${s.status}`,data:e})})}}).catch(s=>{if(o<=t)setTimeout(()=>{l()},r);else{const t=Date.now()-e;n.error({msg:`SessionService deletePINSession error - duration:${t} - attempts:${o} - status:null`,data:s})}})};l()}cleanup(){this._config=null,this._logger=null,this._accessTokenPIN=null}_createPINSessionSuccess(e,t,r,n=null,s=1){const a={msg:`SessionService createPINSession success duration:${r} - attempts:${s} - status:${n}`};r>1e3?this._logger.warn(a):this._logger.debug(a),this._accessTokenPIN=t,e(this._accessTokenPIN)}_createPINSessionError(e,t,r,n=null,s=1){this._logger.error({msg:`SessionService createPINSession error - duration:${r} - attempts:${s} - status:${n}`,data:t}),e(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(4));function a(e){return e&&e.__esModule?e:{default:e}}const i="w2g",o=n.default.enumBE2BasicFunc,l=n.default.createBE2BasicFunctionArr,c={override:o.OverrideW2GAccrualScreen,init:o.FJP_Init,operation:o.FJP_Op,getHandpayParams:o.FJP_GetCurrentHandpayParams,isWitnessRequired:o.FJP_IsJPWitnessRequired,event:o.FJP_Event,cardType:o.PIN_GetCardType,setMenuCardLocked:o.SetMenuCardLocked},u={handpay:0,pouchpay:1,IsSelfServe:2,handpayWithOverride:128,pouchpayWithOverride:129,IsKeyToCredit:4},d={none:0,unknown:1,player:2,vip:3,drop_card:4,attendant:5,supervisor:6,witness:7,unregistered_player:8,registered_player:9},p={GET_FIRST_CARD:0,VALIDATE_RETURN_CARD:1,GET_WITNESS_CARD:2,GET_FILL_AMOUNT:3,GET_BAG_AMOUNT:4,GET_SPINTEK_STATUS:5,GET_AUDIT_ENABLE:6,GET_CALIBRATION_ENABLE:7,GET_DOOR_STATE:8,GET_AUX_COUNT:9,CHECK_JACKPOT_LIMIT:10,CHECK_JP_OVERRIDE:11,GET_MONEY_ENABLE:12,GET_EMPLOYEE_BITS:13,GET_SELFSERVE_OPTIONS:14,CALL_ATTENDANT:15,RESET_HANDPAY_TO_CREDIT_METER:16,GET_REMOTE_HANDPAY_RESETCODE:17,CANCEL_AMBIGUOUS_TRANSFTER_MAG_CARD:30,ROLLBACK_AMBIGUOUS_TRANSFTER_MAG_CARD:32,RETURN_LAST_CASHOUT_AMOUNT_MAGCARD:34},h={KP_EVENT_GAME_WIN:0,KP_EVENT_CANCEL_CREDIT:1,KP_EVENT_PROGRESSIVE:2,KP_EVENT_SHORT_PAY:3,KP_EVENT_HOPPER_FILL:4,KP_EVENT_AUX_FILL:5,KP_EVENT_AUX_FILL_REPLENISH:6,KP_EVENT_CANCEL_HOPPER_FILL:7,KP_EVENT_WITNESS:8,KP_EVENT_MYSTERY:9,KP_EVENT_PREEMPTIVE_FILL:10,KP_EVENT_PREEMPTIVE_AUX:11,KP_EVENT_GAME_HP_BONUS:12,KP_EVENT_NON_CASH_PRIZE:13,KP_EVENT_UNKNOWN:255},f=255,g=Error("No BE2 Response"),_=Error("Unknown BE2Response!"),E=Error("W2G Accrual Service is not enabled.");let S=2e3,m=!0,C=-1,b=-1,A=15e3,v=0,P=0,y="-1";const T=function(e,t){return new Promise((r,s)=>{t.sendBe2Message(e,(e,t)=>{if(e)s(e);else{const e=t[n.default.BE2_BASIC_RESPONSE];0===e.length?s(g):r(e)}})})},I=function(e){return new Promise((t,r)=>{let s=0;const a=l([[c.operation,[0,p.GET_REMOTE_HANDPAY_RESETCODE,0,0]]]),i=()=>{e.sendBe2Message(a,(e,a)=>{if(++s>=15)r(new Error("W2GAccrualService: initiateHandpayResetCycle response timeout"));else if(e)r(e);else{const e=a[n.default.BE2_BASIC_RESPONSE];0===e.length&&r(g),e.forEach(function(e){e.functionCode===c.operation?e.retvals[2]!==f?t({success:!0,handpayResetCode:e.retvals[2]}):setTimeout(()=>i(),S):r(_)})}})};i()})},R=function(e,t,r,n,s){return new Promise((a,i)=>{const o=l([[c.event,[e,t,r,n]],[c.setMenuCardLocked,[0,0,0,0]]]);T(o,s).then(e=>{const t={fjpEventResponse:[],setMenuCardLockedSuccess:!1};e.forEach(function(e){switch(e.functionCode){case c.event:t.fjpEventResponse=e.retvals;break;case c.setMenuCardLocked:t.setMenuCardLockedSuccess=!0;break;default:return i(_)}}),a(t)}).catch(e=>i(e))})},O=(e,t,r)=>new Promise((n,s)=>{const a=()=>{(e=>new Promise((t,r)=>{const n=l([[c.cardType,[0,0,0,0]]]);T(n,e).then(e=>{e.forEach(function(e){e.functionCode===c.cardType?t({cardType:e.retvals[0]}):r(_)})}).catch(e=>r(e))}))(r).then(r=>{-1!==e.indexOf(r.cardType)?(clearTimeout(C),n()):C=setTimeout(a,t)}).catch(e=>{clearTimeout(C),s(e)})};a()}),N=e=>new Promise((t,r)=>{const n=l([[c.operation,[0,p.CALL_ATTENDANT,0,0]]]);T(n,e).then(e=>{const n={};e.forEach(function(e){e.functionCode===c.operation?n.success=0===e.retvals[0]:r(_)}),t(n)}).catch(e=>r(e))}),L=(e,t)=>new Promise((r,n)=>{const s=l([[c.operation,[0,p.CHECK_JACKPOT_LIMIT,t,0]]]);T(s,e).then(e=>{const t={};e.forEach(function(e){e.functionCode===c.operation?t.success=e.retvals[0]:n(_)}),r(t)}).catch(e=>n(e))}),B=function(e,t){return new Promise((r,n)=>{const s=l([[c.operation,[0,p.RESET_HANDPAY_TO_CREDIT_METER,t,0]]]);T(s,e).then(e=>{e.forEach(function(e){e.functionCode!==c.operation&&n(_),r(e.retvals)})}).catch(e=>n(e))})};t.default=class{constructor(e,t,r,n,a){this._ngxComm=e,this._logger=t,this._config=r,this._m5Config=a,this._appStore=n,S=this._config.resetTimeout,m="boolean"!=typeof this._config.enabled||this._config.enabled,this._waitForCardTypeInterval=this._config.waitForCardTypeInterval,this._sentW2GOverride=!1;const o=()=>{this._appStore.setJackpotInProgressStatus(!1),this._sentW2GOverride||(this._sentW2GOverride=!0,u())},l=()=>{this._sentW2GOverride=!1,this._appStore.setJackpotInProgressStatus(!1),this.cleanup()},c=e=>{this._appStore.setJackpotInProgressStatus(!0),t.debug("W2GAccrualService: Received W2G Accrual screen trigger for Txn Id : "+e,null,i)},u=()=>{this.cleanup(),this.overrideW2GAccrual(1).then(()=>{t.debug("W2GAccrualService: OverrideW2GAccrualScreen Success at screen trigger.",null,i)}).catch(e=>{t.error({error:"W2GAccrualService: Received an error while trying to override W2G Accrual menu at screen trigger.",data:e.message},null,i)})};m&&(this._ngxComm.registerScreenTrigger(s.default.SESSION_SCREEN,()=>o()),this._ngxComm.registerScreenTrigger(s.default.XTRA_CREDIT_SESSION_SCREEN,()=>o()),this._ngxComm.registerScreenTrigger(s.default.W2G_ACCRUAL_SCREEN,({detail:{screenTrigger:e}})=>{if(this.resetW2GTxnId(),e&&e.displayMessage&&e.displayMessage.length>1){let t=e.displayMessage;this.setW2GTxnId(t),c(t)}else t.error({error:"W2GAccrualService: Txn Id is missing in W2G Screen Trigger from Adv",data:e},null,i)}),this._ngxComm.registerScreenTrigger(s.default.IDLE_SCREEN,()=>l()),u())}setW2GTxnId(e){this._logger.debug("W2GAccrualService: setW2GTxnId - updated W2G Txn Id from  "+y+" to "+e,null,i),y=e}getW2GTxnId(){return y}resetW2GTxnId(){this._logger.debug("W2GAccrualService: resetW2GTxnId - reset W2G Txn Id from  "+y+" to -1",null,i),y="-1"}overrideW2GAccrual(e=1){return m?new Promise((t,r)=>{const n=l([[c.override,[e,0,0,0]]]);T(n,this._ngxComm).then(e=>{e.forEach(function(e){if(e.functionCode!==c.override)return r(_)}),t()}).catch(e=>r(e))}):Promise.reject(E)}getSpecifics(){return this._logger.debug("W2GAccrualService: W2G getSpecifics requested from content.",null,i),v=0,m?new Promise((e,t)=>{b=setInterval(()=>{this.overrideW2GAccrual(1).then(()=>{this._logger.debug("W2GAccrualService: OverrideW2GAccrualScreen Success to extend timer.",null,i)}).catch(e=>{this._logger.error({error:"W2GAccrualService: Received an error while trying to override W2G Accrual to extend timer.",data:e.message},null,i)})},A);const r=l([[c.init,[0,0,0,0]],[c.operation,[0,p.GET_SELFSERVE_OPTIONS,0,0]],[c.getHandpayParams,[0,0,0,0]]]);T(r,this._ngxComm).then(r=>{const n={};n.w2gTransactionId=y,r.forEach(function(e){switch(e.functionCode){case c.init:break;case c.operation:n.selfServeOption=e.retvals[0],n.keytoCreditAvailable=1===e.retvals[2];break;case c.getHandpayParams:n.handpayType=e.retvals[0],P=n.handpayType,n.amountInCredits=e.retvals[1],n.amountInCents=e.retvals[2],n.w2gStatus=e.retvals[3];break;default:return t(_)}}),e(n)}).catch(e=>t(e))}):Promise.reject(E)}requestAttendant(e){return this._logger.debug("W2GAccrualService: requestAttendant called from content for Hanpday Amount "+e,null,i),m?new Promise((t,r)=>{N(this._ngxComm).then(e=>{if(this._logger.debug({debug:"W2GAccrualService: call attendant result",data:e},null,i),e.success)return O([d.attendant,d.supervisor,d.witness],this._waitForCardTypeInterval,this._ngxComm);r(new Error("W2GAccrualService: failed to call attendant"))}).then(n=>{this._logger.debug({debug:"W2GAccrualService: wait for card type attendant result",data:n},null,i),this._m5Config.w2g&&this._m5Config.w2g.jackpotLimitsCheck?L(this._ngxComm,e).then(e=>{e&&e.hasOwnProperty("success")&&(0===e.success?t({success:!0}):t({success:!1})),r(new Error("W2GAccrualService: failed to check Attendant Authroization Limits"))}):t({success:!0})}).catch(e=>r(e))}):Promise.reject(E)}resetToCreditMeter(e,t,r,n=!1){let s=0;return this._logger.debug("W2GAccrualService: resetToCreditMeter requested from content for amount : "+e+" witnessInitiated "+r+" pinValidated "+n+" Txn Id :"+y,null,i),m?(v+=n?v|u.IsSelfServe|u.IsKeyToCredit:v|u.IsKeyToCredit,new Promise((n,a)=>{let o="";P===h.KP_EVENT_GAME_WIN||P===h.KP_EVENT_CANCEL_CREDIT||P===h.KP_EVENT_SHORT_PAY?(s=t,o="credits"):(s=e,o="cents"),this._logger.debug("W2GAccrualService: 1st publishFJPEvent hp_type : "+P+" - fjp_param : "+v+" - for amount : "+s+" - in : "+o,null,i),R(s,P,0,v,this._ngxComm).then(e=>0!==e.fjpEventResponse[2]?a(new Error(`W2GAccrualService: FJPEvent Expected return value 0 for event , received ${e.fjpEventResponse[2]}`)):e.setMenuCardLockedSuccess?void 0:a(new Error("W2GAccrualService: set menu card unlocked failed"))).then(()=>{r&&(this._logger.debug("W2GAccrualService: 2nd publishFJPEvent with KP_EVENT_WITNESS for amount : "+s,null,i),R(s,h.KP_EVENT_WITNESS,0,0,this._ngxComm).then(e=>{if(!e.setMenuCardLockedSuccess)return a(new Error("W2GAccrualService: set menu card unlocked failed"))}))}).then(()=>{this._logger.debug("W2GAccrualService: resetToCreditMeter with OP RESET_HANDPAY_TO_CREDIT_METER called for amount : "+s,null,i),"-1"===y&&this._logger.error({error:"W2GAccrualService: resetToCreditMeter - Invalid Txn Id",data:y},null,i);const e=parseInt(y,16);return this._logger.debug("W2GAccrualService: resetToCreditMeter w2g_txnId : "+y+" binaryTxnId : "+e,null,i),B(this._ngxComm,e)}).then(()=>(this._logger.debug("W2GAccrualService: initiateHandpayResetCycle with op GET_REMOTE_HANDPAY_RESETCODE called for amount : "+s,null,i),I(this._ngxComm))).then(e=>{this.resetW2GTxnId(),this.cleanup(),this._logger.debug("W2GAccrualService: W2G Keyoff successfully completed for amount : "+s+" Txn Id :"+y,null,i),n({success:!0,handPayAmount:s,handpayResetCode:e.handpayResetCode})}).catch(e=>{this._logger.error({error:"W2GAccrualService: Received an error while trying to process resetToCreditMeter",data:e.message},null,i),this.cleanup(),this.overrideW2GAccrual(0).then(()=>{this._logger.debug("W2GAccrualService: OverrideW2GAccrualScreen Canceled at reset to credit meter.",null,i)}).catch(e=>{this._logger.error({error:"W2GAccrualService: Received an error while trying to cancel Override W2G Accrual menu at reset to credit meter.",data:e.message},null,i)}),a(e)})})):Promise.reject(E)}setAttendantReturn(){return this._logger.debug("W2GAccrualService: setAttendantReturn called",null,i),m?new Promise((e,t)=>{const r=l([[c.operation,[0,p.GET_FIRST_CARD,0,0]]]);T(r,this._ngxComm).then(r=>{const n={};r.forEach(function(e){if(e.functionCode!==c.operation)return t(_);n.success=0===e.retvals[0]}),e(n)}).catch(e=>t(e))}):Promise.reject(E)}validateWitness(){return this._logger.debug("W2GAccrualService: validateWitness called",null,i),m?new Promise((e,t)=>{const r=l([[c.operation,[0,p.GET_WITNESS_CARD,0,0]]]);T(r,this._ngxComm).then(r=>{const n={};r.forEach(function(e){if(e.functionCode!==c.operation)return t(_);n.success=0===e.retvals[0]}),e(n)}).catch(e=>t(e))}):Promise.reject(E)}isWitnessRequired(){return this._logger.debug("W2GAccrualService: isWitnessRequired called",null,i),m?new Promise((e,t)=>{const r=l([[c.isWitnessRequired,[0,0,0,0]]]);T(r,this._ngxComm).then(r=>{const n={};r.forEach(function(e){if(e.functionCode!==c.isWitnessRequired)return t(_);n.required=1===e.retvals[0]}),e(n)}).catch(e=>t(e))}):Promise.reject(E)}gotoLegacy(){return this._logger.debug("W2GAccrualService: gotoLegacy called",null,i),m?new Promise((e,t)=>{const r=n.default.createButtonPress("KEYPRESS_E");this.cleanup(),this.overrideW2GAccrual(0).then(()=>{this._logger.debug("W2GAccrualService: OverrideW2GAccrualScreen cancel Success at gotoLegacy.",null,i),this._ngxComm.sendMessage(r),e()}).catch(e=>t(e))}):Promise.reject(E)}cancelw2g(){return this._logger.debug("W2GAccrualService: cancelw2g called",null,i),m?new Promise((e,t)=>{this.cleanup(),this.overrideW2GAccrual(0).then(()=>{this._logger.debug("W2GAccrualService: OverrideW2GAccrualScreen cancel Success at cancelw2g.",null,i),e()}).catch(e=>t(e))}):Promise.reject(E)}cleanup(){this._logger.debug("W2GAccrualService: M5 W2G cleanup called",null,i),clearInterval(b),clearTimeout(C),C=-1,S=this._config.resetTimeout,v=0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(8));function a(e){return e&&e.__esModule?e:{default:e}}const i=["0x00","0x10","0x11","0x12","0x13","0x14","0x15","0x16","0x17","0x1B","0x1C","0x1D","0x1E","0x1F","0x20","0x21","0x22","0x23","0x24","0x25","0x26","0x27","0x28","0x29","0x2A","0x2B","0x2C","0x2D","0x2E","0x30","0x31","0x32","0x33","0x34","0x35","0x36","0x37","0x38","0x39","0x3A","0x3B","0x3C","0x3D","0x3E","0x40","0x44","0x45","0x46","0x47","0x4B","0x4D","0x4E","0x4F","0x50","0x51","0x52","0x53","0x54","0x55","0x56","0x57","0x58","0x59","0x5A","0x5B","0x5C","0x5D","0x5E","0x5F","0x68","0x69","0x6A","0x6B","0x6C","0x6D","0x6E","0x6F","0x78","0x79","0x7A","0x7B","0x7C","0x7D","0x7E","0x7F","0x80","0x81","0x82","0x83","0x84","0x85","0x86","0x87","0x88","0x89","0x8A","0x8B","0x8C","0x8D","0x8E","0x8F","0x90","0x91","0x92","0x93","0x94","0x95","0x96","0x97","0x98","0x99","0x9A","0x9B","0x9C","0x9D","0x9E","0x9F","0xA0","0xA1","0xA2","0xA3","0xA4","0xA5","0xA6","0xA7","0xA8","0xA9","0xAA","0xAB","0xAC","0xAD","0xAE","0xAF"],o=[],l=function(e){return JSON.parse(JSON.stringify(e))},c=function(e,t,r){const s=r.subscription[e];return s.length===t.length&&t.map(n.default.normalizeId).filter(function(e){return-1!==s.indexOf(e)}).length===s.length},u=function(e,t,r){return r.subscription[e]===t},d=function(e,t,r){const s=r.subscription[e];return void 0!==s&&("[object Array]"===Object.prototype.toString.call(s)&&(0!==s.length&&-1!==s.indexOf(n.default.normalizeId(t))))},p=function(e,t,r,s){let a=!0===e?l(i):t.map(n.default.normalizeId);return!0===e&&(t.forEach(e=>{-1===a.indexOf(e)&&a.push(e)}),a=a.filter(e=>-1===r.indexOf(e))),{cmd:"subscription",ver:"1.0",subscription:{screenTrigger:a.map(n.default.normalizeId),tokenUpdate:f(s),gameEvent:o.map(n.default.normalizeId),vpcPlayerData:h("vpcPlayerData",s),statusUpdate:h("statusUpdate",s),levelUpdate:h("levelUpdate",s),bonusHit:h("bonusHit",s),gameStart:h("gameStart",s),gameEnd:h("gameEnd",s),patronData:h("patronData",s),fullscreenState:h("fullscreenState",s),windowState:h("windowState",s),drawStatus:h("drawStatus",s),ismUpdate:h("ismUpdate",s),disableAutoHide:h("disableAutoHide",s),languageUpdate:h("languageUpdate",s),userTokenUpdate:function(e){const t=[];if(e&&e.userTokenUpdate&&e.userTokenUpdate.enabled&&e.userTokenUpdate.list)for(let r=0;r<e.userTokenUpdate.list.length;r++)t.push(`0x${e.userTokenUpdate.list[r].toString(16).toUpperCase().padStart(2,"0")}`);return t}(s),cardlessStatus:h("cardlessStatus",s)}}},h=function(e,t){var r=!0;return t&&t.hasOwnProperty(e)&&(r=t[e]),r},f=function(e){const t=[];return e&&e.tokenUpdate&&e.tokenUpdate.enabled&&e.tokenUpdate.list&&e.tokenUpdate.list.map(function(e){e.enabled&&e.id&&t.push(n.default.normalizeId(e.id))}),t};t.default=class{constructor(e,t,r=!1,n=[],a=s.default,i){if(!e)throw"screen id list is not optional";this.schemas=a,this.logger=t,this.screenIdList=e,this.subscribeAllTriggers=r,this.legacyIdList=n,this.ngxSubscriptionConfig=i,this.currentSub=p(this.subscribeAllTriggers,this.screenIdList,this.legacyIdList,this.ngxSubscriptionConfig),this.schemas.validate(this.currentSub,"subscription").then(()=>{},e=>{throw e})}getSubscription(){return l(this.currentSub)}resetSubscription(){this.currentSub=p(this.subscribeAllTriggers,this.screenIdList,this.legacyIdList,this.ngxSubscriptionConfig)}isAttrEqual(e,t){return this.currentSub.subscription[e]instanceof Array?c(e,t,this.currentSub):u(e,t,this.currentSub)}doesAttrContainId(e,t){return this.currentSub.subscription[e]instanceof Array?d(e,n.default.normalizeId(t),this.currentSub):u(e,n.default.normalizeId(t),this.currentSub)}setAttribute(e,t){const r=l(this.currentSub);r.subscription[e]=t instanceof Array?t.map(n.default.normalizeId):t,this.schemas.validate(r,"subscription").then(()=>{this.currentSub=r},()=>{this.logger.error({error:"Setting subscription attribute resulted in a invalid subscription according to schema. The attribute value will not be set.",data:{attribute:e,value:t}},!0)})}addId(e,t){return new Promise((r,s)=>{if("[object Array]"!==Object.prototype.toString.call(this.currentSub.subscription[e]))return s(new Error("Unable to add Id, attribute is not an array."));if(d(e,t,this.currentSub))return this.logger.warn({warn:"Adding subscription id that already exists. The attibute value will not be updated.",data:{attribute:e,id:t}},!0),r();const a=l(this.currentSub);a.subscription[e].push(n.default.normalizeId(t)),this.schemas.validate(a,"subscription").then(()=>{this.currentSub=a,r()}).catch(()=>{s(new Error("Adding subscription id resulted in a invalid subscription according to schema. The attibute value will not be updated."))})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(4));t.default=class{constructor(){this.TRIGGER_TYPE="trigger",this.TOKEN_TYPE="token",this.tokens={},this.lastTokenId=null,this.triggers={},this.lastTriggerId=null,this.ordinal=0,this.contentState={}}sortByOrdinal(e,t){return e.ordinal-t.ordinal}removeOrdinal(e){return delete e.ordinal,e}addStateElement(e,t,r){return new Promise(n=>{let s;return s=setTimeout(function(){delete this.contentState[e]}.bind(this),r),t={value:t,timeoutinstance:s},void 0!==this.contentState[e]&&void 0!==this.contentState[e].timeoutinstance&&clearTimeout(this.contentState[e].timeoutinstance),this.contentState[e]=t,n()})}removeStateElement(e){return new Promise(t=>(void 0!==this.contentState[e]&&void 0!==this.contentState[e].timeoutinstance&&clearTimeout(this.contentState[e].timeoutinstance),delete this.contentState[e],t()))}add(e,t,r,s){e===this.TRIGGER_TYPE&&t===n.default.IDLE_SCREEN&&this.clear(),e===this.TRIGGER_TYPE&&(this.triggers[t]={value:r,ordinal:this.ordinal++,messageTokens:s},this.lastTriggerId=t),e===this.TOKEN_TYPE&&(this.tokens[t]={value:r,ordinal:this.ordinal++},this.lastTokenId=t)}storeToken(e,t){this.add(this.TOKEN_TYPE,e,t)}getTokens(){const e=[];return Object.keys(this.tokens).forEach(t=>{e.push({id:t,value:this.tokens[t].value,ordinal:this.tokens[t].ordinal})},this),e.sort(this.sortByOrdinal).map(this.removeOrdinal)}getLastToken(){if(null!==this.lastTokenId)return{id:this.lastTokenId,value:this.tokens[this.lastTokenId].value}}storeTrigger(e,t,r={}){this.add(this.TRIGGER_TYPE,e,t,r)}getTriggers(){const e=[];return Object.keys(this.triggers).forEach(t=>{e.push({id:t,value:this.triggers[t].value,ordinal:this.triggers[t].ordinal,messageTokens:this.triggers[t].messageTokens})},this),e.sort(this.sortByOrdinal).map(this.removeOrdinal)}getLastTrigger(){if(null!==this.lastTriggerId)return{id:this.lastTriggerId,value:this.triggers[this.lastTriggerId].value,messageTokens:this.triggers[this.lastTriggerId].messageTokens}}getAll(){let e=[];const t=Object.keys(this.triggers),r=Object.keys(this.tokens);return t.forEach(t=>{e.push({type:this.TRIGGER_TYPE,id:t,value:this.triggers[t].value,ordinal:this.triggers[t].ordinal,messageTokens:this.triggers[t].messageTokens})},this),r.forEach(t=>{e.push({type:this.TOKEN_TYPE,id:t,value:this.tokens[t].value,ordinal:this.tokens[t].ordinal})},this),e.sort(this.sortByOrdinal).map(this.removeOrdinal)}clear(){this.tokens={},this.triggers={},this.lastTokenId=null,this.lastTriggerId=null,this.ordinal=0}storeStateElement(e,t,r){return new Promise(n=>{0===(r=r||0)&&(r=864e5),this.addStateElement(e,t,r).then(()=>n(this.contentState))})}getStateElement(e){if(void 0!==this.contentState[e])return this.contentState[e].value}getContentState(){return this.contentState}deleteStateElement(e){return new Promise(t=>{this.removeStateElement(e).then(()=>t(this.contentState))})}clearContentState(){return this.contentState={},this.contentState}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.statusMessageMap={}}setStatusMessages(e){this.statusMessageMap=e}getStatusMessages(){return this.statusMessageMap}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(4)),s=c(r(2)),a=c(r(208)),i=c(r(3)),o=r(40),l=c(r(8));function c(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,r,n){if(!t)throw"subscription manager is not optional";this.wsHost=e,this.subManager=t,this.logger=r,this.m5Config=n,this.gamePlayActive=!1,this.SCREEN_TRIGGER_CMD="screenTrigger",this.TOKEN_CMD="tokenUpdate",this.SUB_ACK_CMD="subscriptionAck",this.VPC_PLAYER_DATA_CMD="vpcPlayerData",this.STATUS_UPDATE_CMD="statusUpdate",this.LEVEL_UPDATE_CMD="levelUpdate",this.BONUS_HIT_CMD="bonusHit",this.GAME_START_CMD="gameStart",this.GAME_END_CMD="gameEnd",this.PATRON_DATA_CMD="patronData",this.PATRON_DATAEXT_CMD="patronDataExt",this.BE2FUNCTION_RESPONSE_CMD="be2BasicResponse",this.BE2FUNCTION_CMD="be2BasicFunction",this.QR_CODE_CMD="qrCode",this.GAME_EVENT_CMD="gameEvent",this.FULL_SCREEN_STATE="fullscreenState",this.WINDOW_STATE="windowState",this.ISM_UPDATE="ismUpdate",this.DRAW_STATUS="drawStatus",this.SERVER_ADDRESSES="serverAddresses",this.FORCE_CARD_OUT_ACK="forceCardOutAck",this.LANGUAGE_UPDATE="languageUpdate",this.USER_TOKEN_CMD="userTokenUpdate",this.CARDLESS_STATUS_CMD="cardlessStatus",this.HEARTBEAT_MESSAGE={cmd:"heartbeat",ver:"1.0"},this.STATE_STARTUP=0,this.STATE_SUB_SENT=1,this.STATE_CONTENT_READY=2,this.be2MsgProcessor=new a.default(e=>{this.sendMessage(e)},r,n.be2MessageProcessor),this.heartbeatInterval=0,this.connectionWatcherHandler=0,this.serverPingFailed=!1,this.state=this.STATE_STARTUP,this.screenTriggers=[],this.tokenUpdates=[],this.userTokenUpdates=[],this.currentTokenValues={},this.currentUserTokenValues={},this.vpcPlayerData={},this.statusUpdate={},this.levelUpdate={},this.bonusHit={},this.gameStart={},this.gameEnd={},this.patronData={},this.patronDataExt={},this.windowState={},this.ismUpdate={},this.drawStatus={},this.subscribers=[],this.languageUpdate={},this.cardlessStatus={};const s=/^0[xX][0-9a-fA-F]{2}$/;this.isValidId=function(e){return s.test(e)},this.isIdInList=function(e,t){const r="string"==typeof t?parseInt(t,16):t;return e.indexOf(r)>-1},this.sendSubscriptionTimeout=0,this.m5OverrideSessionScreenTrigger=!1,this.m5OverrideSessionScreenTriggerTime=null,this.firstSessionScreenFromAdv=null,this.SERVER_FORCE_STOP_HEARTBEAT="serverForceStopHeartBeat",this.serverInitiatedStopHeartbeat=!1,i.default.subscribe(this.SERVER_FORCE_STOP_HEARTBEAT,this.forceStopHeartBeat.bind(this)),this.registerDrawStatus(function(e){this.drawStatus=e})}resetNgxCache(){this.vpcPlayerData={},this.statusUpdate={},this.levelUpdate={},this.patronData={},this.patronDataExt={},this.ismUpdate={},this.drawStatus={},this.cardlessStatus={},this.m5OverrideSessionScreenTrigger=!1,this.m5OverrideSessionScreenTriggerTime=null,this.firstSessionScreenFromAdv=null}forceStopHeartBeat(){this.serverInitiatedStopHeartbeat=!0}hostReachable(){var e=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");e.open("HEAD","//"+window.location.host+"/shell/launcher.html?rand="+(new Date).getTime(),!1);var t=!1;try{e.send(),t=e.status>=200&&(e.status<300||304===e.status)}catch(e){t=!1}return t||(this.serverPingFailed=!0),t}monitorConnection(){var e=!navigator.onLine,t=!this.hostReachable();(e||t)&&this.stopHeartbeat(),this.connectionWatcherHandler=setTimeout(this.monitorConnection.bind(this),this.m5Config.unreachableHeartbeatInterval)}setupWebSocket(){return new Promise(e=>{const t=()=>{0!==this.connectionWatcherHandler&&(clearTimeout(this.connectionWatcherHandler),this.connectionWatcherHandler=0),this.m5Config.unreachableHeartbeatInterval>0?this.connectionWatcherHandler=setTimeout(this.monitorConnection.bind(this),this.m5Config.unreachableHeartbeatInterval):this.logger.debug({debug:"Not monitoring connection to M5 server. Interval set to:",data:this.m5Config.unreachableHeartbeatInterval},!0),this.ngxSocket=new WebSocket(this.wsHost),this.ngxSocket.onopen=(()=>{this.actuallySendSubscription(),e()}),this.ngxSocket.onmessage=(e=>{this.logger.debug({debug:"Got an event from Adv:",data:e.data},!0);try{const t=JSON.parse(e.data);this.gotMessage(t)}catch(t){const r="Got something that wasn't JSON, giving up";this.logger.error({error:r,data:e.data},!0)}}),this.ngxSocket.onerror=(e=>{this.logger.error({error:"Ngx websocket connection errored out with: "+JSON.stringify(e)},!0),this.state=self.STATE_STARTUP}),this.ngxSocket.onclose=(e=>{this.logger.warn({warning:"Ngx is disconnected, waiting 2 seconds to connect again. Connection message: "+JSON.stringify(e)},!0),this.state=this.STATE_STARTUP,this.stopHeartbeat(),setTimeout(t,2e3)})};t()})}registerScreenTrigger(e,t){if(!this.isValidId(e))return void this.logger.error({error:"Register screen trigger called with invalid triggerName: "+e},!0);const r=parseInt(e,16);-1===this.screenTriggers.indexOf(r)&&this.screenTriggers.push(r);const n={type:"s"+s.default.createIdString(r),callback:t};this.subscribers.push(n),i.default.subscribe(n.type,n.callback)}registerTokenUpdate(e,t){if(!this.isValidId(e))return void this.logger.error({error:"Register token update called with invalid tokenName: "+e},!0);const r=parseInt(e,16);-1===this.tokenUpdates.indexOf(r)&&(this.tokenUpdates.push(r),this.currentTokenValues[s.default.createIdString(r)]="");const n={type:"t"+s.default.createIdString(r),callback:t};this.subscribers.push(n),i.default.subscribe(n.type,n.callback)}registerPatronDataExt(e){const t={type:this.PATRON_DATAEXT_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerPatronData(e){const t={type:this.PATRON_DATA_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerCardlessStatus(e){const t={type:this.CARDLESS_STATUS_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerIsmUpdate(e){const t={type:this.ISM_UPDATE,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerVpcPlayerData(e){const t={type:this.VPC_PLAYER_DATA_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerLevelUpdate(e){const t={type:this.LEVEL_UPDATE_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerQRCode(e){const t={type:this.QR_CODE_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerGameEvent(e){const t={type:this.GAME_EVENT_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerFullScreenState(e){const t={type:this.FULL_SCREEN_STATE,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerStatusUpdate(e){const t={type:this.STATUS_UPDATE_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerDrawStatus(e){const t={type:this.DRAW_STATUS,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerForceCardOutAck(e){const t={type:this.FORCE_CARD_OUT_ACK,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}sendSubscription(){clearTimeout(this.sendSubscriptionTimeout),this.sendSubscriptionTimeout=setTimeout(()=>this.actuallySendSubscription(),100,this)}registerWindowState(e){const t={type:this.WINDOW_STATE,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerServerAddresses(e){const t={type:this.SERVER_ADDRESSES,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerGameStart(e){const t={type:this.GAME_START_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerGameEnd(e){const t={type:this.GAME_END_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerBonusHit(e){const t={type:this.BONUS_HIT_CMD,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerLanguageUpdate(e){const t={type:this.LANGUAGE_UPDATE,callback:e};this.subscribers.push(t),i.default.subscribe(t.type,t.callback)}registerUserTokenUpdate(e,t){if(!this.isValidId(e))return void this.logger.error({error:"Register user token update called with invalid userTokenName: "+e},!0);const r=parseInt(e,16);-1===this.userTokenUpdates.indexOf(r)&&(this.userTokenUpdates.push(r),this.currentUserTokenValues[s.default.createIdString(r)]="");const n={type:"u"+s.default.createIdString(r),callback:t};this.subscribers.push(n),i.default.subscribe(n.type,n.callback)}actuallySendSubscription(){if(this.ngxSocket.readyState===WebSocket.OPEN){const e=this.subManager.getSubscription();this.sendMessage(e),this.state=this.STATE_SUB_SENT}}getTokens(e){const t={cmd:"getToken",ver:"1.0",getToken:[]};if(e.length<=5)t.getToken=e,this.sendMessage(t);else for(let r=0;r<e.length;r++)t.getToken=e[r],this.sendMessage(t)}getCurrentTokenValue(e){return this.currentTokenValues[s.default.normalizeId(e)]}getCurrentVpcPlayerData(){return this.vpcPlayerData}getCurrentIsmUpdateData(){return this.ismUpdate}getCurrentStatusUpdate(){return this.statusUpdate}getCurrentLevelUpdate(){return this.levelUpdate}getCurrentBonusHit(){return this.bonusHit}getCurrentGameStart(){return this.gameStart}getCurrentGameEnd(){return this.gameEnd}getCurrentPatronDataExt(){return this.patronDataExt}getCurrentPatronData(){return this.patronData}asyncNgxCmd(e,t){return void 0===this[t]?(this.logger.debug({warn:"there is no the function in NgxComm",data:t},!0),new Promise(function(){reject("no property in NgxComm:"+t)})):(0,o.asyncCallWithPredicate)(e,this[t].bind(this),3*this.m5Config.be2MessageProcessor.timeOut||6e3)}getCurrentWindowState(){return this.windowState}getCurrentDrawStatus(){return this.drawStatus}getCurrentLanguageUpdate(){return this.languageUpdate}getCurrentUserTokenValue(e){return this.currentUserTokenValues[s.default.normalizeId(e)]}gotMessage(e){const t=e.cmd,r=e.cmd+" is invalid according to the schema. Rejecting message.",a=e.cmd+" is invalid according to the schema. Continuing anyway.";if(this.state===this.STATE_SUB_SENT){if(t===this.SUB_ACK_CMD)return this.validateSchema(e.cmd,e,a).then(()=>{this.logger.debug(e,!0)}),this.state=this.STATE_CONTENT_READY,void this.startHeartbeat()}else this.state!==this.STATE_CONTENT_READY&&this.logger.warn({warn:"Got a message before we were ready. Using it anyway",data:e},!0);switch(e.cmd){case this.SCREEN_TRIGGER_CMD:this.validateSchema(e.cmd,e,r).then(()=>{if(this.isIdInList(this.screenTriggers,e.screenTrigger.screenId)){this.logger.debug({debug:"Valid screen trigger received",data:e},!0);const t=s.default.normalizeId(e.screenTrigger.screenId);let r={};t===n.default.IDLE_SCREEN&&this.resetNgxCache();for(const t in e.screenTrigger)e.screenTrigger.hasOwnProperty(t)&&e.screenTrigger[t]!==e.screenTrigger.screenId&&e.screenTrigger[t]!==e.screenTrigger.displayMessage&&(r[t]=e.screenTrigger[t]);this.checkM5InitiatedSessionScreen(t)||i.default.publish("s"+t,s.default.createScreenTrigger(t,e.screenTrigger.displayMessage,r))}else this.logger.error({error:"Unsolicited Screen Trigger. Rejecting message.",data:e},!0)});break;case this.TOKEN_CMD:this.validateSchema(e.cmd,e,r).then(()=>{for(let t=0;t<e.tokenUpdate.length;t++){if(!this.isIdInList(this.tokenUpdates,e.tokenUpdate[t].id)){this.logger.error({error:"Unsolicited Token Update. Rejecting message.",data:e.tokenUpdate[t]},!0);continue}const r=s.default.normalizeId(e.tokenUpdate[t].id);this.currentTokenValues[r]=e.tokenUpdate[t].value,i.default.publish("t"+r,s.default.createTokenUpdate(r,this.currentTokenValues[r]))}});break;case this.BE2FUNCTION_RESPONSE_CMD:this.validateSchema(e.cmd,e,r).then(()=>{this.be2MsgProcessor.processResponse(e)});break;case this.GAME_EVENT_CMD:this.validateSchema(e.cmd,e,r).then(()=>{const t=s.default.normalizeId(e.gameEvent);this.subManager.doesAttrContainId("gameEvent",t)?i.default.publish(this.GAME_EVENT_CMD,{cmd:e.cmd,ver:e.ver,gameEvent:t}):this.logger.error({error:"Unsolicited Game Event. Rejecting message.",data:e},!0)});break;case this.USER_TOKEN_CMD:this.validateSchema(e.cmd,e,r).then(()=>{for(let t=0;t<e.userTokenUpdate.length;t++){if(!this.isIdInList(this.userTokenUpdates,e.userTokenUpdate[t].id)){this.logger.error({error:"Unsolicited Token Update. Rejecting message.",data:e.userTokenUpdate[t]},!0);continue}const r=s.default.normalizeId(e.userTokenUpdate[t].id);this.currentUserTokenValues[r]=e.userTokenUpdate[t].value,i.default.publish("u"+r,s.default.createUserTokenUpdate(r,this.currentUserTokenValues[r]))}});break;case this.LEVEL_UPDATE_CMD:Array.isArray(e.levelUpdate)&&e.levelUpdate.map(e=>{if("number"==typeof e.isBbPGBonus)return e.isBbPGBonus=1==e.isBbPGBonus,e}),this.validateSchema(e.cmd,e,r).then(()=>{"object"==typeof this[t]&&(this[t]=e),i.default.publish(e.cmd,e)});break;case this.ISM_UPDATE:case this.DRAW_STATUS:case this.BONUS_HIT_CMD:case this.PATRON_DATAEXT_CMD:case this.PATRON_DATA_CMD:case this.QR_CODE_CMD:case this.FULL_SCREEN_STATE:case this.VPC_PLAYER_DATA_CMD:case this.STATUS_UPDATE_CMD:case this.WINDOW_STATE:case this.SERVER_ADDRESSES:case this.FORCE_CARD_OUT_ACK:case this.GAME_START_CMD:case this.GAME_END_CMD:case this.LANGUAGE_UPDATE:case this.CARDLESS_STATUS_CMD:this.validateSchema(e.cmd,e,r).then(()=>{var r=!1;e.cmd===this.GAME_START_CMD?this.gamePlayActive=!0:e.cmd===this.GAME_END_CMD&&(this.gamePlayActive||(r=!0),this.gamePlayActive=!1),"object"==typeof this[t]&&(this[t]=e),r||i.default.publish(e.cmd,e)});break;case this.SUB_ACK_CMD:break;default:this.logger.error({error:"Received unhandled command",data:e},!0)}}startHeartbeat(){this.serverPingFailed||(0!==this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{this.serverInitiatedStopHeartbeat||this.sendMessage(this.HEARTBEAT_MESSAGE)},5e3))}stopHeartbeat(){0!==this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=0)}createFunctionList(e){const t=[];for(let r=0;r<e.length;r++)e[r].hasOwnProperty("functionCode")&&t.push(e[r].functionCode);return t}sendMessage(e){this.ngxSocket.readyState===WebSocket.OPEN?(void 0!==e.cmd&&e.cmd===this.HEARTBEAT_MESSAGE.cmd||(void 0!==e.cmd&&e.cmd===this.BE2FUNCTION_CMD?this.logger.debug({debug:"Be2 Function sent",data:e},!0):this.logger.debug(e,!1)),this.ngxSocket.send(JSON.stringify(e))):this.logger.error({error:"Tried to send message but websocket is not connected.",data:e},!1)}sendBe2Message(e,t){this.be2MsgProcessor.makeRequest(e,t)}validateSchema(e,t,r){return new Promise((n,s)=>{l.default.validate(t,e).then(()=>{n()}).catch(e=>{this.logger.error({error:"Schema validation threw an exception: "+e+r,data:t},!0),s()})})}cleanup(){this.subscribers.forEach(function(e){i.default.unsubscribe(e.type,e.callback)}),this.logger.debug({debug:"NgxComm: Cleaning up."},!0)}initiateM5_AdvScreenTrigger(e,t=!1){this.m5OverrideSessionScreenTrigger=!t,this.m5OverrideSessionScreenTriggerTime=(new Date).getTime();const r=s.default.normalizeId(e);if(r){let t=this.m5Config.overrideSessionScreenMessage,n=[],a=s.default.createScreenTrigger(e,t,n);i.default.publish("s"+r,a)}}setNewPatronRank(e,t){let r={cmd:"patronDataExt",ver:"1.0",patronDataExt:{sequenceId:0,playerRank:t,playerRankIndex:e}};this.patronDataExt=r,i.default.publish(r.cmd,r)}checkM5InitiatedSessionScreen(e){let t=!1;if(this.m5Config.overrideSessionScreenTrigger&&(!this.m5OverrideSessionScreenTrigger||e!==n.default.SESSION_SCREEN&&e!==n.default.PRELIMINARY_WELCOME&&e!==n.default.WELCOME_SCREEN||(t=!0),e===n.default.SESSION_SCREEN))if(null===this.firstSessionScreenFromAdv&&this.m5OverrideSessionScreenTrigger){this.firstSessionScreenFromAdv=(new Date).getTime();var r=((this.firstSessionScreenFromAdv-this.m5OverrideSessionScreenTriggerTime)/1e3).toFixed(2);this.logger.debug({debug:"NgxComm: checkM5InitiatedSessionScreen - m5 session screen performance time in secs : "+r},!0),this.m5OverrideSessionScreenTrigger=!1,t=!1}else if(null!==this.firstSessionScreenFromAdv){var s=((new Date).getTime()-this.firstSessionScreenFromAdv)/1e3;this.m5Config.duplicateSessionScreenTimeInSecs>=s&&(this.logger.debug({debug:"NgxComm: checkM5InitiatedSessionScreen - Duplicate session screen received from Adv with in  : "+s+" secs, so ignore this"},!0),t=!0)}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(8));const s=e=>({cmd:"be2BasicFunction",ver:"1.0",be2BasicFunction:(e=>JSON.parse(JSON.stringify(e)))(e)}),a=()=>(e,t,r,n,s,a)=>({error:e,request:t,response:r,ticks:n,delay:s,maxTicks:a}),i=()=>(e,t,r,n,s,a)=>({debug:e,request:t,response:r,ticks:n,delay:s,maxTicks:a}),o=()=>(e,t,r,n,s,a)=>{let i=t+r,o="";return{debug:e,successfulRequests:t,unsuccessfulRequests:r,unsolicitedResponses:n,successRate:o=i>0?0===r?"%100":"%"+Math.trunc(t/i*100):"N/A",delay:s,maxTicks:a}};t.default=class{constructor(e,t,r){this.metricCounter=0,this.successfulRequests=0,this.failedRequests=0,this.unsolicitedResponses=0,this.requests=[],this.pendingRequests=[],this.pendingResponses=[],this.logger=t,this.dropQueueOnTimeout=!(!r||"boolean"!=typeof r.dropQueueOnTimeout)&&r.dropQueueOnTimeout,this.delay=50,this.maxTicks=50,this.metricInterval=36e5,r&&(r.interval&&r.interval>=5&&r.interval<=1e3&&(this.delay=r.interval),r.timeout&&r.timeout>=this.delay&&r.timeout<=6e4?this.maxTicks=r.timeout/this.delay:this.maxTicks=2500/this.delay,r.metricInterval&&r.metricInterval>=6e4&&r.metricInterval<=864e5&&(this.metricInterval=r.metricInterval)),this.errorMsg=a(),this.debugMsg=i(),this.metricMsg=o(),this.tickId=window.setInterval(()=>{const t=()=>{let e=this.dropQueueOnTimeout?"All requests":"Request",t=this.errorMsg("BE2 Basic Function request timed out. "+e+" removed from the queue.",this.requests[0].request,null,this.requests[0].ticks,this.delay,this.maxTicks);if(this.logger.error(t,!0),this.dropQueueOnTimeout)this.requests.forEach(e=>{this.failedRequests++,"function"==typeof e.callback&&(t=this.errorMsg("BE2 Basic Function request timed out. Request removed from the queue.",e.request,null,e.ticks,this.delay,this.maxTicks),e.callback.call(void 0,t))}),this.requests=[];else{this.failedRequests++;let e=this.requests[0];"function"==typeof e.callback&&e.callback.call(void 0,t),this.requests.splice(0,1)}};let r=null,n=[...this.pendingResponses];this.pendingResponses=[];for(let e=n.length-1;e>-1;e--)try{let t=this.requests[0];if(this.isRequest(t.request,n[e])){this.successfulRequests++,"function"==typeof t.callback&&t.callback.call(void 0,null,n[e]);const r={debug:"Response from BE2 matched the active request. Total Response time: "+t.ticks*this.delay+"ms. ",totalTicks:t.ticks,delay:this.delay,maxTicks:this.maxTicks};this.logger.debug(r,!0),this.requests.splice(0,1);break}r=this.errorMsg("Be2 Basic Response processed but no matching request available. Rejecting message.",n[e],t),this.logger.error(r,!0),this.unsolicitedResponses++}catch(e){r=this.errorMsg("An exception occurred while processing active be2BasicResponses. "+e),this.logger.error(r,!0)}this.requests=this.requests.concat(this.pendingRequests),this.pendingRequests=[];try{if(this.requests.length>0){let r=this.requests[0];r.pending?(t=>{t.pending=!1,e(t.request)})(r):r.ticks>=this.maxTicks?t():r.ticks++}}catch(e){r=this.errorMsg("An exception occurred while processing active be2BasicFunction requests."+e),this.logger.error(r,!0)}},this.delay),window.setInterval(()=>{this.metricCounter++;let e=this.metricMsg("BE2 Request/Response health check: "+this.metricCounter,this.successfulRequests,this.failedRequests,this.unsolicitedResponses,this.delay,this.maxTicks);this.logger.debug(e,!0)},this.metricInterval)}makeRequest(e,t){const r=s(e);n.default.validate(r,"be2BasicFunction").then(()=>{this.pendingRequests.push({request:r,callback:t,pending:!0,ticks:0})},()=>{const e=this.errorMsg("Be2 Basic Function is invalid according to the schema. Rejecting message.",r);this.logger.error(e,!0),"function"==typeof t&&t.call(void 0,e)})}processResponse(e){n.default.validate(e,"be2BasicResponse").then(()=>{const t=this.errorMsg("Be2 Basic Response received but there are no active requests. Rejecting message.",e);this.requests.length>0&&!this.requests[0].pending?this.pendingResponses.push(e):(this.logger.error(t,!0),this.unsolicitedResponses++)},()=>{const t=this.errorMsg("Be2 Basic Response is invalid according to the schema. Rejecting message.",e);this.logger.error(t,!0)})}isRequest(e,t){if(e.be2BasicFunction.length!==t.be2BasicResponse.length)return!1;let r,n=null;const s=e.be2BasicFunction.map(e=>e.functionCode),a=t.be2BasicResponse.map(e=>e.functionCode);for(r=0;r<s.length;r++)if(s[r]!==a[r]){if(0!==a[r])return!1;n=this.debugMsg("WARN: NgxCommBe2MessageProcessor received a response for the invalid be2BasicFunction: "+s[r]+". It's likely this function should not be called."),this.logger.debug(n,!0)}else-1===t.be2BasicResponse[r].retvals[0]&&-1===t.be2BasicResponse[r].retvals[1]&&-1===t.be2BasicResponse[r].retvals[2]&&-1===t.be2BasicResponse[r].retvals[3]&&(n=this.debugMsg("WARN: NgxCommBe2MessageProcessor received a response for the disabled be2BasicFunction: "+a[r]+". It's likely this function should not be called."),this.logger.debug(n,!0));return!0}cleanup(){window.clearInterval(this.tickId)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(2)),s=c(r(41)),a=c(r(40)),i=c(r(39)),o=c(r(4)),l=c(r(3));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(s,a){try{var i=t[s](a),o=i.value}catch(e){return void r(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}let d=document.createElement("a"),p=document.createElement("a");t.default=class{static compareURLs(e,t){d.href=e.toLocaleLowerCase(),p.href=t.toLocaleLowerCase();let r=d.protocol==p.protocol&&d.host==p.host&&d.pathname==p.pathname&&d.search==p.search,n=d.hash==p.hash;return{exactSame:r&&n,needsRefresh:!r,onlyHashChanged:r&&!n}}static isEmptyObject(e){return null===e||0===Object.keys(e).length}static createUrl(e,t){if(void 0===t)return e.toString();let r;if(void 0!==e){d.href=t;let n=""==d.search?`?${e}`:`${d.search}&${e}`;r=d.protocol+"//"+d.hostname+(""==d.port?"":`:${d.port}`)+d.pathname+n+d.hash}else r=t;return r}static registerForUpdates(e,t,r){const n=r.getSubscription().subscription,s=n.screenTrigger,a=n.tokenUpdate,i=n.userTokenUpdate;s.forEach(r=>{t.registerScreenTrigger(r,e.sendMessage)}),a.forEach(r=>{t.registerTokenUpdate(r,e.sendMessage)}),i.forEach(r=>{t.registerUserTokenUpdate(r,e.sendMessage)}),t.registerWindowState(e.sendMessage),t.registerVpcPlayerData(e.sendMessage),t.registerPatronData(e.sendMessage),t.registerPatronDataExt(e.sendMessage),t.registerQRCode(e.sendMessage),t.registerLevelUpdate(e.sendMessage),t.registerIsmUpdate(e.sendMessage),t.registerGameEvent(e.sendMessage),t.registerStatusUpdate(e.sendMessage),t.registerDrawStatus(e.sendMessage),t.registerServerAddresses(e.sendMessage),t.registerForceCardOutAck(e.sendMessage),t.registerGameStart(e.sendMessage),t.registerGameEnd(e.sendMessage),t.registerBonusHit(e.sendMessage)}static formatEvent(e){return e&&e instanceof CustomEvent?e.detail:e}static getLatestAndSend(e,t,r,s=[]){const a=r.getSubscription().subscription.tokenUpdate;let i;s&&"length"in s&&s.forEach(t=>{e.sendMessage(this.formatEvent(t))}),a.forEach(r=>{const s=t.getCurrentTokenValue(r);void 0!==s&&e.sendMessage(n.default.createTokenUpdate(r,s))}),i=t.getCurrentVpcPlayerData(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentStatusUpdate(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentLevelUpdate(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentBonusHit(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentPatronData(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentPatronDataExt(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentWindowState(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentDrawStatus(),this.isEmptyObject(i)||e.sendMessage(i),i=t.getCurrentIsmUpdateData(),this.isEmptyObject(i)||e.sendMessage(i)}static load(e,t){return new Promise(r=>{e.setAttribute("src",t),e.onload=function(){r(this.src)}})}static loadAndSendLatest(e,t,r,n,s,a=[]){return new Promise((i,o)=>{try{if(e.element.contentWindow.location.href&&""!==t){t=this.createUrl(e.pageUrl,t);let c=this.compareURLs(t,e.element.contentWindow.location.href);c.needsRefresh?(this.load(e.element,t).then(t=>{this.getLatestAndSend(e,r,n,a),e.element.onload=(()=>{this.getLatestAndSend(e,r,n,a)}),i(t)}).catch(o),s.hideFullscreenOnScreenTriggers&&l.default.publish("hide-full-screen")):(c.onlyHashChanged&&(e.element.setAttribute("src",t),this.getLatestAndSend(e,r,n,a)),i(t))}else o()}catch(e){o(e)}})}static canSendMessage(e){return{sendMessage:t=>{const r=this.formatEvent(t);null!==e.element&&void 0!==e.element&&null!==e.element.contentWindow&&void 0!==e.element.contentWindow?(a.default.postMessage(e.element.contentWindow,r),i.default.Instance().broadcastMessage(r)):e.logger.warn({warn:`ViewController: ${e.name} - Unable to send message to content, the element or content window is not defined`,data:r},!1)}}}static canSetupIframe(e){var t=this;return{setupIframe:(()=>{var r=u(function*(r,n){e.element=r;let s=t.createUrl(e.pageUrl,n);e.logger.debug({info:"Switched iFrame source to: ",data:s},!1),yield t.load(e.element,s)});return function(e,t){return r.apply(this,arguments)}})()}}static canSetupIframeWStartupTokens(e,t,r,n){var s=this;return{setupIframe:(()=>{var a=u(function*(a,i){e.element=a,yield s.loadAndSendLatest(e,i,t,r,n)});return function(e,t){return a.apply(this,arguments)}})()}}static BaseVC(e,t,r){const n={name:r,logger:e,pageUrl:t,urlParams:s.default.getUrlParamsObject(t),element:null};return Object.assign(n,this.canSendMessage(n),this.canSetupIframe(n))}static VCWRegistration(e,t,r,n,a,i){const o={name:r,logger:e,pageUrl:t,urlParams:s.default.getUrlParamsObject(t),element:null,currentTriggerId:null,currentUrl:null};return Object.assign(o,this.canSendMessage(o),this.canSetupIframeWStartupTokens(o,n,a,i)),this.registerForUpdates(o,n,a),o}static VCWRegAndTrigger(e,t,r,n,a,i,l){const c={name:r,logger:e,pageUrl:t,urlParams:s.default.getUrlParamsObject(t),element:null};return Object.assign(c,this.canSendMessage(c),this.canSetupIframeWStartupTokens(c,n,a,l)),this.registerForUpdates(c,n,a),a.getSubscription().subscription.screenTrigger.forEach(t=>{n.registerScreenTrigger(t,t=>{const r=this.formatEvent(t).screenTrigger.screenId;if("string"==typeof i.screenIdMap[r]){let s=i.screenIdMap[r];s=s===i.baseUrl?"":s,c.currentTriggerId!==r?(c.currentTriggerId=r,l&&l.enableAdvNgxSubscriptionPerScreen&&(a.resetSubscription(),n.sendSubscription()),l&&l.forceOpenServiceWindow&&l.forceOpenServiceWindow.enabled&&l.forceOpenServiceWindow.screenTriggerList&&l.forceOpenServiceWindow.screenTriggerList.length>0&&l.forceOpenServiceWindow.screenTriggerList.includes(r)&&this.forceOpenServiceWindow(n),this.loadAndSendLatest(c,s,n,a,l,[t]).then(t=>{e.debug({debug:"Switched iFrame source to: ",data:t},!1)}),e.debug({debug:"Switching iFrame source to: ",data:s},!1),this.getLatestAndSend(c,n,a,[t])):(this.getLatestAndSend(c,n,a,[t]),e.debug({debug:"Sending trigger event and tokens to iFrame: ",data:t},!1)),c.currentTriggerId>=o.default.VPC_PIN_SCREEN&&c.currentTriggerId<=o.default.VPC_CARD_OUT_SCREEN?this.setAutoHideSubscription(a,n,!0):this.setAutoHideSubscription(a,n,!1)}else this.getLatestAndSend(c,n,a,[t]),e.debug({debug:"Sending unknown event to iFrame: ",data:t},!1)})}),c}static setAutoHideSubscription(e,t,r){e.isAttrEqual("disableAutoHide",r)||(e.setAttribute("disableAutoHide",r),t.sendSubscription())}static forceOpenServiceWindow(e){const t=n.default.createShowHost(!0);e.sendMessage(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(2)),s=i(r(3)),a=i(r(68));function i(e){return e&&e.__esModule?e:{default:e}}const o="0x83",l="0x45",c="validatePIN",u="createPinSession",d="validatePINResp",p="createPinSessionResp",h="showPINEntryScreen",f="hidePINEntryScreen",g="pinEntryComplete",_="pinEntryResp",E="0x83",S={VALID:1,INVALID:2,LOCKED:3,NO_RESPONSE:4,NOT_ENTERED:5},m=n.default.enumBE2BasicFunc,C=(e,t)=>({cmd:e,ver:"1.0",status:t});t.default=class{constructor(e,t,r,a,i){this.ngxComm=e,this.sessionService=t,this.logger=r,this.appStore=a,this.attempt=0,this.pinStatusCheckIntervalID=0;const d=["0x47"];this.sessionBased=!1,this.subscribers=[],this.overridePinInterval=0,this.overridePinRetryInterval=5e3,this.overridePinInterval=3e5,this.overridePin=i.includes(E)?1:0,this.overridePinArray=n.default.createBE2BasicFunctionArr([[m.PIN_OverridePINScreen,[this.overridePin,0,0,0]]]),this.overridePin&&e.registerScreenTrigger(o,this.beginValidatePIN.bind(this)),e.registerTokenUpdate(l,this.cancelPINEntryOnCardOut.bind(this)),this.ngxComm.sendBe2Message(this.overridePinArray,this.processOverridePinResponse.bind(this)),this.overridePinIntervalId=setInterval(()=>{this.ngxComm.sendBe2Message(this.overridePinArray,this.doNothing.bind(this)),this.logger.debug({debug:"PINService: Periodic PIN_OverridePINScreen("+this.overridePin+") sent. Interval: "+this.overridePinInterval,data:null})},this.overridePinInterval),this.subscribe=((e,t)=>{this.subscribers.push({type:e,cb:t}),s.default.subscribe(e,t)}),this.subscribe(c,e=>{this.beginValidatePIN(e)}),this.subscribe(u,e=>{this.sessionBased=!0,this.beginValidatePIN(e)}),this.subscribe(g,this.hidePINContent.bind(this));const p=this.validatePIN().bind(this);this.subscribe(_,p);for(let t=0;t<d.length;t++)e.registerScreenTrigger(d[t],this.cancelValidatePIN.bind(this))}get GET_PIN_STATUS_MAX_ATTEMPTS(){return 15}get GET_PIN_STATUS_INTERVAL(){return 1e3}processOverridePinResponse(e,t){e?setTimeout(()=>{this.logger.error({error:"PINService: Received an error in processOverridePinResponse. Retrying PIN Override with "+this.overridePin,data:e},!0),this.ngxComm.sendBe2Message(this.overridePinArray,this.processOverridePinResponse.bind(this))},this.overridePinRetryInterval):this.logger.debug({debug:"PINService: Successfully sent PIN_OverridePINScreen("+this.overridePin+").",data:t})}publishResponse(e){if(e!==S.VALID&&this.sessionService.deletePINSession(),this.sessionBased){const t=C(p,e);if(e===S.VALID){const r=this.ngxComm.getCurrentTokenValue(a.default.PLAYERS_CARD_NUMBER),n=this.ngxComm.getCurrentTokenValue(a.default.PLAYERS_PREFERRED_NAME);this.sessionService.createPINSession(`${r}_${n}`).then(r=>{t.token=r,s.default.publish(p,t),s.default.publish(d,C(d,e))}).catch(r=>{this.logger.error({error:"Received an error while trying to create a PIN session",data:r}),s.default.publish(p,t),s.default.publish(d,C(d,e))})}else s.default.publish(p,t),s.default.publish(d,C(d,e));this.sessionBased=!1}else s.default.publish(d,C(d,e))}processBeginValidatePINResp(e,t){return(r,a)=>{if(r)return void this.logger.error({error:"PINService: Received an error in processBeginValidatePINResp.",data:r},!0);t=t||!1;const i=a[n.default.BE2_BASIC_RESPONSE];if(4!==i.length)return void this.logger.error({error:"PINService: Received BE2 response with invalid number of function code(s). Expected response with four function codes.",data:a},!0);const o=[m.PIN_GetStateInfo,m.PIN_ForcePIN,m.PIN_Check_PIN_Needed,m.MENU_IsENTEROnPINReq],l=n.default.getBE2BasicFunctionMap(o,i);if(this.logger.debug({debug:"PINService: Function map is: ",data:l},!0),this.appStore.UpdatePinParams(1===l[m.PIN_GetStateInfo][2],1===l[m.PIN_ForcePIN][0],1===l[m.PIN_Check_PIN_Needed][0],1===l[m.MENU_IsENTEROnPINReq][0],l[m.MENU_IsENTEROnPINReq][1]),1===l[m.PIN_GetStateInfo][2]){this.logger.debug({debug:"PINService: PIN is locked. Sending BE2 request PIN_NotEntered, PIN_OverridePINScreen(1)publishing PIN LOCKED."},!0);const e=n.default.createBE2BasicFunctionArr([[m.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),void this.publishResponse(S.LOCKED)}if(0===l[m.PIN_ForcePIN][0]&&0===l[m.PIN_Check_PIN_Needed][0]&&!t)return this.logger.debug({debug:"PINService: PIN entry NOT needed. PIN is already valid."},!0),void this.publishResponse(S.VALID);if(void 0!==e)return this.logger.debug({debug:"PINService: Pin is already defined. Skip to PIN entry response step."},!0),void s.default.publish(_,{cmd:"pinEntryResp",ver:"1.0",PIN:e,cancelled:!1});this.logger.debug({debug:"PINService: dopinnow=1 or pinNeeded=1. Showing PIN entry content with PIN length="+l[m.MENU_IsENTEROnPINReq][1]},!0);const c=1===l[m.MENU_IsENTEROnPINReq][0];s.default.publish(h,{cmd:h,ver:"1.0",enterRequired:c,pinLength:l[m.MENU_IsENTEROnPINReq][1]}),document.getElementById("PinContentFrame").style.display="inline"}}cancelPINEntryOnCardOut(e){if(void 0!==e&&e.detail.hasOwnProperty("tokenUpdate")){let t=e.detail.tokenUpdate;"0"===t[0].value&&(this.cancelValidatePIN(),this.logger.debug({debug:"PINService: Card out detected, sending cancel PIN.",data:{cardId:t[0].value}}))}}beginValidatePIN(e){this.logger.debug({debug:"PINService: Sending BE2 request PIN_GetStateInfo, PIN_ForcePIN, PIN_Check_PIN_Needed, MENU_IsENTEROnPINReq.",data:""},!0);const t=n.default.createBE2BasicFunctionArr([[m.PIN_GetStateInfo,[0,0,0,0]],[m.PIN_ForcePIN,[0,0,0,0]],[m.PIN_Check_PIN_Needed,[0,0,0,0]],[m.MENU_IsENTEROnPINReq,[0,0,0,0]]]);let r=!1;e.detail.hasOwnProperty("forcePin")&&(r=e.detail.forcePin),this.ngxComm.sendBe2Message(t,this.processBeginValidatePINResp(e.detail.PIN,r).bind(this))}validatePIN(){return function(e){const t=e.detail;let r;if(this.isPinValidationTransaction())this.logger.warn({warn:"PINService: Pin validation transaction is in process. Rejecting subsequent call to validate pin.",data:t});else{if(null===t||void 0===t||void 0===t.cmd||void 0===t.cancelled){this.logger.error({error:"PINService: PIN entry response is invalid. Rejecting message. Sending BE2 request PIN_NotEntered, publishing PIN NOT_ENTERED.",data:t});const e=n.default.createBE2BasicFunctionArr([[m.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),void this.publishResponse(S.NOT_ENTERED)}if(t.cancelled){this.logger.debug({debug:"PINService: PIN was not entered. Sending BE2 request PIN_NotEntered, publishing PIN NOT_ENTERED.",data:t},!0);const e=n.default.createBE2BasicFunctionArr([[m.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),void this.publishResponse(S.NOT_ENTERED)}this.logger.debug({debug:"PINService: Sending BE2 request PIN_ValidatePIN with Pin cancelled: "+(t.cancelled?"true":"false")},!0),r=n.default.createBE2BasicFunctionArr([[n.default.enumBE2BasicFunc.PIN_ValidatePIN,[parseInt(t.PIN,10),t.PIN.length,0,0]]]),this.ngxComm.sendBe2Message(r,this.doNothing.bind(this)),this.logger.debug({debug:"PINService: Setting timer interval."},!0),this.attempt=0,this.pinStatusCheckIntervalID=window.setInterval(()=>{if(++this.attempt,this.attempt>this.GET_PIN_STATUS_MAX_ATTEMPTS)window.clearInterval(this.pinStatusCheckIntervalID),this.pinStatusCheckIntervalID=0,this.logger.error({error:"PINService: getPINStatus max attempts exceeded. Publishing validatePINResp with NO_RESPONSE."},!0),this.publishResponse(S.NO_RESPONSE);else{this.logger.debug({debug:"PINService: Sending BE2 request PIN_GetPinStatus. Attempt number= "+this.attempt},!0);const e=n.default.createBE2BasicFunctionArr([[n.default.enumBE2BasicFunc.PIN_GetPinStatus,[0,0,0,0]]]);this.ngxComm.sendBe2Message(e,this.processValidatePINStatusResp.bind(this))}},this.GET_PIN_STATUS_INTERVAL)}}}processValidatePINStatusResp(e,t){if(e)return void this.logger.error({error:"PINService: Received an error in processValidatePINStatusResp.",data:e},!0);const r=t[n.default.BE2_BASIC_RESPONSE];if(1!==r.length||77!==r[0].functionCode)return void this.logger.error({error:"PINService: Received a BE2 response with invalid function code(s). Expected response for function code 77 - PIN_GetPinStatus.",data:t},!0);const s=r[0].retvals[0];0!==s&&(window.clearInterval(this.pinStatusCheckIntervalID),this.pinStatusCheckIntervalID=0,1===s?(this.logger.debug({debug:"PINService: PIN entered is Valid .",data:t},!0),this.publishResponse(S.VALID)):2===s?(this.logger.debug({debug:"PINService: PIN entered is Invalid .",data:t},!0),this.publishResponse(S.INVALID)):3===s?(this.logger.debug({debug:"PINService: PIN is locked.",data:t},!0),this.publishResponse(S.LOCKED)):4===s?(this.logger.debug({info:"PINService: No Response received from BE2 for validate PIN request.",data:t},!0),this.publishResponse(S.NO_RESPONSE)):5===s?(this.logger.debug({debug:"PINService: No PIN entered to be canceled.",data:t},!0),this.publishResponse(S.NOT_ENTERED)):this.logger.error({error:"PINService: Received unknown PIN status.",data:t},!0))}cancelValidatePIN(){this.logger.debug({debug:"PINService: Sending hide message to PIN entry content."}),s.default.publish(f,{cmd:f,ver:"1.0"}),this.hidePINContent()}hidePINContent(){this.logger.debug({debug:"PINService: Hiding PIN entry content."}),document.getElementById("PinContentFrame").style.display="none"}doNothing(e,t){e?this.logger.error({error:"PINService: Received an error in doNothing.",data:e},!0):this.logger.debug({debug:"PINService: Received BE2 response.",data:t},!0)}isPinValidationTransaction(){return 0!==this.pinStatusCheckIntervalID}registerValidatePINRespCB(e){this.subscribe(d,e),this.subscribe(p,e)}registerShowPINEntryScreenCB(e){this.subscribe(h,e)}registerHidePINEntryScreenCB(e){this.subscribe(f,e)}cleanup(){void 0!==this.subscribers&&this.subscribers.forEach(function(e){s.default.unsubscribe(e.type,e.cb)}),this.overridePinIntervalId&&clearInterval(this.overridePinIntervalId),this.logger.debug({debug:"PINService: Cleaning up"},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,r,n){this.ngxComm=e,this.logger=t,this.appStore=r,this.statusMessageCache=n,this.appStoreCache=null,this.CHECK_XC_ENABLED_TOPIC="enableXtraCredit",this.CHECK_XC_ENABLED_RESP_TOPIC="enableXtraCreditResp",this.IS_XC_ACTIVE_TOPIC="isXtraCreditActive",this.IS_XC_ACTIVE_RESP_TOPIC="isXtraCreditActiveResp",this.ACTIVATE_XC_TOPIC="activateXtraCredit",this.ACTIVATE_XC_WITH_AMOUNT_TOPIC="activateXtraCreditWithAmount",this.ACTIVATE_XC_RESP_TOPIC="activateXtraCreditResp",this.CANCEL_XC_TOPIC="cancelXtraCredit",this.CANCEL_XC_RESP_TOPIC="cancelXtraCreditResp",this.enumActivateXCStatus={XC_ACTIVE:0,XC_ACTIVE_NOT_CANCELABLE:1,XC_ALREADY_ACTIVE:2,XC_INACTIVE_BALANCE_TOO_LOW:3,XC_INACTIVE_NOT_AVAILABLE_ON_DEVICE:4,XC_INACTIVE_SEE_PLAYERS_CLUB:5,XC_INACTIVE_DUPLICATE_CARD:6,XC_INACTIVE_ABANDONED_CARD:7,XC_INACTIVE_PIN_LOCKED:8,XC_INACTIVE_BONUSING_UNAVAILABLE:9,XC_INACTIVE_PIN_VALIDATION_FAILED:10,XC_INACTIVE_INPUT_AMOUNT_INVALID:11,XC_INACTIVE_OVER_LIMIT:12,XC_INACTIVE_AMOUNT_LESS_THAN_DENOM:13,XC_INACTIVE_LAST_IN_PROCESSING:14,XC_INACTIVE_ABORTED_E:15,XC_INACTIVE_FAILED_E:16,XC_INACTIVE_RETRIED_OUT:17},this.enumTransferXCStatus={PENDING:0,SUCCESS:1,ABORTED:2,FAILED:3,IN_PROGRESS:4,ABORTED_E:5,FAILED_E:6,OVER_LIMIT:255},this.enumPINStatus={VALID:1,INVALID:2,LOCKED:3,NO_RESPONSE:4,NOT_ENTERED:5},this.enumCancelXCStatus={XC_CANCELLED:0,XC_NOT_CANCELABLE:1,XC_NOT_CANCELLED_IN_GAME_CYCLE:2},this.amountInput=0,this.isAtiveWithAmount=!1,this.isAppPinRequired=!1,this.VALIDATE_PIN_TOPIC="validatePIN",this.VALIDATE_PIN_RESP_TOPIC="validatePINResp",this.checkIsActiveXCRespSubscribers=[],this.checkXCEnabledReqSubscribers=[],this.checkXCEnabledRespSubscribers=[],this.activateXCReqSubscribers=[],this.activateXCRespSubscribers=[],this.cancelXCReqSubscribers=[],this.cancelXCRespSubscribers=[],this.handleValidatePINRespSubscribers=[];let a=this.checkXCEnabled.bind(this);this.checkXCEnabledReqSubscribers.push(a),s.default.subscribe(this.CHECK_XC_ENABLED_TOPIC,a);let i=this.activateXC.bind(this);this.activateXCReqSubscribers.push(i),s.default.subscribe(this.ACTIVATE_XC_TOPIC,i);let o=this.activateXCWithAmount.bind(this);this.activateXCReqSubscribers.push(o),s.default.subscribe(this.ACTIVATE_XC_WITH_AMOUNT_TOPIC,o);let l=this.cancelXC.bind(this);this.cancelXCReqSubscribers.push(l),s.default.subscribe(this.CANCEL_XC_TOPIC,l);let c=this.isAlreadyActiveXC.bind(this);this.checkIsActiveXCRespSubscribers.push(c),s.default.subscribe(this.IS_XC_ACTIVE_TOPIC,c),this.handleValidatePINRespFn=this.handleValidatePINResp.bind(this)}isAlreadyActiveXC(){this.processIsAlreadyActiveXC()}processIsAlreadyActiveXC(){let e=this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB]);const t={cmd:this.IS_XC_ACTIVE_RESP_TOPIC,xtraCreditActive:!1,xtraCreditRespMsg:e};this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses).then(function(r){r.playerBonuses.xtraCredit.active?(e.status=this.enumActivateXCStatus.XC_ALREADY_ACTIVE,e.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_ALREADY_ACTIVE],t.xtraCreditActive=!0,t.xtraCreditRespMsg=e,s.default.publish(this.IS_XC_ACTIVE_RESP_TOPIC,t)):s.default.publish(this.IS_XC_ACTIVE_RESP_TOPIC,t)}.bind(this))}checkXCEnabled(){this.processCheckXCEnabled()}processCheckXCEnabled(){this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&null!==this.appStore.AppStore.playerBonuses.xtraCredit.enable).then(function(e){e.playerBonuses.xtraCredit.enable?s.default.publish(this.CHECK_XC_ENABLED_RESP_TOPIC,this.createXCEnabledResp(this.CHECK_XC_ENABLED_RESP_TOPIC,!0)):s.default.publish(this.CHECK_XC_ENABLED_RESP_TOPIC,this.createXCEnabledResp(this.CHECK_XC_ENABLED_RESP_TOPIC,!1))}.bind(this))}activateXC(e){const t=e.detail;void 0===t.validatePin?this.logger.error({error:"XCService: Received Activate XC request without validatePin parameter.",data:t},!0):(this.isAppPinRequired=t.validatePin,this.processActivateXC())}activateXCWithAmount(e){const t=e.detail;this.isAppPinRequired=t.validatePin,this.isAtiveWithAmount=!0,this.amountInput=t.amount,this.logger.info({info:"XCService: Received Active XC With Amount:",data:t},!0),this.processActivateXC(!0,t.amount)}processActivateXC(e=!1,t=0){this.logger.debug({info:"XCService: process Activate XC,amount:",data:t},!0);let r,a=!1,i=!1,o=!1;this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&(this.appStore.AppStore.player_info.dupCard||this.appStore.AppStore.player_info.isAbandoned||!this.appStore.AppStore.builtPatronDataCache||!this.appStore.AppStore.machine.xcEnable||!this.appStore.AppStore.player_info.xcEnable||!this.appStore.AppStore.playerBonuses.xtraCredit.enable||this.appStore.AppStore.playerBonuses.xtraCredit.active||this.appStore.AppStore.playerBonuses.xtraCredit.total_balance<=0&&this.appStore.AppStore.playerBonuses.xtraCredit.inActiveBalance<=0||this.appStore.AppStore.pin.locked||this.appStore.AppStore.pin.check_pin_needed||this.appStore.AppStore.pin.force_pin||!this.appStore.AppStore.player_info.dupCard&&!this.appStore.AppStore.player_info.isAbandoned&&this.appStore.AppStore.builtPatronDataCache&&this.appStore.AppStore.machine.xcEnable&&this.appStore.AppStore.player_info.xcEnable&&this.appStore.AppStore.playerBonuses.xtraCredit.enable&&!this.appStore.AppStore.playerBonuses.xtraCredit.active&&(this.appStore.AppStore.playerBonuses.xtraCredit.total_balance>0||this.appStore.AppStore.playerBonuses.xtraCredit.inActiveBalance>0)&&!this.appStore.AppStore.pin.locked&&!this.appStore.AppStore.pin.check_pin_needed&&!this.appStore.AppStore.pin.force_pin)).then(function(l){if(null!==l.player_info.dupCard&&!0===l.player_info.dupCard&&(i=!0),null!==l.player_info.isAbandoned&&!0===l.player_info.isAbandoned&&(a=!0),r=this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB]),i?(r.status=this.enumActivateXCStatus.XC_INACTIVE_DUPLICATE_CARD,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_DUPLICATE_CARD]):a?(r.status=this.enumActivateXCStatus.XC_INACTIVE_ABANDONED_CARD,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_ABANDONED_CARD]):l.builtPatronDataCache?l.machine.xcEnable?l.player_info.xcEnable&&l.playerBonuses.xtraCredit.enable?!e&&l.playerBonuses.xtraCredit.active?(r.status=this.enumActivateXCStatus.XC_ALREADY_ACTIVE,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_ALREADY_ACTIVE]):l.playerBonuses.xtraCredit.total_balance<=0&&l.playerBonuses.xtraCredit.inActiveBalance<=0?(r.status=this.enumActivateXCStatus.XC_INACTIVE_BALANCE_TOO_LOW,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_BALANCE_TOO_LOW]):o=!0:(r.status=this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB]):(r.status=this.enumActivateXCStatus.XC_INACTIVE_NOT_AVAILABLE_ON_DEVICE,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_NOT_AVAILABLE_ON_DEVICE]):(r.status=this.enumActivateXCStatus.XC_INACTIVE_BONUSING_UNAVAILABLE,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_BONUSING_UNAVAILABLE]),o){if(l.pin.locked){const e=n.default.createBE2BasicFunctionArr([[n.default.enumBE2BasicFunc.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),r.status=this.enumActivateXCStatus.XC_INACTIVE_PIN_LOCKED,r.statusMessage=this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_PIN_LOCKED],void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,r)}if(l.pin.check_pin_needed||l.pin.force_pin)return this.logger.info({info:"XCService: PIN required. Validating PIN.",data:null},!0),s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),s.default.subscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),void s.default.publish(this.VALIDATE_PIN_TOPIC,this.createValidatePINReq());this.sendActivateXCResp(e,t)}else s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,r)}.bind(this))}doNothing(e,t){e&&this.logError("doNothing",e)}doStatusPolling(){const e=n.default.enumBE2BasicFunc.CancelXtraCredit,t=n.default.createBE2BasicFunctionArr([[e,[0,0,0,0]]]);let r,a=!1,i=0;r=setInterval(()=>{if(++i>30)return clearInterval(r),void s.default.publish(this.CANCEL_XC_RESP_TOPIC,this.createXCResp(this.CANCEL_XC_RESP_TOPIC,this.enumCancelXCStatus.XC_NOT_CANCELLED_IN_GAME_CYCLE,this.statusMessageCache.xtraCredit.cancel[this.enumCancelXCStatus.XC_NOT_CANCELLED_IN_GAME_CYCLE]));const e=(e,t)=>{const i=t[n.default.BE2_BASIC_RESPONSE][0].retvals;return 0===i[0]?(this.logger.debug({debug:"XCService: Xtra Credit cancelled from status polling.",data:""},!0),clearInterval(r),void s.default.publish(this.CANCEL_XC_RESP_TOPIC,this.createXCResp(this.CANCEL_XC_RESP_TOPIC,this.enumCancelXCStatus.XC_CANCELLED,this.statusMessageCache.xtraCredit.cancel[this.enumCancelXCStatus.XC_CANCELLED]))):1===i[0]?(this.logger.debug({debug:"XCService: Xtra Credit not cancelable, in game cycle from status polling.",data:""},!0),clearInterval(r),void s.default.publish(this.CANCEL_XC_RESP_TOPIC,this.createXCResp(this.CANCEL_XC_RESP_TOPIC,this.enumCancelXCStatus.XC_NOT_CANCELABLE,this.statusMessageCache.xtraCredit.cancel[this.enumCancelXCStatus.XC_NOT_CANCELABLE]))):void(a=!0)};(1===i||a)&&(a=!1,this.ngxComm.sendBe2Message(t,e.bind(this)))},1e3)}doCashlessStatusPolling(){const e=n.default.enumBE2BasicFunc.Cashless_GetStatus,t=n.default.createBE2BasicFunctionArr([[e,[0,0,0,0]]]);let r,a=!1,i=0;r=setInterval(()=>{if(++i>30)return clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_RETRIED_OUT,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_RETRIED_OUT]));const e=(e,t)=>{const i=t[n.default.BE2_BASIC_RESPONSE][0].retvals;if(i[0]!==this.enumTransferXCStatus.PENDING)return i[0]===this.enumTransferXCStatus.SUCCESS?(this.logger.debug({debug:"XCService: Xtra Credit is successfully activated. by CashlessStatus Polling.",data:""},!0),clearInterval(r),void this.checkCancellableResp()):i[0]===this.enumTransferXCStatus.ABORTED?(this.logger.debug({debug:"XCService: Fail to activate Xtra Credit, Reason: Input Amount is less than machine denom. by CashlessStatus Polling.",data:""},!0),clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_AMOUNT_LESS_THAN_DENOM,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_AMOUNT_LESS_THAN_DENOM]))):i[0]===this.enumTransferXCStatus.IN_PROGRESS?(this.logger.debug({debug:"XCService: Fail to activate Xtra Credit, Reason: Last one is still in processing. by CashlessStatus Polling.",data:""},!0),clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_LAST_IN_PROCESSING,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_LAST_IN_PROCESSING]))):i[0]===this.enumTransferXCStatus.OVER_LIMIT?(this.logger.debug({debug:"Xtra Credit can not be activated by over limit",data:""},!0),clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_OVER_LIMIT,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_OVER_LIMIT]))):i[0]===this.enumTransferXCStatus.ABORTED_E?(this.logger.debug({debug:"Xtra Credit can not be activated by aborted_e",data:""},!0),clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_ABORTED_E,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_ABORTED_E]))):i[0]===this.enumTransferXCStatus.FAILED_E?(this.logger.debug({debug:"Xtra Credit can not be activated by failed_e",data:""},!0),clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_FAILED_E,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_FAILED_E]))):(this.logger.debug({debug:"XCService: Xtra Credit can not be activated  by CashlessStatus Polling.",data:""},!0),clearInterval(r),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB])));this.logger.debug({debug:"XCService: It is pending, still need to poll status by Cashless_GetStatus",data:""},!0),a=!0};(1===i||a)&&(a=!1,this.ngxComm.sendBe2Message(t,e.bind(this)))},1e3)}cancelXC(){this.logger.debug({debug:"XCService: Sending BE2 Basic Function request CancelXtraCredit.",data:""},!0);const e=n.default.enumBE2BasicFunc.CancelXtraCredit,t=n.default.createBE2BasicFunctionArr([[e,[0,0,0,0]]]);this.ngxComm.sendBe2Message(t,this.processCancelXC.bind(this))}processCancelXC(e,t){let r;0!==(r=t[n.default.BE2_BASIC_RESPONSE]).length?r.forEach(e=>{switch(e.functionCode){case n.default.enumBE2BasicFunc.CancelXtraCredit:2===e.retvals[0]?this.doStatusPolling():0===e.retvals[0]?(this.logger.debug({debug:"XCService: Xtra Credit cancelled.",data:""},!0),s.default.publish(this.CANCEL_XC_RESP_TOPIC,this.createXCResp(this.CANCEL_XC_RESP_TOPIC,this.enumCancelXCStatus.XC_CANCELLED,this.statusMessageCache.xtraCredit.cancel[this.enumCancelXCStatus.XC_CANCELLED]))):1===e.retvals[0]&&(this.logger.debug({debug:"XCService: Xtra Credit not cancelable, in game cycle.",data:""},!0),s.default.publish(this.CANCEL_XC_RESP_TOPIC,this.createXCResp(this.CANCEL_XC_RESP_TOPIC,this.enumCancelXCStatus.XC_NOT_CANCELABLE,this.statusMessageCache.xtraCredit.cancel[this.enumCancelXCStatus.XC_NOT_CANCELABLE])));break;default:this.logger.debug({debug:"XCService: Unknown BE2Response!",data:t},!0)}}):this.logger.debug({debug:"XCService: No BE2 responses.",data:t},!0)}processTransferXC(e,t){let r;0!==(r=t[n.default.BE2_BASIC_RESPONSE]).length?r.forEach(e=>{switch(e.functionCode){case n.default.enumBE2BasicFunc.TransferXtraCredit:let r=e.retvals[0];if(r===this.enumTransferXCStatus.SUCCESS)return this.logger.debug({debug:"XCService: Xtra Credit is successfully activated.",data:""},!0),void this.checkCancellableResp();if(r!==this.enumTransferXCStatus.PENDING)return r===this.enumTransferXCStatus.ABORTED?(this.logger.debug({debug:"XCService: Fail to activate Xtra Credit, Reason: Input Amount is less than machine denom. by CashlessStatus Polling.",data:""},!0),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_AMOUNT_LESS_THAN_DENOM,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_AMOUNT_LESS_THAN_DENOM]))):r===this.enumTransferXCStatus.IN_PROGRESS?(this.logger.debug({debug:"XCService: Fail to activate Xtra Credit, Reason: Last one is still in processing. by CashlessStatus Polling.",data:""},!0),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_LAST_IN_PROCESSING,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_LAST_IN_PROCESSING]))):r===this.enumTransferXCStatus.OVER_LIMIT?(this.logger.debug({debug:"Xtra Credit can not be activated by over limit",data:""},!0),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_OVER_LIMIT,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_OVER_LIMIT]))):r===this.enumTransferXCStatus.ABORTED_E?(this.logger.debug({debug:"Xtra Credit can not be activated by aborted_e",data:""},!0),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_ABORTED_E,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_ABORTED_E]))):r===this.enumTransferXCStatus.FAILED_E?(this.logger.debug({debug:"Xtra Credit can not be activated by failed_e",data:""},!0),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_FAILED_E,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_FAILED_E]))):(this.logger.debug({debug:"XCService: Xtra Credit can not be activated  by CashlessStatus Polling.",data:""},!0),void s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_SEE_PLAYERS_CLUB])));this.logger.debug({debug:"XCService: Pending status, need to poll status by Cashless_GetStatus till getting result.",data:""},!0),this.doCashlessStatusPolling();break;default:this.logger.debug({debug:"Unknown BE2Response!",data:t},!0)}}):this.logger.debug({debug:"XCService: No BE2 responses.",data:t},!0)}checkCancellableResp(){this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&null!==this.appStore.AppStore.playerBonuses.xtraCredit.cancellable).then(function(e){let t=e.playerBonuses.xtraCredit.cancellable;t<2?(this.logger.debug({debug:"XCService: Sending activateXCResp, but cancellation is either not supported (0) or not allowed (1). See data field for value.",data:t},!0),s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_ACTIVE_NOT_CANCELABLE,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_ACTIVE_NOT_CANCELABLE]))):(this.logger.debug({debug:"XCService: Sending activateXCResp, Xtra Credit cancellation is supported.",data:""},!0),s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_ACTIVE,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_ACTIVE])))}.bind(this))}handleValidatePINResp(e){const t=e.detail;this.logger.info({info:"XCService: PIN validation response received.",data:t},!0),t.status!==this.enumPINStatus.VALID&&t.status!==this.enumPINStatus.LOCKED&&t.status!==this.enumPINStatus.NO_RESPONSE&&t.status!==this.enumPINStatus.NOT_ENTERED||s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),t.status===this.enumPINStatus.VALID?(this.sendActivateXCResp(this.isAtiveWithAmount,this.amountInput),this.isAtiveWithAmount=!1,this.amountInput=0):t.status===this.enumPINStatus.LOCKED?s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_PIN_LOCKED,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_PIN_LOCKED])):s.default.publish(this.ACTIVATE_XC_RESP_TOPIC,this.createXCResp(this.ACTIVATE_XC_RESP_TOPIC,this.enumActivateXCStatus.XC_INACTIVE_PIN_VALIDATION_FAILED,this.statusMessageCache.xtraCredit.activate[this.enumActivateXCStatus.XC_INACTIVE_PIN_VALIDATION_FAILED]))}sendActivateXCResp(e=!1,t=0){if(e){this.logger.debug({debug:"XCService: Sending BE2 Basic Function request TransferXtraCredit, the amount is:",data:parseInt(t)},!0);const e=n.default.enumBE2BasicFunc.TransferXtraCredit,r=n.default.createBE2BasicFunctionArr([[e,[0,parseInt(t),1,1]]]);this.ngxComm.sendBe2Message(r,this.processTransferXC.bind(this))}else{this.checkCancellableResp(),this.logger.debug({debug:"XCService: Sending BE2 Basic Function request MoveCredits.",data:""},!0);const e=n.default.enumBE2BasicFunc.MoveCredits,t=n.default.createBE2BasicFunctionArr([[e,[0,0,0,0]]]);this.ngxComm.sendBe2Message(t,this.doNothing.bind(this))}}createXCEnabledResp(e,t){return{cmd:e,ver:"1.0",xtraCreditEnabled:t}}createValidatePINReq(){return{cmd:"validatePIN",ver:"1.0"}}createXCResp(e,t,r){return{cmd:e,ver:"1.0",status:t,statusMessage:r}}registerIsActiveXCRespCB(e){this.checkIsActiveXCRespSubscribers.push(e),s.default.subscribe(this.IS_XC_ACTIVE_RESP_TOPIC,e)}registerEnableXtraCreditRespCB(e){this.checkXCEnabledRespSubscribers.push(e),s.default.subscribe(this.CHECK_XC_ENABLED_RESP_TOPIC,e)}registerActivateXtraCreditRespCB(e){this.activateXCRespSubscribers.push(e),s.default.subscribe(this.ACTIVATE_XC_RESP_TOPIC,e)}registerCancelXtraCreditRespCB(e){this.cancelXCRespSubscribers.push(e),s.default.subscribe(this.CANCEL_XC_RESP_TOPIC,e)}cleanup(){void 0!==this.checkIsActiveXCRespSubscribers&&this.checkIsActiveXCRespSubscribers.forEach(e=>{s.default.unsubscribe(this.IS_XC_ACTIVE_RESP_TOPIC,e)}),void 0!==this.checkXCEnabledReqSubscribers&&this.checkXCEnabledReqSubscribers.forEach(e=>{s.default.unsubscribe(this.CHECK_XC_ENABLED_TOPIC,e)}),void 0!==this.checkXCEnabledRespSubscribers&&this.checkXCEnabledRespSubscribers.forEach(e=>{s.default.unsubscribe(this.CHECK_XC_ENABLED_RESP_TOPIC,e)}),void 0!==this.activateXCReqSubscribers&&this.activateXCReqSubscribers.forEach(e=>{s.default.unsubscribe(this.ACTIVATE_XC_TOPIC,e)}),void 0!==this.activateXCRespSubscribers&&this.activateXCRespSubscribers.forEach(e=>{s.default.unsubscribe(this.ACTIVATE_XC_RESP_TOPIC,e)}),void 0!==this.cancelXCReqSubscribers&&this.cancelXCReqSubscribers.forEach(e=>{s.default.unsubscribe(this.CANCEL_XC_TOPIC,e)}),void 0!==this.cancelXCRespSubscribers&&this.cancelXCRespSubscribers.forEach(e=>{s.default.unsubscribe(this.CANCEL_XC_RESP_TOPIC,e)}),void 0!==this.handleValidatePINRespSubscribers&&this.handleValidatePINRespSubscribers.forEach(e=>{s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,e)}),this.logger.debug({debug:"XCService: Cleaning up"},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,r){this.ngxComm=e,this.logger=t,this.appStore=r,this.appStoreCache=null,this.CHECK_PP_ENABLED_RESP_TOPIC="enablePointPlayResp",this.INITIATE_PP_INIT_TOPIC="initPointPlay",this.INITIATE_PP_INIT_RESP_TOPIC="initPointPlayResp",this.CONVERT_PP_TOPIC="convertPointPlay",this.CONVERT_PP_RESP_TOPIC="convertPointPlayResp",this.CMD_VERS="1.0",this.enumInitiatePPStatus={PP_AVAILABLE:0,PP_NOT_AVAILABLE_EGM:1,PP_NOT_AVAILABLE_PINLOCK:2,PP_NOT_AVAILABLE_GOTO_BOOTH:3,PP_NOT_AVAILABLE_BALANCE_LOW:4,PP_NOT_AVAILABLE_CANNOT_CONVERT_XTRACREDIT:5,PP_NOT_AVAILABLE_CANNOT_CONVERT_XTRACREDIT_EGM:6,PP_NOT_AVAILABLE_PIN_FAILED:7,PP_NOT_AVAILABLE:8},this.enumPINStatus={VALID:1,INVALID:2,LOCKED:3,NO_RESPONSE:4,NOT_ENTERED:5},this.convertPointsToCredit=!1,this.isAppPinRequired=!1,this.VALIDATE_PIN_TOPIC="validatePIN",this.VALIDATE_PIN_RESP_TOPIC="validatePINResp",this.ENABLE_PP_TOPIC="enablePointPlay",this.checkPPEnabledRespSubscribers=[],this.convertPPReqSubscribers=[],this.convertPPRespSubscribers=[],this.initiatePPReqSubscribers=[],this.initiatePPRespSubscribers=[];let n=this.convertPP.bind(this);this.convertPPReqSubscribers.push(n),s.default.subscribe(this.CONVERT_PP_TOPIC,n);let a=this.initiatePP.bind(this);this.initiatePPReqSubscribers.push(a),s.default.subscribe(this.INITIATE_PP_INIT_TOPIC,a),this.handleValidatePINRespFn=this.handleValidatePINResp.bind(this),s.default.subscribe(this.ENABLE_PP_TOPIC,this.checkPPEnabled.bind(this))}checkPPEnabled(){this.processCheckPPEnabledResp()}processCheckPPEnabledResp(){const e={cmd:"enablePointPlayResp",ver:"1.0",pointPlayEnabled:!1};this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&null!==this.appStore.AppStore.playerBonuses.pointPlay.enable).then(function(t){e.pointPlayEnabled=t.playerBonuses.pointPlay.enable,e.pointPlayEnabled?this.logger.debug({debug:"PPService: Point Play is available.",data:e},!0):this.logger.debug({debug:"PPService: Point Play NOT available.",data:e},!0),s.default.publish(this.CHECK_PP_ENABLED_RESP_TOPIC,e)}.bind(this))}createInitPPResponse(){return{cmd:this.INITIATE_PP_INIT_RESP_TOPIC,ver:this.CMD_VERS,playerPointBalance:0,pointValue:0,pointCredits:0,status:0}}convertPinStatus(e){return e===this.enumPINStatus.LOCKED?this.enumInitiatePPStatus.PP_NOT_AVAILABLE_PINLOCK:this.enumInitiatePPStatus.PP_NOT_AVAILABLE_PIN_FAILED}handleValidatePINResp(e){const t=e.detail;this.logger.info({info:"PPService: PIN validation response received.",data:t},!0),t.status!==this.enumPINStatus.VALID&&t.status!==this.enumPINStatus.LOCKED&&t.status!==this.enumPINStatus.NO_RESPONSE&&t.status!==this.enumPINStatus.NOT_ENTERED||s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn);const r=this.createInitPPResponse();t.status!==this.enumPINStatus.VALID?(r.status=this.convertPinStatus(t.status),s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,r)):this.sendBe2MsgToGetPlayerPoints()}sendBe2MsgToGetPlayerPoints(){this.processInitiatePPResp()}processInitiatePPResp(){let e,t;this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&(!this.appStore.AppStore.playerBonuses.xtraCredit.game_based&&!this.appStore.AppStore.playerBonuses.xtraCredit.player_based||null!=this.appStore.AppStore.playerBonuses.pointPlay.points_Limit_Credits||null!=this.appStore.AppStore.playerBonuses.pointPlay.available_balance||null!=this.appStore.AppStore.machine.denom||this.appStore.AppStore.playerBonuses.xtraCredit.game_based||this.appStore.AppStore.playerBonuses.xtraCredit.player_based&&null!=this.appStore.AppStore.playerBonuses.pointPlay.points_Limit_Credits&&null!=this.appStore.AppStore.playerBonuses.pointPlay.available_balance&&null!=this.appStore.AppStore.machine.denom)).then(function(r){let n=r.playerBonuses.pointPlay.available_balance,a=r.playerBonuses.pointPlay.available_balance_in_Cents,i=r.playerBonuses.pointPlay.available_balance_in_Credits,o=r.playerBonuses.pointPlay.points_Limit,l=r.playerBonuses.pointPlay.points_Limit_Credits,c=r.playerBonuses.xtraCredit.game_based||r.playerBonuses.xtraCredit.player_based,u=r.machine.denom;return t=this.createInitPPResponse(),this.convertPointsToCredit||c?0===o&&4e9===l?(t.status=this.enumInitiatePPStatus.PP_NOT_AVAILABLE_GOTO_BOOTH,void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,t)):a<(e=u<this.appStore.minEgmDenom?this.appStore.getDefaultMinCentsBalance():this.appStore.getMapEgmDenomToMinCentsBalance(u))?(t.status=this.enumInitiatePPStatus.PP_NOT_AVAILABLE_BALANCE_LOW,void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,t)):(t.egmDenom=u,t.playerPointBalance=n,t.pointValue=a,t.pointCredits=i,t.status=this.enumInitiatePPStatus.PP_AVAILABLE,void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,t)):(t.status=this.enumInitiatePPStatus.PP_NOT_AVAILABLE_CANNOT_CONVERT_XTRACREDIT_EGM,void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,t))}.bind(this))}initiatePP(e){const t=e.detail;this.convertPointsToCredit=t.convertPointsToCredits,this.isAppPinRequired=t.validatePin,this.processCheckExecuteResp()}processCheckExecuteResp(){let e,t,r,a;this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&(this.appStore.AppStore.player_info.isAbandoned||this.appStore.AppStore.player_info.dupCard||0==this.appStore.AppStore.playerBonuses.pointPlay.enable||this.appStore.AppStore.pin.locked||this.appStore.AppStore.pin.force_pin||this.appStore.AppStore.pin.check_pin_needed||!this.appStore.AppStore.player_info.isAbandoned&&!this.appStore.AppStore.player_info.dupCard&&this.appStore.AppStore.playerBonuses.pointPlay.enable&&!this.appStore.AppStore.pin.locked&&!this.appStore.AppStore.pin.force_pin&&!this.appStore.AppStore.pin.check_pin_needed)).then(function(i){if(r=!!i.playerBonuses.pointPlay.enable,e=!!i.player_info.isAbandoned,t=!!i.player_info.dupCard,a=this.createInitPPResponse(),e||t)return this.logger.debug({debug:"PPService: Card is a duplicate or the card is abandoned.",data:""},!0),a.status=this.enumInitiatePPStatus.PP_NOT_AVAILABLE_GOTO_BOOTH,void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,a);if(!r)return a.status=this.enumInitiatePPStatus.PP_NOT_AVAILABLE,this.logger.debug({debug:"PPService: PP is NOT available.",data:a},!0),void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,a);if(i.pin.locked){const e=n.default.createBE2BasicFunctionArr([[n.default.enumBE2BasicFunc.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),a.status=this.enumInitiatePPStatus.PP_NOT_AVAILABLE_PINLOCK,void s.default.publish(this.INITIATE_PP_INIT_RESP_TOPIC,a)}if(i.pin.force_pin||i.pin.check_pin_needed){this.logger.info({info:"PPService: PIN required. Validating PIN.",data:null},!0),s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),s.default.subscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn);const e={cmd:"validatePIN",ver:this.CMD_VERS};s.default.publish(this.VALIDATE_PIN_TOPIC,e)}else this.sendBe2MsgToGetPlayerPoints()}.bind(this))}doNothing(e,t){e&&this.logger.error({error:"PPService: Received err in doNothing",data:e},!0)}convertPP(e){const t=e.detail,r={cmd:"convertPointPlayResp",ver:"1.0",status:1};if(void 0===t.convertPointsToCredits||void 0===t.pointsToConvert)this.logger.error({error:"PPService: Received Convert Points request with invalid parameters.",data:t},!0),s.default.publish(this.CONVERT_PP_RESP_TOPIC,r);else if(t.pointsToConvert<=0)this.logger.error({error:"PPService: Received Convert Points request with invalid pointsToConvert parameter.",data:t},!0),s.default.publish(this.CONVERT_PP_RESP_TOPIC,r);else{let e;t.convertPointsToCredits?(this.logger.debug({debug:"PPService: Sending BE2 Basic Function request MP_PointsToCash.",data:""},!0),e=n.default.enumBE2BasicFunc.MP_PointsToCash):(this.logger.debug({debug:"PPService: Sending BE2 Basic Function request MP_PointsToXtraCredits.",data:""},!0),e=n.default.enumBE2BasicFunc.MP_PointsToXtraCredits);const r=n.default.createBE2BasicFunctionArr([[e,[t.pointsToConvert,0,0,0]]]);this.ngxComm.sendBe2Message(r,this.processConvertPPResp.bind(this))}}processConvertPPResp(e,t){const r={cmd:"convertPointPlayResp",ver:"1.0",status:2};if(e)this.logger.error({error:"PPService: Received an error in processConvertPPResp.",data:e},!0);else{const e=t[n.default.BE2_BASIC_RESPONSE];1!==e.length||26!==e[0].functionCode&&70!==e[0].functionCode?this.logger.error({error:"PPService: Received a BE2 response with invalid function code(s).",data:t},!0):(this.logger.debug({debug:"PPService: Points converted.",data:t},!0),r.status=0)}s.default.publish(this.CONVERT_PP_RESP_TOPIC,r)}registerEnablePointPlayRespCB(e){this.checkPPEnabledRespSubscribers.push(e),s.default.subscribe(this.CHECK_PP_ENABLED_RESP_TOPIC,e)}registerInitiatePointPlayRespCB(e){this.initiatePPRespSubscribers.push(e),s.default.subscribe(this.INITIATE_PP_INIT_RESP_TOPIC,e)}registerConvertPPRespCB(e){this.convertPPRespSubscribers.push(e),s.default.subscribe(this.CONVERT_PP_RESP_TOPIC,e)}cleanup(){this.checkPPEnabledRespSubscribers&&this.checkPPEnabledRespSubscribers.forEach(e=>{s.default.unsubscribe(this.CHECK_PP_ENABLED_RESP_TOPIC,e)}),this.initiatePPReqSubscribers&&this.initiatePPReqSubscribers.forEach(e=>{s.default.unsubscribe(this.INITIATE_PP_INIT_TOPIC,e)}),this.initiatePPRespSubscribers&&this.initiatePPRespSubscribers.forEach(e=>{s.default.unsubscribe(this.INITIATE_PP_INIT_RESP_TOPIC,e)}),this.convertPPReqSubscribers&&this.convertPPReqSubscribers.forEach(e=>{s.default.unsubscribe(this.CONVERT_PP_TOPIC,e)}),this.convertPPRespSubscribers&&this.convertPPRespSubscribers.forEach(e=>{s.default.unsubscribe(this.CONVERT_PP_RESP_TOPIC,e)}),this.logger.debug({debug:"PPService: Cleaning up."},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,r){this.ngxComm=e,this.logger=t,this.appStore=r,this.CHECK_CASHLESS_ENABLED_TOPIC="checkCashlessEnabled",this.CHECK_CASHLESS_ENABLED_RESP_TOPIC="checkCashlessEnabledResp",this.GET_CASHLESS_BALANCE_TOPIC="getCashlessBalance",this.GET_CASHLESS_BALANCE_RESP_TOPIC="getCashlessBalanceResp",this.INITIATE_CASHLESS_TRANSFER_FROM_GAME_TOPIC="initiateTransferFromEgm",this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC="initiateTransferResp",this.INITIATE_CASHLESS_TRANSFER_FROM_CARD_TOPIC="initiateTransferFromCard",this.VALIDATE_PIN_TOPIC="validatePIN",this.VALIDATE_PIN_RESP_TOPIC="validatePINResp",this.GET_CASHLESS_STATUS_MAX_ATTEMPTS=30,this.GET_CASHLESS_STATUS_INTERVAL=1e3,this.enumCashlessResult={TRANSFER_PENDING:0,TRANSFER_SUCCESS:1,TRANSFER_ABORTED:2,TRANSFER_FAILED:3,TRANSFER_ABORTED_OPERATION_STARTED:5,TRANSFER_FAILED_OPERATION_STARTED:6},this.enumCashlessTransferStatus={SUCCESSFUL_OPERATION:0,ABORTED_OPERATION:1,FAILED_OPERATION:2,ABORTED_OPERATION_STARTED:3,FAILED_OPERATION_STARTED:4,FAILED_OTHER_REASON:5,TIMEOUT:6,UNLOCK_SUCCESSFUL:7,CREDITS_EXIST:8,GAME_IN_PROGRESS:9,UNLOCK_FAILED_OTHER_REASON:10,INVALID_TRANSFER_REQUEST:11,REQUESTED_AMOUNT_TO_LOW:12,REQUESTED_AMOUNT_LESS_THAN_MIN_FR:13,REQUESTED_AMOUNT_GREATER_THAN_MAX_FR:14,REQUESTED_AMOUNT_EXCEEDS_CARD_BALANCE:15,CARD_BALANCE_TOO_LOW:16,REQUESTED_AMOUNT_LESS_THAN_MIN_TO:17,REQUESTED_AMOUNT_GREATER_THAN_MAX_TO:18,PIN_LOCKED:19,PIN_VALIDATION_FAILED:20},this.enumXferDirection={INVALID_DIRECTION:0,XFER_FROM_GAME:1,XFER_FROM_CARD:2},this.enumPINStatus={VALID:1,INVALID:2,LOCKED:3,NO_RESPONSE:4,NOT_ENTERED:5},this.GET_AUTOPLAY_STATUS_MAX_ATTEMPTS=5,this.GET_AUTOPLAY_STATUS_INTERVAL=1e3,this.SET_EJECT_CARD_MAX_ATTEMPTS=6,this.SET_EJECT_CARD_INTERVAL=5e3,this.cashlessCheckResp1=!1,this.cashlessCheckResp2=!1,this.transferStatusCount=0,this.cashlessStatusCheckIntervalID=0,this.transferAmount=0,this.cashoutRequest=!1,this.ejectCard=!1,this.disableAutoPlay=!1,this.getAutoPlayStatusCount=0,this.getAutoPlayStatusCheckIntervalID=0,this.allowTransferOverMaxBal=!1,this.validatePin=!0,this.xferDirection=this.enumXferDirection.INVALID_DIRECTION,this.enumBE2Func=n.default.enumBE2BasicFunc,this.checkCashlessEnabledSubscribers=[],this.checkCashlessEnabledSubscribersResp=[],this.getCashlessBalanceSubscribers=[],this.getCashlessBalanceSubscribersResp=[],this.getInitiateTransferFromSubscribers=[],this.getInitiateTransferToSubscribers=[],this.getInitiateTransferSubscribersResp=[],this.handleValidatePINRespFn=this.handleValidatePINResp.bind(this);let a=this.checkCashlessEnabled.bind(this);this.checkCashlessEnabledSubscribers.push(a),s.default.subscribe(this.CHECK_CASHLESS_ENABLED_TOPIC,a);let i=this.getCashlessBalances.bind(this);this.getCashlessBalanceSubscribers.push(i),s.default.subscribe(this.GET_CASHLESS_BALANCE_TOPIC,i);let o=this.initiateTransferFromGame.bind(this);this.getInitiateTransferFromSubscribers.push(o),s.default.subscribe(this.INITIATE_CASHLESS_TRANSFER_FROM_GAME_TOPIC,o);let l=this.initiateTransferFromCard.bind(this);this.getInitiateTransferToSubscribers.push(l),s.default.subscribe(this.INITIATE_CASHLESS_TRANSFER_FROM_CARD_TOPIC,l)}checkCashlessEnabled(){this.processCheckCashlessEnabledResp()}processCheckCashlessEnabledResp(){const e={cmd:"checkCashlessEnabledResp",ver:"1.0",enabled:!1,responseData:{cardType:0,bonusing:!1,haveData:!1,haveLock:!1,gameEnabled:!1,coinlessAvailable:!1,balanceActive:!1,cashlessEnabled:!1,abandonedStatus:!1,haveCTSData:!1,haveCardData:!1,coinlessEnabled:!1}};this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&null!==this.appStore.AppStore.playerBonuses.cashless.enable).then(function(t){e.enabled=t.playerBonuses.cashless.enable,e.responseData.cardType=t.playerBonuses.cashless.cardType,e.responseData.abandonedStatus=t.player_info.isAbandoned,e.responseData.bonusing=t.playerBonuses.cashless.flags.bonusing,e.responseData.haveData=t.playerBonuses.cashless.flags.haveData,e.responseData.haveLock=t.playerBonuses.cashless.flags.haveLock,e.responseData.gameEnabled=t.playerBonuses.cashless.flags.gameEnabled,e.responseData.coinlessAvailable=t.playerBonuses.cashless.flags.coinlessAvailable,e.responseData.balanceActive=t.playerBonuses.cashless.flags.balanceActive,e.responseData.cashlessEnabled=t.playerBonuses.cashless.flags.cashlessEnabled,e.responseData.haveCTSData=t.playerBonuses.cashless.flags.haveCTSData,e.responseData.haveCardData=t.playerBonuses.cashless.flags.haveCardData,e.responseData.coinlessEnabled=t.playerBonuses.cashless.flags.coinlessEnabled,!0===t.player_info.isAbandoned?(e.enabled=!1,this.logger.debug({debug:"CashlessService: Cashless is NOT available Card is abandoned",data:e},!0)):e.enabled?this.logger.debug({debug:"CashlessService: Cashless is available",data:e},!0):this.logger.debug({debug:"CashlessService: Cashless is NOT available.",data:e},!0),s.default.publish(this.CHECK_CASHLESS_ENABLED_RESP_TOPIC,e)}.bind(this))}getCashlessBalances(){this.logger.debug({debug:"CashlessService: Sending BE2 Basic Function request [GetCashlessParameters, MP_GetEgmDenom].",data:""},!0);const e=[[this.enumBE2Func.GetCashlessParameters,[0,0,0,0]],[this.enumBE2Func.MP_GetEgmDenom,[0,0,0,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processGetCashlessBalanceResp.bind(this))}processGetCashlessBalanceResp(e,t){const r={cmd:"getCashlessBalanceResp",ver:"1.0",cashlessBalances:{cardCents:0,egmCents:0,minToEgm:0,maxToEgm:0,minFrEgm:0,maxFrEgm:0,maxCardBal:0,egmDenom:0}};e?this.logger.error({error:"CashlessService: Received an error in processGetCashlessBalanceResp.",data:e},!0):this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&(0==t[n.default.BE2_BASIC_RESPONSE].length||t[n.default.BE2_BASIC_RESPONSE].length>0)).then(function(e){let a;r.cashlessBalances.minToEgm=e.playerBonuses.cashless.transferLimits.minToEgm,r.cashlessBalances.maxToEgm=e.playerBonuses.cashless.transferLimits.maxToEgm,r.cashlessBalances.minFrEgm=e.playerBonuses.cashless.transferLimits.minFrEgm,r.cashlessBalances.maxFrEgm=e.playerBonuses.cashless.transferLimits.maxFrEgm,r.cashlessBalances.maxCardBal=e.playerBonuses.cashless.transferLimits.maxBal,0!==(a=t[n.default.BE2_BASIC_RESPONSE]).length?(a.forEach(t=>{switch(t.functionCode){case this.enumBE2Func.GetCashlessParameters:r.cashlessBalances.cardCents=t.retvals[0],r.cashlessBalances.egmCents=t.retvals[1],e.playerBonuses.cashless.balances.cardCents=t.retvals[0],e.playerBonuses.cashless.balances.egmCents=t.retvals[1];break;case this.enumBE2Func.MP_GetEgmDenom:r.cashlessBalances.egmDenom=t.retvals[0],e.playerBonuses.cashless.balances.egmDenom=t.retvals[0];break;default:this.logger.debug({debug:"Unknown BE2Response!",data:""},!0)}}),s.default.publish(this.GET_CASHLESS_BALANCE_RESP_TOPIC,r)):this.logger.debug({debug:"CashlessService: No BE2 responses.",data:t},!0)}.bind(this))}doNothing(e,t){e&&this.logError("doNothing",e)}handleValidatePINResp(e){const t=e.detail;this.logger.info({info:"CashlessService: PIN validation response received.",data:t},!0),t.status!==this.enumPINStatus.VALID&&t.status!==this.enumPINStatus.LOCKED&&t.status!==this.enumPINStatus.NO_RESPONSE&&t.status!==this.enumPINStatus.NOT_ENTERED||s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),t.status===this.enumPINStatus.VALID?this.xferDirection===this.enumXferDirection.XFER_FROM_GAME?this.completeXferFromGame():this.xferDirection===this.enumXferDirection.XFER_FROM_CARD&&this.completeXferFromCard():t.status===this.enumPINStatus.INVALID?this.logger.debug({info:"CashlessService: PIN validation response received as INVALID",data:t},!0):s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.PIN_VALIDATION_FAILED))}initiateTransferFromGame(e){const t=e.detail;this.transferAmount=t.amount,this.cashoutRequest=t.cashoutRequest,this.disableAutoPlay=t.smartCard.autoPlayInUse,this.ejectCard=t.smartCard.ejectCard,this.allowTransferOverMaxBal=t.allowTransferOverMaxBal,this.validatePin=t.validatePin;const r=[[this.enumBE2Func.GetCashlessParameters,[0,0,0,0]]],a=n.default.createBE2BasicFunctionArr(r);this.ngxComm.sendBe2Message(a,(e,t)=>{if(e)return void this.logger.error({error:"CashlessService: Received an error in initiateTransferFromGame.",data:e},!0);const r=t[n.default.BE2_BASIC_RESPONSE];0!==r.length?this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&(parseInt(this.transferAmount,10)<this.appStore.AppStore.playerBonuses.cashless.transferLimits.minFrEgm||this.transferAmount<=0||this.appStore.AppStore.pin.locked||this.appStore.AppStore.pin.check_pin_needed||this.appStore.AppStore.pin.force_pin||parseInt(this.transferAmount,10)>=this.appStore.AppStore.playerBonuses.cashless.transferLimits.minFrEgm&&!this.appStore.AppStore.pin.locked&&!this.appStore.AppStore.pin.check_pin_needed&&!this.appStore.AppStore.pin.force_pin)).then(function(e){let a=e.playerBonuses.cashless.transferLimits.minFrEgm,i=e.playerBonuses.cashless.transferLimits.maxBal,o=null,l=null;if(r.forEach(t=>{switch(t.functionCode){case this.enumBE2Func.GetCashlessParameters:o=t.retvals[0],l=t.retvals[1],e.playerBonuses.cashless.balances.cardCents=t.retvals[0],e.playerBonuses.cashless.balances.egmCents=t.retvals[1];break;default:this.logger.debug({debug:"Unknown BE2Response!",data:""},!0)}},this),void 0!==this.cashoutRequest&&!0===this.cashoutRequest&&(this.transferAmount=l),this.transferAmount<=0)return this.logger.debug({debug:"CashlessService: Invalid transfer request, transfer amount is less than or equal to 0.",data:t},!0),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.REQUESTED_AMOUNT_TO_LOW));if(parseInt(this.transferAmount,10)<a)return this.logger.debug({debug:"CashlessService: Invalid transfer request, transfer amount can not be less than the min from egm.",data:t},!0),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.REQUESTED_AMOUNT_LESS_THAN_MIN_FR));if(o>i&&void 0!==this.allowTransferOverMaxBal&&!1===this.allowTransferOverMaxBal)return this.logger.debug({debug:"CashlessService: Invalid transfer request, amount on card cannot be greater than max card balance.",data:t},!0),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.REQUESTED_AMOUNT_GREATER_THAN_MAX_FR));if(e.pin.locked){const e=n.default.createBE2BasicFunctionArr([[n.default.enumBE2BasicFunc.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.PIN_LOCKED))}if((e.pin.check_pin_needed||e.pin.force_pin)&&!0===this.validatePin)return this.logger.debug({debug:"CashlessService: PIN required. Validating PIN.",data:null},!0),this.xferDirection=this.enumXferDirection.XFER_FROM_GAME,s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),s.default.subscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),void s.default.publish(this.VALIDATE_PIN_TOPIC,this.createValidatePINReq());this.completeXferFromGame()}.bind(this)):this.logger.debug({debug:"CashlessService: No BE2 responses.",data:t},!0)})}completeXferFromGame(){let e,t;if(this.cashoutRequest){const e=[[this.enumBE2Func.Cashless_TransferFromGame,[0,4294967295,1,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processInitiateTransferFromGameResp.bind(this)),this.transferStatusCount=0,this.cashlessStatusCheckIntervalID=window.setInterval(this.checkTransferStatus.bind(this),this.GET_CASHLESS_STATUS_INTERVAL)}else this.disableAutoPlay?(this.getAutoPlayStatusCount=0,this.getAutoPlayStatusCheckIntervalID=window.setInterval(this.checkGetAutoPlayStatus.bind(this),this.GET_AUTOPLAY_STATUS_INTERVAL)):(e=[[this.enumBE2Func.Cashless_TransferFromGame,[0,parseInt(this.transferAmount,10),1,0]]],t=n.default.createBE2BasicFunctionArr(e),this.ngxComm.sendBe2Message(t,this.processInitiateTransferFromGameResp.bind(this)),this.transferStatusCount=0,this.cashlessStatusCheckIntervalID=window.setInterval(this.checkTransferStatus.bind(this),this.GET_CASHLESS_STATUS_INTERVAL))}processInitiateTransferFromGameResp(e,t){if(e)this.logger.error({error:"CashlessService: Received an error in processInitiateTransferFromGameResp.",data:e},!0);else{let e;if(0===(e=t[n.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"CashlessService: No BE2 responses.",data:t},!0);e.forEach(e=>{e.functionCode!==this.enumBE2Func.Cashless_TransferFromGame&&this.logger.debug({debug:"Unknown BE2Response!",data:""},!0)})}}createInitiateTransferTimeoutResp(){return{cmd:"initiateTransferResp",ver:"1.0",transferData:{status:this.enumCashlessTransferStatus.TIMEOUT,transferAmount:this.transferAmount}}}createInitiateTransferInvalidRequestResp(e){return{cmd:"initiateTransferResp",ver:"1.0",transferData:{status:e,transferAmount:this.transferAmount}}}checkTransferStatus(){this.logger.debug({debug:"CashlessService: Sending BE2 Basic Function request [Cashless_GetStatus].",data:""},!0),++this.transferStatusCount,this.transferStatusCount>this.GET_CASHLESS_STATUS_MAX_ATTEMPTS&&(window.clearInterval(this.cashlessStatusCheckIntervalID),this.logger.error({error:"CashlessService: checkTransferStatus max attempts exceeded. Publishing InitiateTransferResp with NO_RESPONSE."},!0),s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferTimeoutResp()));const e=[[this.enumBE2Func.Cashless_GetStatus,[0,0,0,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processCheckTransferStatusResp.bind(this))}checkGetAutoPlayStatus(){++this.getAutoPlayStatusCount,this.getAutoPlayStatusCount>this.GET_AUTOPLAY_STATUS_MAX_ATTEMPTS&&(window.clearInterval(this.getAutoPlayStatusCheckIntervalID),this.logger.error({error:"CashlessService: getAutoPlayStatus max attempts exceeded. Publishing InitiateTransferResp with NO_RESPONSE."},!0),this.sendCashlessStatus({cmd:"initiateTransferResp",ver:"1.0",transferData:{status:this.enumCashlessTransferStatus.FAILED_OTHER_REASON,transferAmount:this.transferAmount}}));const e=n.default.createBE2BasicFunctionArr([[this.enumBE2Func.MENU_GetAutoPlayStatus,[0,0,0,0]]]);this.ngxComm.sendBe2Message(e,this.processGetAutoPlayStatusResp.bind(this))}processCheckTransferStatusResp(e,t){const r={cmd:"initiateTransferResp",ver:"1.0",transferData:{status:this.enumCashlessTransferStatus.FAILED_OTHER_REASON,transferAmount:this.transferAmount}};if(e)this.logger.error({error:"CashlessService: Received an error in processCheckTransferStatusResp.",data:e},!0);else{let e;if(0===(e=t[n.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"CashlessService: No BE2 responses.",data:t},!0);e.forEach(e=>{if(e.functionCode===this.enumBE2Func.Cashless_GetStatus)switch(e.retvals[0]){case this.enumCashlessResult.TRANSFER_PENDING:this.logger.debug({debug:"Cashless Transfer Pending",data:""},!0);break;case this.enumCashlessResult.TRANSFER_SUCCESS:if(this.ejectCard){const e=n.default.createBE2BasicFunctionArr([[this.enumBE2Func.LOLSCH_PatronRequestUnlock,[0,0,0,0]]]);this.ngxComm.sendBe2Message(e,this.processEjectCardResp.bind(this))}else r.transferData.status=this.enumCashlessTransferStatus.SUCCESSFUL_OPERATION,this.sendCashlessStatus(r);break;case this.enumCashlessResult.TRANSFER_ABORTED:r.transferData.status=this.enumCashlessTransferStatus.ABORTED_OPERATION,this.sendCashlessStatus(r);break;case this.enumCashlessResult.TRANSFER_FAILED:r.transferData.status=this.enumCashlessTransferStatus.FAILED_OPERATION,this.sendCashlessStatus(r);break;case this.enumCashlessResult.TRANSFER_ABORTED_OPERATION_STARTED:r.transferData.status=this.enumCashlessTransferStatus.ABORTED_OPERATION_STARTED,this.sendCashlessStatus(r);break;case this.enumCashlessResult.TRANSFER_FAILED_OPERATION_STARTED:r.transferData.status=this.enumCashlessTransferStatus.FAILED_OPERATION_STARTED,this.sendCashlessStatus(r);break;default:this.logger.debug({debug:"Unknown BE2Response!",data:""},!0),r.transferData.status=this.enumCashlessTransferStatus.FAILED_OTHER_REASON,this.sendCashlessStatus(r)}else this.logger.debug({debug:"Unknown BE2Response!",data:""},!0)})}}sendCashlessStatus(e){window.clearInterval(this.cashlessStatusCheckIntervalID),s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,e)}processGetAutoPlayStatusResp(e,t){if(e)this.logger.error({error:"CashlessService: Received an error in processGetAutoPlayStatusResp.",data:e},!0);else{let e;if(0===(e=t[n.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"CashlessService: No BE2 responses for processGetAutoPlayStatusResp.",data:t},!0);e.forEach(e=>{if(e.functionCode===this.enumBE2Func.MENU_GetAutoPlayStatus&&0===e.retvals[0]){window.clearInterval(this.getAutoPlayStatusCheckIntervalID);const e=n.default.createBE2BasicFunctionArr([[this.enumBE2Func.MENU_SetAutoPlayStatus,[0,0,0,0]]]);this.ngxComm.sendBe2Message(e,(e,t)=>{e?this.logger.error({error:"Cashless Service: Received an error in SetAutoPlayStatus.",data:e},!0):this.logger.debug({debug:"Cashless Service: Received BE2 response for SetAutoPlayStatus.",data:t},!0)});const t=n.default.createBE2BasicFunctionArr([[this.enumBE2Func.Cashless_TransferFromGame,[0,parseInt(this.transferAmount,10),1,0]]]);this.ngxComm.sendBe2Message(t,this.processInitiateTransferFromGameResp.bind(this)),this.transferStatusCount=0,this.cashlessStatusCheckIntervalID=window.setInterval(this.checkTransferStatus.bind(this),this.GET_CASHLESS_STATUS_INTERVAL)}})}}processEjectCardResp(e,t){this.logger.debug({debug:"CashlessService: Received BE2 Basic Function response [LOLSCH_PatronRequestUnlock].",data:t},!0);const r={cmd:"initiateTransferResp",ver:"1.0",transferData:{status:this.enumCashlessTransferStatus.UNLOCK_FAILED_OTHER_REASON,transferAmount:this.transferAmount}};if(e)this.logger.error({error:"CashlessService: Received an error in processEjectCardResp.",data:e},!0);else{let e;if(0===(e=t[n.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"CashlessService: No BE2 responses for LOLSCH_PatronRequestUnlock.",data:t},!0);e.forEach(e=>{e.functionCode===this.enumBE2Func.LOLSCH_PatronRequestUnlock&&0===e.retvals[0]?(r.transferData.status=this.enumCashlessTransferStatus.UNLOCK_SUCCESSFUL,this.sendCashlessStatus(r),this.logger.debug({debug:"CashlessService: Card unlocked.",data:t},!0)):e.functionCode===this.enumBE2Func.LOLSCH_PatronRequestUnlock&&1===e.retvals[0]?(r.transferData.status=this.enumCashlessTransferStatus.CREDITS_EXIST,this.sendCashlessStatus(r),this.logger.debug({debug:"CashlessService: Cannot unlock card, credits exist on the machine.",data:t},!0)):e.functionCode===this.enumBE2Func.LOLSCH_PatronRequestUnlock&&2===e.retvals[0]&&(r.transferData.status=this.enumCashlessTransferStatus.GAME_IN_PROGRESS,this.sendCashlessStatus(r),this.logger.debug({debug:"CashlessService: Cannot unlock card, game in progress.",data:t},!0))})}}initiateTransferFromCard(e){const t=e.detail;this.transferAmount=t.transferAmount,this.validatePin=t.validatePin,this.appStore.asyncGetAppStoreCache(()=>this.appStore.AppStore.playerBonuses&&(null!=this.appStore.AppStore.playerBonuses.cashless.transferLimits.minToEgm&&null!=this.appStore.AppStore.playerBonuses.cashless.balances.cardCents&&!this.appStore.AppStore.pin.locked&&!this.appStore.AppStore.pin.check_pin_needed&&!this.appStore.AppStore.pin.force_pin||this.appStore.AppStore.playerBonuses.cashless.balances.cardCents>0&&null!=this.appStore.AppStore.playerBonuses.cashless.transferLimits.minToEgm&&!this.appStore.AppStore.pin.locked&&!this.appStore.AppStore.pin.check_pin_needed&&!this.appStore.AppStore.pin.force_pin)).then(function(e){let r=e.playerBonuses.cashless.transferLimits.minToEgm;if(e.playerBonuses.cashless.transferLimits.maxToEgm,e.playerBonuses.cashless.balances.cardCents<=0)return this.logger.debug({debug:"CashlessService: Invalid transfer request, amount on card is less than or equal to 0.",data:t},!0),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.CARD_BALANCE_TOO_LOW));if(parseInt(this.transferAmount,10)<=0)return this.logger.debug({debug:"CashlessService: Invalid transfer request, transfer amount is less than or equal to 0.",data:t},!0),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.REQUESTED_AMOUNT_TO_LOW));if(parseInt(this.transferAmount,10)<r)return this.logger.debug({debug:"CashlessService: Invalid transfer request, transfer amount can not be less than min to egm.",data:t},!0),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.REQUESTED_AMOUNT_LESS_THAN_MIN_TO));if(e.pin.locked){const e=n.default.createBE2BasicFunctionArr([[n.default.enumBE2BasicFunc.PIN_NotEntered,[0,0,0,0]]]);return this.ngxComm.sendBe2Message(e,this.doNothing.bind(this)),void s.default.publish(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,this.createInitiateTransferInvalidRequestResp(this.enumCashlessTransferStatus.PIN_LOCKED))}if((e.pin.check_pin_needed||e.pin.force_pin)&&!0===this.validatePin)return this.logger.debug({debug:"CashlessService: PIN required. Validating PIN.",data:null},!0),this.xferDirection=this.enumXferDirection.XFER_FROM_CARD,s.default.unsubscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),s.default.subscribe(this.VALIDATE_PIN_RESP_TOPIC,this.handleValidatePINRespFn),void s.default.publish(this.VALIDATE_PIN_TOPIC,this.createValidatePINReq());this.completeXferFromCard()}.bind(this))}completeXferFromCard(){this.logger.debug({debug:"CashlessService: Sending BE2 Basic Function request [Cashless_TransferFromCard].",data:""},!0),this.ejectCard=!1;const e=[[this.enumBE2Func.Cashless_TransferFromCard,[0,parseInt(this.transferAmount,10),1,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processInitiateTransferFromCardResp.bind(this)),this.transferStatusCount=0,this.cashlessStatusCheckIntervalID=window.setInterval(this.checkTransferStatus.bind(this),this.GET_CASHLESS_STATUS_INTERVAL)}processInitiateTransferFromCardResp(e,t){if(e)this.logger.error({error:"CashlessService: Received an error in processInitiateTransferFromCardResp.",data:e},!0);else{let e;if(0===(e=t[n.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"CashlessService: No BE2 responses.",data:t},!0);e.forEach(e=>{e.functionCode===this.enumBE2Func.Cashless_TransferFromCard?this.logger.debug({debug:"CashlessService: Received Response to Cashless_TransferFromCard",data:t},!0):this.logger.debug({debug:"Unknown BE2Response!",data:""},!0)})}}createValidatePINReq(){return{cmd:"validatePIN",ver:"1.0"}}registerCashlessEnabledRespCB(e){this.checkCashlessEnabledSubscribersResp.push(e),s.default.subscribe(this.CHECK_CASHLESS_ENABLED_RESP_TOPIC,e)}registerGetCashlessBalanceRespCB(e){this.getCashlessBalanceSubscribersResp.push(e),s.default.subscribe(this.GET_CASHLESS_BALANCE_RESP_TOPIC,e)}registerInitiateTransferRespCB(e){this.getInitiateTransferSubscribersResp.push(e),s.default.subscribe(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,e)}cleanup(){this.checkCashlessEnabledSubscribersResp&&this.checkCashlessEnabledSubscribersResp.forEach(e=>{s.default.unsubscribe(this.CHECK_CASHLESS_ENABLED_RESP_TOPIC,e)}),this.getCashlessBalanceSubscribersResp&&this.getCashlessBalanceSubscribersResp.forEach(e=>{s.default.unsubscribe(this.GET_CASHLESS_BALANCE_RESP_TOPIC,e)}),this.getInitiateTransferSubscribersResp&&this.getInitiateTransferSubscribersResp.forEach(e=>{s.default.unsubscribe(this.INITIATE_CASHLESS_TRANSFER_RESP_TOPIC,e)}),this.checkCashlessEnabledSubscribers&&this.checkCashlessEnabledSubscribers.forEach(e=>{s.default.unsubscribe(this.CHECK_CASHLESS_ENABLED_TOPIC,e)}),this.getCashlessBalanceSubscribers&&this.getCashlessBalanceSubscribers.forEach(e=>{s.default.unsubscribe(this.GET_CASHLESS_BALANCE_TOPIC,e)}),this.getInitiateTransferFromSubscribers&&this.getInitiateTransferFromSubscribers.forEach(e=>{s.default.unsubscribe(this.INITIATE_CASHLESS_TRANSFER_FROM_GAME_TOPIC,e)}),this.getInitiateTransferToSubscribers&&this.getInitiateTransferToSubscribers.forEach(e=>{s.default.unsubscribe(this.INITIATE_CASHLESS_TRANSFER_FROM_CARD_TOPIC,e)}),this.logger.debug({debug:"CashlessService: Cleaning up."},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t){this.ngxComm=e,this.logger=t,this.CHECK_POINT_PAY_ENABLED_TOPIC="checkPointPayEnabled",this.CHECK_POINT_PAY_ENABLED_RESP_TOPIC="checkPointPayEnabledResp",this.CHECK_POINT_PAY_CODE_TOPIC="checkPointPayCode",this.CHECK_POINT_PAY_CODE_RESP_TOPIC="checkPointPayCodeResp",this.INITIATE_POINT_PAY_TOPIC="initiatePointPay",this.INITIATE_POINT_PAY_RESP_TOPIC="initiatePointPayResp",this.ppEnabledCB=null,this.ppCodeCB=null,this.ppInitiateCB=null,this.checkPointPayEnabledFn=this.checkPointPayEnabled.bind(this),this.checkPointPayCodeFn=this.checkPointPayCode.bind(this),this.initiatePointPayFn=this.initiatePointPay.bind(this),s.default.subscribe(this.CHECK_POINT_PAY_ENABLED_TOPIC,this.checkPointPayEnabledFn),s.default.subscribe(this.CHECK_POINT_PAY_CODE_TOPIC,this.checkPointPayCodeFn),s.default.subscribe(this.INITIATE_POINT_PAY_TOPIC,this.initiatePointPayFn)}checkPointPayEnabled(){this.logger.debug({debug:"Point Pay Service: Sending BE2 Basic Function request [PT_Get_Point_Pay_Available]",data:""},!0);const e=[[n.default.enumBE2BasicFunc.PT_Get_Point_Pay_Available,[0,0,0,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processCheckPointPayEnabledResp.bind(this))}processCheckPointPayEnabledResp(e,t){if(e)this.logger.error({error:"Point Pay Service: Received an error in processCheckPointPayEnabledResp.",data:e},!0);else{const e={cmd:"checkPointPayEnabledResp",ver:"1.0",enabled:!1},r=t[n.default.BE2_BASIC_RESPONSE];0===r.length?this.logger.debug({debug:"Point Pay Service: No BE2 responses.",data:t},!0):(r.forEach(t=>{t.functionCode===n.default.enumBE2BasicFunc.PT_Get_Point_Pay_Available?1===t.retvals[0]?e.enabled=!0:e.enabled=!1:this.logger.debug({debug:"Unknown BE2Response encountered in processCheckPointPayEnabledResp.",data:""},!0)}),this.logger.debug({debug:"Point Pay Service: Point Pay enabled is "+e.enabled,data:""},!0)),s.default.publish(this.CHECK_POINT_PAY_ENABLED_RESP_TOPIC,e)}}checkPointPayCode(e){const t=parseInt(e.detail.code,10);this.logger.debug({debug:"Point Pay Service: Sending BE2 Basic Function request [MP_CheckPointPayCode]",data:""},!0);const r=[[n.default.enumBE2BasicFunc.MP_CheckPointPayCode,[parseInt(t.toString(),10),t.toString().length,0,0]]],s=n.default.createBE2BasicFunctionArr(r);this.ngxComm.sendBe2Message(s,this.processCheckPointPayCodeResp.bind(this))}processCheckPointPayCodeResp(e,t){if(e)this.logger.error({error:"Point Pay Service: Received an error in processCheckPointPayCodeResp.",data:e},!0);else{const e={cmd:"checkPointPayCodeResp",ver:"1.0",valid:!1},r=t[n.default.BE2_BASIC_RESPONSE];0===r.length?this.logger.debug({debug:"Point Pay Service: No BE2 responses.",data:t},!0):(r.forEach(t=>{t.functionCode===n.default.enumBE2BasicFunc.MP_CheckPointPayCode?1===t.retvals[2]?e.valid=!0:e.valid=!1:this.logger.debug({debug:"Unknown BE2Response encountered in processCheckPointPayCodeResp.",data:""},!0)}),this.logger.debug({debug:"Point Pay Service: Pay Code matched is "+e.valid,data:""},!0)),s.default.publish(this.CHECK_POINT_PAY_CODE_RESP_TOPIC,e)}}initiatePointPay(e){const t=e.detail.points;this.logger.debug({debug:"Point Pay Service: Sending BE2 Basic Function request [MP_PointsToPayment]",data:""},!0);const r=[[n.default.enumBE2BasicFunc.MP_PointsToPayment,[t,0,0,0]]],s=n.default.createBE2BasicFunctionArr(r);this.ngxComm.sendBe2Message(s,this.processInitiatePointPayResp.bind(this))}processInitiatePointPayResp(e,t){const r={cmd:"initiatePointPayResp",ver:"1.0",status:0};if(e)this.logger.error({error:"Point Pay Service: Received an error in processInitiatePointPayResp.",data:e},!0);else{const e=t[n.default.BE2_BASIC_RESPONSE];0===e.length?this.logger.debug({debug:"Point Pay Service: No BE2 responses.",data:t},!0):(e.forEach(e=>{e.functionCode===n.default.enumBE2BasicFunc.MP_PointsToPayment?r.status=e.retvals[1]:this.logger.debug({debug:"Unknown BE2Response encountered in processInitiatePointPayResp.",data:""},!0)}),this.logger.debug({debug:"Point Pay Service: Transaction "+(1===r.status?"succeeded ":"failed ")+"with status: "+r.status,data:""},!0))}s.default.publish(this.INITIATE_POINT_PAY_RESP_TOPIC,r)}registerPointPayEnabledRespCB(e){this.ppEnabledCB=e,s.default.subscribe(this.CHECK_POINT_PAY_ENABLED_RESP_TOPIC,e)}registerPointPayCodeRespCB(e){this.ppCodeCB=e,s.default.subscribe(this.CHECK_POINT_PAY_CODE_RESP_TOPIC,e)}registerInitiatePointPayRespCB(e){this.ppInitiateCB=e,s.default.subscribe(this.INITIATE_POINT_PAY_RESP_TOPIC,e)}cleanup(){s.default.unsubscribe(this.CHECK_POINT_PAY_ENABLED_TOPIC,this.checkPointPayEnabledFn),s.default.unsubscribe(this.CHECK_POINT_PAY_CODE_TOPIC,this.checkPointPayCodeFn),s.default.unsubscribe(this.INITIATE_POINT_PAY_TOPIC,this.initiatePointPayFn),s.default.unsubscribe(this.CHECK_POINT_PAY_ENABLED_RESP_TOPIC,this.ppEnabledCB),s.default.unsubscribe(this.CHECK_POINT_PAY_CODE_RESP_TOPIC,this.ppCodeCB),s.default.unsubscribe(this.INITIATE_POINT_PAY_RESP_TOPIC,this.ppInitiateCB),this.logger.debug({debug:"Point Pay Service: Cleaning up."},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}const i=e=>{return{cmd:"showFullscreen",ver:"1.0",showFullscreen:e||!1}},o="locked",l="unlocked",c="pendingUnlock",u="pendingLock";t.default=class{constructor(e,t,r,n){var a=this;this.gameLockStatus=l,this.userPreferredFullScreenState=!1,this.watchProperty("gameLockStatus",function(){this.syncFullScreenState()}),this.watchProperty("userPreferredFullScreenState",function(e){e?this.sendGameLockMsg(this):this.sendGameUnlockMsg(this),this.syncFullScreenState()}),Object.defineProperty(this,"shouldShowFullscreen",{get(){return this.userPreferredFullScreenState&&this.gameLockStatus==o}}),this.checkGameLockInterval=setInterval(function(){(a.userPreferredFullScreenState&&a.gameLockStatus!=o||!a.userPreferredFullScreenState&&a.gameLockStatus!=l)&&a.sendLockToBE2(!0,0,a,!0)},2e3),this.ngxComm=e,this.logger=r,this.urlParams=n,this.shellCache=t,this.TOGGLE_FULL_SCREEN_TOPIC="toggle-full-screen",this.SHOW_FULL_SCREEN_TOPIC="show-full-screen",this.HIDE_FULL_SCREEN_TOPIC="hide-full-screen",this.gameLockTimeout=-1,this.defaultGameLockDurationInterval=300,this.defaultGameLockRequestInterval=60,this.defaultGameLockProcessingTime=3,this.fullscreenState=!1,this.watchProperty("fullscreenState",function(){a.syncFullScreenState()}),this.showBanner=!1,this.shellCache.storeShellStateElement("fullscreenState",this.fullscreenState,0),this.toggle=this.toggleFullScreen.bind(this),this.show=this.showFullScreen.bind(this),this.hide=this.hideFullScreen.bind(this),s.default.subscribe(this.TOGGLE_FULL_SCREEN_TOPIC,this.toggle),s.default.subscribe(this.SHOW_FULL_SCREEN_TOPIC,this.show),s.default.subscribe(this.HIDE_FULL_SCREEN_TOPIC,this.hide),e.registerFullScreenState(this.registerFullScreenStateCB.bind(this)),a.sendLockToBE2(!0,0,a,!0)}registerFullScreenStateCB(e){let t;t=e&&e instanceof CustomEvent?e.detail:e,this.fullscreenState=t.fullscreenState,this.shellCache.storeShellStateElement("fullscreenState",this.fullscreenState,0).then(()=>{this.logger.debug(`fullscreenState: ${this.fullscreenState}`)}),this.setSWFullScreenState(this.fullscreenState,this.urlParams,this.showBanner),this.logger.debug({debug:"fullscreenState has been changed to "+this.fullscreenState,data:t}),window.postMessage(t,"*")}sendGameLockMsg(e,t){let r=e.defaultGameLockRequestInterval;const n=e.defaultGameLockProcessingTime;t||(t=e.defaultGameLockDurationInterval),-1!==this.gameLockTimeout&&window.clearTimeout(e.gameLockTimeout),r>t-n&&(r=t-n),e.gameLockTimeout=window.setTimeout(()=>{this.sendGameLockMsg(e,t)},1e3*r),e.sendLockToBE2(!0,t,e)}sendGameUnlockMsg(e,t){-1!==e.gameLockTimeout&&window.clearTimeout(e.gameLockTimeout),t||(t=e.defaultGameLockDurationInterval),e.sendLockToBE2(!1,t,e)}isBe2Error(e){return!!e&&(this.logger.error({error:"fullscreenToggle: error while trying to setGameLock status.",data:e},!0),!0)}sendLockToBE2(e,t,r,s=!1){const a=!0===e?0:1,i=s?[[n.default.enumBE2BasicFunc.ContentLockGame,[2,t,0,0]]]:[[n.default.enumBE2BasicFunc.ContentLockGame,[a,t,0,0]],[n.default.enumBE2BasicFunc.ContentLockGame,[2,t,0,0]]],d=n.default.createBE2BasicFunctionArr(i),p=n.default.enumBE2BasicFunc;r.ngxComm.sendBe2Message(d,(t,s)=>{this.isBe2Error(t)||s[n.default.BE2_BASIC_RESPONSE].forEach(t=>{if(t.functionCode===p.ContentLockGame)if(2===t.retvals[0])2===t.retvals[2]?this.gameLockStatus=o:3===t.retvals[2]?this.gameLockStatus=l:this.gameLockStatus=e?u:c,r.logger.debug({debug:"BE2 gameLockStatus: "+this.gameLockStatus,data:t});else{const e=0===t.retvals[0];r.logger.debug({debug:"BE2 setGameLock: "+e,data:t})}else logger.warn({warn:"Unknown BE2Response!",data:""})})})}setSWFullScreenState(e,t,r=!1){const n=document.getElementById("BannerFrame"),s=document.getElementById("WrapperFrame"),a=document.getElementById("WrapperFrameOverLay"),i=document.getElementById("PinContentFrame"),o=document.getElementById("ShellBackgroundFrame"),l=void 0!==t.bannerPosition&&void 0!==t.bannerHeight,c="640px"===t.contentWidth&&"240px"===t.contentHeight;if(e&&l&&!c){let e;s.style.top="0px",s.style.left="0px",s.style.width=t.displayWidth+"px",a.style.top="0px",a.style.left="0px",a.style.width=t.displayWidth+"px",i.style.top="0px",i.style.left="0px",i.style.width=t.displayWidth+"px",o.style.top="0px",o.style.left="0px",o.style.width=t.displayWidth+"px",r?(n.style.visibility="visible",e=parseInt(t.displayHeight)-parseInt(t.bannerHeight)+"px","top"===t.bannerPosition&&(s.style.top=t.bannerHeight+"px",a.style.top=t.bannerHeight+"px",i.style.top=t.bannerHeight+"px",o.style.top=t.bannerHeight+"px")):(e=t.displayHeight+"px",n.style.visibility="hidden"),s.style.height=e,a.style.height=e,i.style.height=e,o.style.height=e}}syncFullScreenState(){if([o,l].includes(this.gameLockStatus)&&this.shouldShowFullscreen==this.userPreferredFullScreenState&&this.userPreferredFullScreenState!=this.fullscreenState){const e=i(this.shouldShowFullscreen);this.ngxComm.sendMessage(e)}}toggleFullScreen(e){this.showBanner=e.detail.showBanner,this.userPreferredFullScreenState=!this.userPreferredFullScreenState}showFullScreen(e){this.showBanner=e.detail.showBanner,this.userPreferredFullScreenState=!0}hideFullScreen(){this.userPreferredFullScreenState=!1}cleanup(){s.default.unsubscribe(this.TOGGLE_FULL_SCREEN_TOPIC,this.toggle),s.default.unsubscribe(this.SHOW_FULL_SCREEN_TOPIC,this.show),s.default.unsubscribe(this.HIDE_FULL_SCREEN_TOPIC,this.hide),this.unwatchAllProperties(),this.ngxComm&&this.ngxComm.unwatchProperty("gamePlayActive"),-1!==this.gameLockTimeout&&(window.clearTimeout(this.gameLockTimeout),this.gameLockTimeout=-1),this.checkGameLockInterval&&(clearInterval(this.checkGameLockInterval),delete this.checkGameLockInterval)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.shellState={}}addShellStateElement(e,t,r){return new Promise(n=>{if(0!==r){let n;n=setTimeout(()=>{delete this.shellState[e]},r),t={value:t,timeoutinstance:n},void 0!==this.shellState[e]&&void 0!==this.shellState[e].timeoutinstance&&clearTimeout(this.shellState[e].timeoutinstance),this.shellState[e]=t}else this.shellState[e]={value:t};return n()})}removeShellStateElement(e){return new Promise(t=>(void 0!==this.shellState[e]&&void 0!==this.shellState[e].timeoutinstance&&clearTimeout(this.shellState[e].timeoutinstance),delete this.shellState[e],t()))}storeShellStateElement(e,t,r=0){return new Promise(n=>this.addShellStateElement(e,t,r).then(()=>n(this.shellState)))}deleteShellStateElement(e){return this.removeShellStateElement(e)}getShellStateElement(e){if(void 0!==this.shellState[e])return this.shellState[e].value}getShellState(){return this.shellState}clearShellState(){return this.shellState={},this.shellState}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t){this.ngxComm=e,this.logger=t,this.CHECK_ATTENDANT_CARD_INSERTED_TOPIC="attendantCardInserted",this.CHECK_ATTENDANT_CARD_INSERTED_RESP_TOPIC="attendantCardInsertedResp",this.enumCardType={NONE:0,UNKNOWN:1,PLAYER:2,VIP:3,DROP_CARD:4,ATTENDANT:5,SUPERVISOR:6,WITNESS:7,UNREG_PLAYER:8,REG_PLAY:9,REG_VIP_PLAYER:10},this.enumBE2Func=n.default.enumBE2BasicFunc,this.attendantCardInsertedSubscribers=[],this.attendantCardInsertedSubscribersResp=[];let r=this.attendantCardInserted.bind(this);this.attendantCardInsertedSubscribers.push(r),s.default.subscribe(this.CHECK_ATTENDANT_CARD_INSERTED_TOPIC,r)}attendantCardInserted(){this.logger.debug({debug:"Attendant Service: Sending BE2 Basic Function request [PIN_GetCardType].",data:""},!0);const e=[[this.enumBE2Func.PIN_GetCardType,[0,0,0,0]]],t=n.default.createBE2BasicFunctionArr(e);this.ngxComm.sendBe2Message(t,this.processCardTypeResp.bind(this))}processCardTypeResp(e,t){const r={cmd:"attendantCardInsertedResp",ver:"1.0",attendantInserted:!1,cardType:0};if(e)this.logger.error({error:"AttendantService: Received an error in processCardTypeResp.",data:e},!0);else{let e;if(0===(e=t[n.default.BE2_BASIC_RESPONSE]).length)return void this.logger.debug({debug:"AttendantService: No BE2 responses.",data:t},!0);e.forEach(e=>{if(e.functionCode===this.enumBE2Func.PIN_GetCardType)switch(e.retvals[0]){case this.enumCardType.WITNESS:case this.enumCardType.SUPERVISOR:case this.enumCardType.ATTENDANT:r.attendantInserted=!0,r.cardType=e.retvals[0],this.sendCheckAttendantCardResp(r);break;default:r.cardType=e.retvals[0],this.sendCheckAttendantCardResp(r)}else this.logger.debug({debug:"AttendantService: Unknown BE2Response encountered in processCardTypeResp.",data:""},!0)})}}sendCheckAttendantCardResp(e){s.default.publish(this.CHECK_ATTENDANT_CARD_INSERTED_RESP_TOPIC,e)}registerCardTypeRespCB(e){this.attendantCardInsertedSubscribersResp.push(e),s.default.subscribe(this.CHECK_ATTENDANT_CARD_INSERTED_RESP_TOPIC,e)}cleanup(){this.attendantCardInsertedSubscribersResp&&this.attendantCardInsertedSubscribersResp.forEach(e=>{s.default.unsubscribe(this.CHECK_ATTENDANT_CARD_INSERTED_RESP_TOPIC,e)}),this.attendantCardInsertedSubscribers&&this.attendantCardInsertedSubscribers.forEach(e=>{s.default.unsubscribe(this.CHECK_ATTENDANT_CARD_INSERTED_TOPIC,e)}),this.logger.debug({debug:"AttendantService: Cleaning up."},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(3)),s=a(r(4));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,r,n,a){this.ngxComm=e,this.logger=t,this.m5Config=r,this.appStore=n,this.startSubscriptions=1==a,this.cardlessTimerEvent=60,this.checkCardlessCacheTime=3e4,this.lastDisconnectReason=null,this.clearStateTime=r.cardless.clearStateTimeInSecs||60,this.m5Config&&this.m5Config.cardless&&this.m5Config.cardless.checkCardlessCacheTimeInSecs&&(this.checkCardlessCacheTime=1e3*this.m5Config.cardless.checkCardlessCacheTimeInSecs),this.CARDLESS_STATUS_UPDATE_TOPIC="cardlessStatusUpdate",this.cardlessStatusUpdateSubscribers=[],this.lastReceivedTime=(new Date).getTime(),this.cardlessStatusHistory=[],this.enumCardlessStatus={OPEN:"open",CONNECTED:"connected",DISCONNECTED:"disconnected",CLOSED:"closed"};const i=()=>{var e=(new Date).getTime();if(this.appStore.getCurrentScreenTrigger()===s.default.IDLE_SCREEN&&this.cardlessStatusHistory[0]&&this.cardlessStatusHistory[0].interface){var t=(e-this.lastReceivedTime)/1e3;t>this.m5Config.cardless.clearStateTimeInSecs&&(this.logger.debug({debug:"CardlessService: checkCardlessCache - Clear Cardless Cache, last cardless data received in  : "+t+" secs"},!0),this.cardlessStatusHistory.length=0)}};this.startSubscriptions&&(this.setupCardlessAdvSubscription(),this.cardlessTimerEvent=setInterval(i,this.checkCardlessCacheTime))}formatEvent(e){return e&&e instanceof CustomEvent?e.detail:e}setupCardlessAdvSubscription(){this.ngxComm.registerCardlessStatus(this.handleCardlessData.bind(this))}handleCardlessData(e){this.lastReceivedTime=(new Date).getTime();const t={cmd:"cardlessStatusUpdate",ver:"1.0",cardlessStatusUpdate:null},r=this.formatEvent(e);this.logger.debug({debug:"CardlessService:handleCardlessData - Received Cardless Data",data:r},!0),r&&r.cardlessStatus&&(r.cardlessStatus.status===this.enumCardlessStatus.OPEN&&(this.cardlessStatusHistory.length=0),r.cardlessStatus.timestamp=this.lastReceivedTime,this.cardlessStatusHistory.unshift(r.cardlessStatus),this.cardlessStatusHistory.length>30&&this.cardlessStatusHistory.pop(),t.cardlessStatusUpdate=this.cardlessStatusHistory[0],r.cardlessStatus.status===this.enumCardlessStatus.DISCONNECTED&&(this.lastDisconnectReason=r.cardlessStatus.disconnectReason),this.lastDisconnectReason&&this.cardlessStatusHistory.forEach(e=>{e.lastDisconnectReason=this.lastDisconnectReason}),this.sendCardlessStatusUpdate(t))}getCardlessStatus(){return this.cardlessStatusHistory.length>0?this.cardlessStatusHistory[0]:null}getCardlessStatusHistory(){return this.cardlessStatusHistory||[]}sendCardlessStatusUpdate(e){n.default.publish(this.CARDLESS_STATUS_UPDATE_TOPIC,e)}registerCardlessStatusUpdateCB(e){this.cardlessStatusUpdateSubscribers.push(e),n.default.subscribe(this.CARDLESS_STATUS_UPDATE_TOPIC,e)}cleanup(){this.cardlessStatusUpdateSubscribers&&this.cardlessStatusUpdateSubscribers.forEach(e=>{n.default.unsubscribe(this.CARDLESS_STATUS_UPDATE_TOPIC,e)}),this.cardlessStatusHistory.length=0,clearInterval(this.cardlessTimerEvent),this.logger.debug({debug:"CardlessService: Cleaning up."},!0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static getJSONFile(e){return new Promise(function(t,r){fetch(e).then(function(e){throw e.error||t(e.json()),new Error(e.error)}).catch(function(e){r(e)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(221)),s=function(e){return e&&e.__esModule?e:{default:e}}(r(3));t.default=class{constructor(e,t,r,n,s){this.m5Config=s,this.paramsObj=n||{},this.COMMANDS=Object.freeze({REGISTER:"REGISTER",STATUS_UPDATE:"STATUSUPDATE",ACTION:"ACTION"}),this.ACTION_SUB_COMMANDS=Object.freeze({HARD_RESET:"HARD_RESET",SOFT_RESET:"SOFT_RESET",DEBUG:"DEBUG"}),this.severity={HEARTBEAT:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,COMMAND:999},this.reconnectInterval=500,this.attemptsToConnect=0,this.connected=!1,this.givenUp=!1,this.loggerSocket=null,this.loggerUrl=e,this.deviceId=t,this.logSeverity=void 0===r?0:r>=0?r:this.severity[r.toUpperCase()]||0,this.refreshTime=(new Date).getTime(),this.initialMemoryInfo=this.getMemoryInfo(),this.currentM5State="IDLE",this.remoteDebugEnabled=!1,this.remoteDebugEndTime=null,this.remoteDebugSessionTime=18e5,this.M5RefreshTime=2,this.connect(),window.onerror=((e,t,r,n,s)=>{if(e.toLowerCase().indexOf("script error")>-1)this.error("Unhandled Script Error: See Browser Console for Detail.");else{const a=["Message: "+e,"URL: "+t,"Line: "+r,"Column: "+n,"Error object: "+JSON.stringify(s)].join(" - ");this.error(a)}return!1})}getMemoryInfo(){var e=null,t=window.performance.memory;return t&&(e={jsHeapSizeLimit:t.jsHeapSizeLimit||null,totalJSHeapSize:t.totalJSHeapSize||null,usedJSHeapSize:t.usedJSHeapSize||null}),e}sendStatusUpdateCommand(e){this.currentM5State=e;let t={command:"STATUSUPDATE",commandData:{currentState:e||null,initialMemoryInfo:this.initialMemoryInfo,currentMemoryInfo:this.getMemoryInfo()}};this.command(t)}sendRegistrationCommand(){let e={command:"REGISTER",commandData:{location:this.paramsObj.location||null,machineNumber:this.paramsObj.machineNumber||null,uid:this.paramsObj.uid||null,boardVersion:this.paramsObj.boardVersion||null,actualWidth:this.paramsObj.actualWidth||null,actualHeight:this.paramsObj.actualHeight||null,displayWidth:this.paramsObj.displayWidth||null,displayHeight:this.paramsObj.displayHeight||null,screenType:this.paramsObj.screenType||null,screenDescription:this.paramsObj.screenDescription||null,mediaDisplayType:this.paramsObj.mediaDisplayType||null,mediaDisplayPosition:this.paramsObj.mediaDisplayPosition||null,xPosition:this.paramsObj.xPosition||null,yPosition:this.paramsObj.yPosition||null,contentWidth:this.paramsObj.contentWidth||null,contentHeight:this.paramsObj.contentHeight||null,mediaDisplayWidth:this.paramsObj.mediaDisplayWidth||null,touchScreenCapable:this.paramsObj.touchScreenCapable||null,audioCapable:this.paramsObj.audioCapable||null,fullscreenCapable:this.paramsObj.fullscreenCapable||null,bannerPosition:this.paramsObj.bannerPosition||null,bannerHeight:this.paramsObj.bannerHeight||null,debug:this.paramsObj.debug||null,refreshTime:this.refreshTime}};this.command(e)}connect(){this.attemptsToConnect++,n.debug(`logger: connection attempt ${this.attemptsToConnect}`);try{this.loggerSocket=new WebSocket(this.loggerUrl),this.loggerSocket.onopen=(()=>{this.attemptsToConnect=0,this.connected=!0,this.givenUp=!1,this.sendRegistrationCommand(),this.sendStatusUpdateCommand(this.currentM5State)}),this.loggerSocket.onclose=(e=>{n.debug(e),this.reconnect()}),this.loggerSocket.onerror=(e=>{n.debug(e)}),this.loggerSocket.onmessage=(e=>{this.handleNewMessage(e)})}catch(e){this.givenUp=!0,n.error(e),n.error("Cannot connect to supplied loggerUrl, logging to console")}}handleNewMessage(e){if(e&&e.data){var t=JSON.parse(e.data);t&&t.command&&t.command===this.COMMANDS.ACTION&&t.commandData&&t.commandData.commandSubtype&&(t.commandData.commandSubtype===this.ACTION_SUB_COMMANDS.SOFT_RESET?this.handleSoftReset(t.commandData.commandSubtypeData):t.commandData.commandSubtype===this.ACTION_SUB_COMMANDS.HARD_RESET?this.handleHardReset(t.commandData.commandSubtypeData):t.commandData.commandSubtype===this.ACTION_SUB_COMMANDS.DEBUG&&this.handleDebugCommand(t.commandData.commandSubtypeData))}else this.error("logger: handleNewMessage - Failed to handle command from the M5 Server"+JSON.stringify(e))}handleSoftReset(e){let t=(Math.floor(Math.random()*(e-1+1))+1)*this.M5RefreshTime;this.info("logger: ******Soft Reset Initiated from M5 Server, About to restart in "+t+" secs"),setTimeout(function(){window.location.reload(!0)},1e3*t)}handleHardReset(e){let t=(Math.floor(Math.random()*(e-1+1))+1)*this.M5RefreshTime;this.info("logger: ******Hard Reset Initiated from M5 Server, About to stop pings to Adv in "+t+" secs"),setTimeout(function(){s.default.publish("serverForceStopHeartBeat",e)},1e3*t)}handleDebugCommand(e){this.info("logger: ******Debug Initiated from Server for next 30 mins"),this.remoteDebugEnabled=!0,this.remoteDebugEndTime=(new Date).getTime()+this.remoteDebugSessionTime}reconnect(){10===this.attemptsToConnect&&(this.givenUp=!0,n.error("Couldn't connect to logger after 10 tries, giving up. Logging to console.")),setTimeout(()=>{n.debug("logger: reconnecting..."),this.connect()},this.reconnectInterval)}trySend(e){this.connected?this.loggerSocket.send(e):this.givenUp?n.debug("Logger message: "+JSON.stringify(e)):setTimeout(()=>{this.trySend(e)},500)}log(e,t,r,n){var s=n&&this.m5Config&&this.m5Config.diagnosticTargets&&this.m5Config.diagnosticTargets.includes(n);if(this.remoteDebugEnabled)(new Date).getTime()>=this.remoteDebugEndTime&&(this.remoteDebugEnabled=!1,this.info("logger: ******Remote Debug session ended"));else if(r<this.logSeverity&&!s)return;const a={time:new Date,message:e,severity:this.getTextForSeverity(r),source:"NgxComm-"+this.deviceId,received:!!t};this.trySend(JSON.stringify(a))}heartbeat(e,t){this.log(e,t,this.severity.HEARTBEAT)}debug(e,t,r){this.log(e,t,this.severity.DEBUG,r)}info(e,t,r){this.log(e,t,this.severity.INFO,r)}warn(e,t,r){this.log(e,t,this.severity.WARN,r)}error(e,t,r){this.log(e,t,this.severity.ERROR,r)}command(e,t){this.log(e,t,this.severity.COMMAND)}getTextForSeverity(e){let t;switch(e){case this.severity.HEARTBEAT:t="heartbeat";break;case this.severity.DEBUG:t="debug";break;case this.severity.INFO:t="info";break;case this.severity.WARN:t="warn";break;case this.severity.ERROR:t="error";break;case this.severity.COMMAND:t="command";break;default:t="info"}return t}}},function(e,t,r){var n,s;!function(a,i){"use strict";void 0===(s="function"==typeof(n=function(){var e=function(){},t="undefined",r=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function s(t,n){for(var s=0;s<r.length;s++){var a=r[s];this[a]=s<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function a(r,a,i){return function(r){"debug"===r&&(r="log");return typeof console!==t&&(void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):e)}(r)||function(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}.apply(this,arguments)}function i(e,n,i){var o,l=this,c="loglevel";function u(){var e;if(typeof window!==t){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}}e&&(c+=":"+e),l.name=e,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=i||a,l.getLevel=function(){return o},l.setLevel=function(n,a){if("string"==typeof n&&void 0!==l.levels[n.toUpperCase()]&&(n=l.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==a&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window===t)return;try{return void(window.localStorage[c]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}(n),s.call(l,n,e),typeof console===t&&n<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){u()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var d=u();null==d&&(d=null==n?"WARN":n),l.setLevel(d,!1)}var o=new i,l={};o.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new i(e,o.getLevel(),o.methodFactory)),t};var c=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=c),o},o.getLoggers=function(){return l},o})?n.call(t,r,t,e):n)||(e.exports=s)}()},function(e,t,r){"use strict";String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(t||" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const r=Object(e);for(let e=1;e<arguments.length;e++){const t=arguments[e];if(null!=t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},writable:!0,configurable:!0}),Object.prototype.watchProperty||(Object.defineProperty(Object.prototype,"unwatchProperty",{enumerable:!1,configurable:!0,value:function(e){if("__watchers__"in this){if(this.__watchers__.hasOwnProperty(e)){delete this.__watchers__[e];var t=this[e];delete this[e],this[e]=t}0==Object.keys(this.__watchers__).length&&delete this.__watchers__}}}),Object.defineProperty(Object.prototype,"unwatchAllProperties",{enumerable:!1,configurable:!0,value:function(){var e=this;this.__watchers__&&Object.keys(this.__watchers__).forEach(function(t){e.unwatchProperty(t)})}}),Object.defineProperty(Object.prototype,"watchProperty",{enumerable:!1,configurable:!0,value:function(e,t,r={beforeChange:void 0,immediate:!1}){let n=r&&r.beforeChange,s=r&&r.immediate,a=this;a.__watchers__=a.__watchers__||{};let i={didChange:t,beforeChange:n};var o=[];if(Array.isArray(e))return e.forEach(function(r){var n=[];o.push(a.watchProperty(r,function(){var r=e.map(function(e){return a[e]});t.call(this,r,n,e)},{beforeChange:function(){n=e.map(function(e){return a[e]})},immediate:s}))}),function(){o.forEach(function(e){"function"==typeof e&&e()})};a.__watchers__[e]=a.__watchers__[e]||[],a.__watchers__[e].push(i);var l=a[e];return delete a[e]&&Object.defineProperty(a,e,{get:function(){return l},set:function(t){if(l==t)return t;let r=l;return a.__watchers__[e].forEach(function(n){let s=n.beforeChange;s&&s.call(a,t,r,e)}),l=t,a.__watchers__[e].forEach(function(n){let s=n.didChange;s&&s.call(a,t,r,e)}),t},enumerable:!0,configurable:!0}),s&&(n&&n.call(a,l,l,e),t&&t.call(a,l,l,e)),function(){if("__watchers__"in a&&e in a.__watchers__){let r=a.__watchers__[e].indexOf(i);if(-1!=r&&a.__watchers__[e].splice(r,1),0==a.__watchers__[e].length){var t=a[e];delete a[e],delete a.__watchers__[e],a[e]=t}0==Object.keys(a.__watchers__).length&&delete a.__watchers__}}}}))}])});
//# sourceMappingURL=ShellCoreLogic.bundle.js.map